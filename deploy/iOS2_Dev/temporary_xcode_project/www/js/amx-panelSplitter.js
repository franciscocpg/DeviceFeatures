(function(a){var b=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"panelItem");b.prototype.render=function(a){var b=document.createElement("div");b.setAttribute("title",this._ensureValidString(a.getAttribute("shortDesc"),""));for(var a=a.renderDescendants(),e=0,g=a.length;e<g;++e)b.appendChild(a[e]);adf.mf.internal.amx.addCSSClassName(b,"current");return b};b.prototype._ensureValidString=function(a,b){return null==a?b:a};b=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,
"panelSplitter");b.prototype.createChildrenNodes=function(a){var b=a.getTag();if(void 0===a.getAttribute("selectedItem")&&b.isAttributeElBound("selectedItem"))return a.setState(adf.mf.api.amx.AmxNodeStates.INITIAL),!0;var e=this._getSelectedTag(a),g=null==e?null:e.getAttribute("id");a.setVolatileState({resolvedSelectedItemId:g});null!=e&&a.addChild(e.buildAmxNode(a,null));b=b.getChildFacetTag("navigator");if(null!=b){b=b.getChildrenUITags();for(i=0,size=b.length;i<size;++i)a.addChild(b[i].buildAmxNode(a,
null),"navigator")}return!0};b.prototype.updateChildren=function(a,b){if(b.hasChanged("selectedItem")){var e=b.getSize(),g=a.getVolatileState().resolvedSelectedItemId;if(a.getAttribute("selectedItem")!=g){if(g=a.getChildren(),0<g.length&&a.removeChild(g[0]),g=this._getSelectedTag(a),a.addChild(g.buildAmxNode(a,null)),a.setVolatileState({resolvedSelectedItemId:g.getAttribute("id")}),1==e)return adf.mf.api.amx.AmxNodeChangeResult.REFRESH}else if(1==e)return adf.mf.api.amx.AmxNodeChangeResult.NONE}return adf.mf.api.amx.AmxNodeChangeResult.RERENDER};
b.prototype.render=function(a){try{var b=this._getOrientation(),e=this._getPosition(a),g=document.createElement("div");g.setAttribute("title",this._ensureValidString(a.getAttribute("shortDesc"),""));g.setAttribute("data-orientation",b);var h=document.createElement("div");h.className="amx-panelSplitter_inner";g.appendChild(h);var k=document.createElement("div");k.className="amx-panelSplitter_contentContainer";adf.mf.api.amx.enableScrolling(k);k.setAttribute("role","contentinfo");var m=document.createElement("div");
m.className="amx-panelSplitter_items";k.appendChild(m);0<a.getRenderedChildren("navigator").length?(b="landscape"==b,this._createNavigation(b,a,h,g,e),b?(adf.mf.internal.amx.addCSSClassName(k,"amx-landscape"),"rtl"==document.documentElement.dir?k.style.right=e.landscape:k.style.left=e.landscape):adf.mf.internal.amx.addCSSClassName(k,"amx-portrait")):adf.mf.internal.amx.addCSSClassName(k,"amx-noNavigation");h.appendChild(k);var n=a.getRenderedChildren(),o=0<n.length?n[0]:null;if(null!=o){var s=o.render();
null!=s&&(adf.mf.internal.amx.addCSSClassName(s,"current"),m.appendChild(s))}return g}catch(t){console.error(t)}};b.prototype.postDisplay=function(a,b){try{var e=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_navLandscape","amx-panelSplitter_navPortrait","amx-panelSplitter_contentContainer"]),g=e[0],h=e[1],k=e[2],m=b.getClientState();null!=m&&(this._restoreScrollPositions(g,m.navLandscape),this._restoreScrollPositions(h,m.navPortrait),this._restoreScrollPositions(k,m.content));0<b.getChildren("navigator").length&&
(e={rootElement:a,peer:this,amxNode:b},adf.mf.api.amx.addBubbleEventListener(window,"resize",this._handleResize,e),adf.mf.api.amx.addBubbleEventListener(a,"resize",this._handleResize,e))}catch(n){console.error(n)}};b.prototype.refresh=function(a){try{var b=a.getRenderedChildren();if(0!=b.length){var e=document.getElementById(a.getId()),g=this._getChildrenByClassNames(e.firstChild,["amx-panelSplitter_contentContainer"])[0].firstChild;adf.mf.internal.amx.getCSSClassNameIndex(e.className,"changingSelectedItem");
adf.mf.internal.amx.addCSSClassName(e,"changingSelectedItem");var h=this._getChildrenByClassNames(g,["current"])[0],k=b[0],m=k.render();if(null!=m){var n=null==m?null:m.getAttribute("id");a.setVolatileState({resolvedSelectedItemId:n});adf.mf.internal.amx.addCSSClassName(m,"new");g.appendChild(m);1==m.childNodes.length&&adf.mf.api.amx.triggerBubbleEventListener(m.childNodes[0],"resize")}if("portrait"==e.getAttribute("data-orientation"))try{var o=this._getPosition(a);this._undiscloseNavPortrait(e,o)}catch(s){console.error(s)}var t=
this._getChildrenByClassNames(g,["new"])[0],u=this._getTransitionParams(a,k);"none"==u&&(u=null);null!=u?(null!=this._pageTransitionCancelFunction&&this._pageTransitionCancelFunction(),adf.mf.internal.amx.pauseUIChanges(),h.style.display="block",t.style.display="block",adf.mf.internal.amx.removeCSSClassName(t,"new"),adf.mf.internal.amx.addCSSClassName(t,"current"),a={parentFlipAllowed:!0,dimensionsFromParent:!0},a.finishedFunction=adf.shared.impl.animationUtils.getProxyFunction(this,this._animationFinished),
a.callbackParams=[t,g,e],a.animationEnabled=!0,a.isRtl="rtl"==document.documentElement.dir,a.fineLogger=function(a){adf.mf.log.AMX.logp(adf.mf.log.level.FINEST,"adf.mf.internal.amx.panelSplitter","refresh",a)},this._pageTransitionCancelFunction=adf.shared.impl.animationUtils.transition(u,h,t,a)):(adf.mf.internal.amx.removeCSSClassName(t,"new"),adf.mf.internal.amx.addCSSClassName(t,"current"),this._removeAllButThisOrTheOnlyPanelItem(t,g),adf.mf.internal.amx.removeCSSClassName(e,"changingSelectedItem"))}}catch(v){console.error(v)}};
b.prototype.preDestroy=function(a,b){this._storeScrollPositions(a.jquery?a.get(0):a,b)};b.prototype._animationFinished=function(a){var b=a[2];this._removeAllButThisOrTheOnlyPanelItem(a[0],a[1]);adf.mf.internal.amx.removeCSSClassName(b,"changingSelectedItem");this._pageTransitionCancelFunction=null;adf.mf.internal.amx.resumeUIChanges()};b.prototype._getSelectedTag=function(a){for(var b=a.getTag(),a=a.getAttribute("selectedItem"),b=b.getChildren(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"panelItem"),e=null,
g=0,h=b.length;g<h;++g){var k=b[g];if(null==a)return k;0==g&&(e=k);if(k.getAttribute("id")==a)return k}return e};b.prototype._removeAllButThisOrTheOnlyPanelItem=function(a,b){for(var e=b.childNodes,g=e.length;0<=g&&1<b.childNodes.length;--g){var h=e[g];h!=a&&adf.mf.api.amx.removeDomNode(h)}};b.prototype._getChildrenByClassNames=function(a,b){for(var e=a.childNodes,g=e.length,h=b.length,k=[],m=0,n=0;n<g&&m<h;++n)for(var o=e[n],s=0;s<h;++s)if(-1!=adf.mf.internal.amx.getCSSClassNameIndex(o.className,
b[s])){k[s]=o;++m;break}return k};b.prototype._storeScrollPositions=function(a,b){var e=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_navLandscape","amx-panelSplitter_navPortrait","amx-panelSplitter_contentContainer"]),g=e[1],h=e[2],e={navLandscape:this._getScrollPositions(e[0]),navPortrait:this._getScrollPositions(g),content:this._getScrollPositions(h)};b.setClientState(e)};b.prototype._getScrollPositions=function(a){if(a){var b=a.scrollLeft,a=a.scrollTop;if(null!=b&&null!=a)return{scrollLeft:b,
scrollTop:a}}return null};b.prototype._restoreScrollPositions=function(a,b){if(a&&b){var e=b.scrollLeft;null!=e&&(a.scrollLeft=e);e=b.scrollTop;null!=e&&(a.scrollTop=e)}};b.prototype._getTransitionParams=function(a,b){var e="none";null!=b.getAttribute("animation")?e=b.getAttribute("animation"):null!=a.getAttribute("animation")&&(e=a.getAttribute("animation"));return e};b.prototype._getAttribute=function(a,b){return null==a||""==a||adf.mf.environment.profile.dtMode&&"#"==a.charAt(0)?b:a};b.prototype._getPosition=
function(a){return{landscape:this._getAttribute(a.getAttribute("position"),"31.25%"),portrait:"41.67%"}};b.prototype._getOrientation=function(){return document.body.offsetWidth<document.body.offsetHeight?"portrait":"landscape"};b.prototype._createNavigation=function(a,b,e,g,h){var k=document.createElement("div");k.className="amx-panelSplitter_navLandscape";adf.mf.api.amx.enableScrolling(k);k.style.width=h.landscape;k.setAttribute("role","navigation");var m=document.createElement("div");m.className=
"amx-panelSplitter_screenPortrait";m.style.display="none";var n=document.createElement("div");n.setAttribute("role","button");n.setAttribute("tabindex","0");n.setAttribute("aria-expanded","false");var o=adf.mf.resource.getInfoString("AMXInfoBundle","amx_panelSplitter_NAVIGATOR_TOGGLE_BUTTON"),o=this._ensureValidString(b.getAttribute("navigatorTitle"),o);n.setAttribute("title",o);n.className="amx-panelSplitter_button";e.appendChild(n);e.appendChild(m);e.appendChild(k);g={rootElement:g,amxNode:b,peer:this};
adf.mf.api.amx.addBubbleEventListener(m,"tap",this._handleNavPortraitToggle,g);adf.mf.api.amx.addBubbleEventListener(n,"tap",this._handleNavPortraitToggle,g);m=document.createElement("div");g=b.getId()+"::navp";m.setAttribute("id",g);n.setAttribute("aria-owns",g);m.setAttribute("aria-hidden","true");m.className="amx-panelSplitter_navPortrait";adf.mf.api.amx.enableScrolling(m);e.appendChild(m);m.style.width=h.portrait;m.setAttribute("role","navigation");a?(m.style.opacity="0",m.style.display="none",
m.style.zIndex="0",n.style.display="none"):(k.style.opacity="0",k.style.display="none","rtl"==document.documentElement.dir?m.style.right="-"+h.portrait:m.style.left="-"+h.portrait);a=a?k:m;b=b.getRenderedChildren("navigator");e=0;for(h=b.length;e<h;++e)(k=b[e].render())&&a.appendChild(k)};b.prototype._handleNavPortraitToggle=function(a){try{a.preventDefault();a.stopPropagation();var b=a.data.rootElement,e=a.data.peer,g=e._getPosition(a.data.amxNode),h=e._getChildrenByClassNames(b.firstChild,["amx-panelSplitter_button"])[0];
-1!=adf.mf.internal.amx.getCSSClassNameIndex(h.className,"disclosed")?e._undiscloseNavPortrait(b,g):e._discloseNavPortrait(b,g)}catch(k){console.error(k)}};b.prototype._discloseNavPortrait=function(a,b){var e=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_screenPortrait","amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_contentContainer"]),g=e[0],h=e[1],k=e[2],e=e[3];g&&h&&k&&(g.style.display="block",adf.mf.internal.amx.addCSSClassName(h,"no-animate"),h.style.opacity=
"1",h.style.display="block",h.style.zIndex="1002",adf.mf.internal.amx.removeCSSClassName(h,"no-animate"),(g="rtl"==document.documentElement.dir)?h.style.right="0px":h.style.left="0px",g?k.style.right=b.portrait:k.style.left=b.portrait,adf.mf.internal.amx.addCSSClassName(k,"disclosed"),h.setAttribute("aria-hidden","false"),k.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","true"))};b.prototype._undiscloseNavPortrait=function(a,b){var e=this._getChildrenByClassNames(a.firstChild,["amx-panelSplitter_screenPortrait",
"amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_contentContainer"]),g=e[0],h=e[1],k=e[2],e=e[3];g&&h&&k&&(g.style.display="none",(g="rtl"==document.documentElement.dir)?h.style.right="-"+b.portrait:h.style.left="-"+b.portrait,g?k.style.right="0px":k.style.left="0px",adf.mf.internal.amx.removeCSSClassName(k,"disclosed"),h.setAttribute("aria-hidden","true"),k.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","false"))};b.prototype._ensureValidString=function(a,
b){return null==a?b:a};b.prototype._handleResize=function(b){var d=b.data.rootElement,e=b.data.amxNode,g=b.data.peer,h=d.firstChild;if(null==h)adf.mf.api.amx.removeBubbleEventListener(window,"resize",g._handleResize,b.data);else{var k=g._getChildrenByClassNames(h,["amx-panelSplitter_navPortrait","amx-panelSplitter_button","amx-panelSplitter_screenPortrait","amx-panelSplitter_navLandscape","amx-panelSplitter_contentContainer"]),b=k[0],h=k[1],m=k[2],n=k[3],k=k[4],o=g._getOrientation(),e=g._getPosition(e),
g="rtl"==document.documentElement.dir;b&&h&&m&&n&&"portrait"==d.getAttribute("data-orientation")&&"landscape"==o?(adf.mf.internal.amx.addCSSClassName(b,"no-animate"),g?b.style.right="-"+e.portrait:b.style.left="-"+e.portrait,b.style.opacity="0",b.style.display="none",b.style.zIndex="0",adf.mf.internal.amx.removeCSSClassName(b,"no-animate"),adf.mf.internal.amx.addCSSClassName(h,"no-animate"),g?h.style.right="0px":h.style.left="0px",h.style.display="none",adf.mf.internal.amx.removeCSSClassName(h,"no-animate"),
adf.mf.internal.amx.removeCSSClassName(h,"disclosed"),m.style.display="none",a(b).children().appendTo(a(n)),n.style.opacity="1",n.style.display="block",g?k.style.right=e.landscape:k.style.left=e.landscape,d.setAttribute("data-orientation","landscape"),adf.mf.internal.amx.removeCSSClassName(k,"amx-portrait"),adf.mf.internal.amx.addCSSClassName(k,"amx-landscape"),k.setAttribute("aria-hidden","false")):"landscape"==d.getAttribute("data-orientation")&&"portrait"==o&&(g?b.style.right="-"+e.portrait:b.style.left=
"-"+e.portrait,b.style.zIndex="1002",g?h.style.right="0px":h.style.left="0px",n.style.opacity="0",n.style.display="none",h.style.display="block",g?k.style.right="":k.style.left="",a(n).children().appendTo(a(b)),d.setAttribute("data-orientation","portrait"),adf.mf.internal.amx.removeCSSClassName(k,"amx-landscape"),adf.mf.internal.amx.addCSSClassName(k,"amx-portrait"),b.setAttribute("aria-hidden","true"),h.setAttribute("aria-expanded","false"),k.setAttribute("aria-hidden","false"))}}})(jQuery);