(function(){function a(a,b){var c=a.getChildren(g,b);return 0==c.length?void 0:c[0].getTextContent()}function b(a){this.Init(a)}function c(a){this.Init(a)}function d(a){this.Init(a)}function e(a){this.Init(a)}adf.mf.internal.amx.fragment={};var g="http://xmlns.oracle.com/adf/mf/amx/fragment";adf.mf.internal.amx.fragment.FRAGMENT_XML_NS=g;adf.mf.internal.amx.fragment.findFragmentAmxNode=function(a){a=a.findAncestorByTag(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"fragmentDef");return null==a?null:a.getParent()};
adf.mf.internal.amx.fragment.AttributeMetaDataHolder=b;adf.mf.api.AdfObject.createSubclass(adf.mf.internal.amx.fragment.AttributeMetaDataHolder,adf.mf.api.AdfObject,"adf.mf.internal.amx.fragment.AttributeMetaDataHolder");b.prototype.Init=function(a){b.superclass.Init.call(this);this._attributes={};this._attributeLists={};for(var c=a.getChildren(g,"attribute"),m=0,n=c.length;m<n;m++){var o=new d(c[m]);this._attributes[o.name]=o}a=a.getChildren(g,"attribute-list");c=0;for(m=a.length;c<m;c++)n=new e(a[c]),
this._attributeLists[n.name]=n};b.prototype.getAttributeMetaData=function(a){return this._attributes[a]};b.prototype.getAttributeListMetaData=function(a){return this._attributeLists[a]};b.prototype.setupContext=function(a){var b={},c,d,e={},g=[],t,u=!1,v;v=null;var w=!a.getAttribute("_attrListsValidated");a instanceof adf.mf.api.amx.AmxNode?(c=a,d=c.__getTagInstances(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"attribute"),w&&(v=c.__getTagInstances(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"attributeList"),c.setAttributeResolvedValue("_attrListsValidated",
!0))):(c=a.getParentAmxNode(),d=a.getChildren(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"attribute"),w&&(v=a.getChildren(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"attributeList"),a.setAttribute("_attrListsValidated",!0)));if(w&&v){a=0;for(w=v.length;a<w;++a){var z=v[a].getAttribute("name");if(null==this.getAttributeListMetaData(z))throw Error(adf.mf.resource.getInfoString("AMXErrorBundle","ERROR_NO_ATTRIBUTE_LIST_DEFINED",z));}}a=0;for(w=d.length;a<w;++a){t=d[a];var A=t.getAttribute("name"),z=t.getAttribute("value"),
C=null!==z;b[A]=!0;v=this.getAttributeMetaData(A);if(null==v)throw Error(adf.mf.resource.getInfoString("AMXErrorBundle","ERROR_FRAGMENT_ATTRIBUTE_NOT_DEFINED",A));v.validateTagInstance(t);t=t.getAttributeExpression("value");!1==C&&void 0!==v.defaultValue&&(adf.mf.api.amx.AmxTag.__isELExpression(v.defaultValue)?t=adf.mf.api.amx.AmxNode.__performElSubstitutions(v.defaultValue):z=v.defaultValue);null!=t?(e[A]=t,u=!0):(g.push(A),adf.mf.api.pushVariable(A,z))}for(A in this._attributes)b[A]||(v=this._attributes[A],
v.validateTagInstance(null),void 0===v.defaultValue?(g.push(A),adf.mf.api.pushVariable(A,adf.mf.api.OptionalFragmentArgument)):adf.mf.api.amx.AmxTag.__isELExpression(v.defaultValue)?(e[A]=adf.mf.api.amx.AmxNode.__performElSubstitutions(v.defaultValue),u=!0):(g.push(A),adf.mf.api.pushVariable(A,v.defaultValue)));u&&c.__pushElReplacements(e);return{hasElReplacements:u,elReplacements:e,variableNames:g,amxNode:c}};b.prototype.tearDownContext=function(a){a.hasElReplacements&&a.amxNode.__popElReplacements();
for(var a=a.variableNames,b=0,c=a.length;b<c;++b)adf.mf.api.popVariable(a[b])};adf.mf.internal.amx.fragment.FragmentMetaData=c;adf.mf.api.AdfObject.createSubclass(adf.mf.internal.amx.fragment.FragmentMetaData,adf.mf.internal.amx.fragment.AttributeMetaDataHolder,"adf.mf.internal.amx.fragment.FragmentMetaData");c.prototype.Init=function(b){c.superclass.Init.call(this,b);this._facets=[];this._popups={};for(var d=b.getChildren(g,"facet"),e=0,n=d.length;e<n;++e)this._facets[a(d[e],"facet-name")]=!0;b=
b.getChildren(g,"popup");d=0;for(e=b.length;d<e;++d){var o=b[d],n=a(o,"popup-id"),o=a(o,"ref");this._popups[n]=null==o?!0:o}};c.prototype.hasExportedPopup=function(a){return null!=this._popups[a]};c.prototype.getExportedPopupReference=function(a){a=this._popups[a];return!0===a?null:a};c.prototype.validateFacets=function(a){for(var a=a.getTag().getChildrenFacetTags(),b=0,c=a.length;b<c;++b){var d=a[b].getAttribute("name");if(!this._facets[d])throw Error(adf.mf.resource.getInfoString("AMXErrorBundle",
"ERROR_FRAGMENT_FACET_NOT_DEFINED",d));}};c.prototype.storeMetaData=function(a){a.setAttributeResolvedValue("_fragmentMetaData",this)};c.getMetaData=function(a){return a.getAttribute("_fragmentMetaData")};adf.mf.internal.amx.fragment.AttributeMetaData=d;adf.mf.api.AdfObject.createSubclass(adf.mf.internal.amx.fragment.AttributeMetaData,adf.mf.api.AdfObject,"adf.mf.internal.amx.fragment.AttributeMetaData");d.prototype.Init=function(b){d.superclass.Init.call(this);this.name=a(b,"attribute-name");this.required=
a(b,"required");this.defaultValue=a(b,"default-value")};d.prototype.validateTagInstance=function(a){if(!adf.mf.environment.profile.dtMode&&this.required&&void 0===this.defaultValue){var b=null!=a;b&&!a.getAttribute("_validated")&&(null==a.getAttribute("value")&&(b=!1),a.setAttribute("_validated",!0));if(!b)throw Error(adf.mf.resource.getInfoString("AMXErrorBundle","ERROR_FRAGMENT_REQUIRED_ATTRIBUTE_MISSING",this.name));}};adf.mf.internal.amx.fragment.AttributeListMetaData=e;adf.mf.api.AdfObject.createSubclass(adf.mf.internal.amx.fragment.AttributeListMetaData,
adf.mf.internal.amx.fragment.AttributeMetaDataHolder,"adf.mf.internal.amx.fragment.AttributeListMetaData");e.prototype.Init=function(b){e.superclass.Init.call(this,b);this.name=a(b,"name")}})();