var DvtAttrGroups=function(){};DvtObj.createSubclass(DvtAttrGroups,DvtObj,"DvtAttrGroups");DvtAttrGroups.prototype.get=function(){};var DvtDiscreteAttrGroups=function(){this._results=[]};DvtObj.createSubclass(DvtDiscreteAttrGroups,DvtAttrGroups,"DvtDiscreteAttrGroups");DvtDiscreteAttrGroups.prototype.add=function(a,b,c){this._results.push({group:a,groupLabel:b,params:c})};
DvtDiscreteAttrGroups.prototype.get=function(a){if(null===value)return null;for(var b=0;b<this._results.length;b++)if(this._results[b].group==a)return this._results[b].params;return null};DvtDiscreteAttrGroups.prototype.getMappingsArray=function(){return this._results.slice(0)};var DvtContinuousAttrGroups=function(a,b,c,d,e){this._minValue=a;this._maxValue=b;this._minLabel=c?c:this._minValue;this._maxLabel=d?d:this._maxValue;this._ramp=e;this._range=this._maxValue-this._minValue};
DvtObj.createSubclass(DvtContinuousAttrGroups,DvtAttrGroups,"DvtContinuousAttrGroups");DvtContinuousAttrGroups.prototype.get=function(a){if(isNaN(a)||null===a)return null;a=(a-this._minValue)/this._range;a=Math.max(Math.min(a,1),0);a*=this._ramp.length-1;if(a===Math.round(a))return this._ramp[a];var b=this._ramp[Math.floor(a)],c=this._ramp[Math.ceil(a)];return this._calcValue(b,c,a-Math.floor(a))};DvtContinuousAttrGroups.prototype.getRamp=function(){return this._ramp.slice(0)};
DvtContinuousAttrGroups.prototype.getMinLabel=function(){return this._minLabel};DvtContinuousAttrGroups.prototype.getMaxLabel=function(){return this._maxLabel};DvtContinuousAttrGroups.prototype._calcValue=function(a,b,c){return DvtColorUtils.interpolateColor(a,b,c)};var DvtLegendAttrGroupsRenderer=function(){};DvtObj.createSubclass(DvtLegendAttrGroupsRenderer,DvtObj,"DvtLegendAttrGroupsRenderer");DvtLegendAttrGroupsRenderer._LEGEND_MAX_HEIGHT=0.4;
DvtLegendAttrGroupsRenderer._CONTINUOUS_GROUP_GAP=1;DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_WIDTH=50;DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_HEIGHT=10;DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_GAP=5;DvtLegendAttrGroupsRenderer._LABEL_SIZE=11;DvtLegendAttrGroupsRenderer._LABEL_COLOR="#636363";DvtLegendAttrGroupsRenderer._LABEL_VALUE_COLOR="#333333";
DvtLegendAttrGroupsRenderer.renderAttrGroups=function(a,b,c,d,e,g,h){var k=null;g&&(g instanceof DvtContinuousAttrGroups?k=DvtLegendAttrGroupsRenderer._renderAttrGroupsContinuous(a,b,c,d,e,g,h):g instanceof DvtDiscreteAttrGroups&&(k=DvtLegendAttrGroupsRenderer._renderAttrGroupsDiscrete(a,b,c,d,e,g,h)));return k};
DvtLegendAttrGroupsRenderer._renderAttrGroupsContinuous=function(a,b,c,d,e,g,h){var k=DvtAgent.isRightToLeft(a),m=DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_HEIGHT/2+DvtLegendAttrGroupsRenderer._CONTINUOUS_GROUP_GAP,e=new DvtContainer(a);c.addChild(e);var c=g.getMinLabel(),n=new DvtOutputText(a,c,0,m);n.setCSSStyle(h.labelStyle);n.alignMiddle();e.addChild(n);var o=new DvtRect(a,0,DvtLegendAttrGroupsRenderer._CONTINUOUS_GROUP_GAP,DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_WIDTH,DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_HEIGHT),
s=k?g.getRamp().slice().reverse():g.getRamp();o.setFill(new DvtLinearGradientFill(0,s));h.borderColor&&o.setSolidStroke(h.borderColor);e.addChild(o);s=DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_WIDTH+DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_GAP;g=g.getMaxLabel();a=new DvtOutputText(a,g,0,m);a.setCSSStyle(h.labelStyle);a.alignMiddle();e.addChild(a);k?(h=a.measureDimensions().w+DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_GAP,o.setTranslateX(h),n.setX(h+s)):(h=n.measureDimensions().w+DvtLegendAttrGroupsRenderer._CONTINUOUS_ITEM_GAP,
o.setTranslateX(h),a.setX(h+s));b.associate(o,new DvtSimpleObjPeer(c+" - "+g));e.getDimensions().w>d&&(e.removeChild(n),e.removeChild(a),o.setTranslateX(0));return e};
DvtLegendAttrGroupsRenderer._renderAttrGroupsDiscrete=function(a,b,c,d,e,g,h){for(var b=[],g=g.getMappingsArray(),k=0;k<g.length;k++){var m=g[k];b.push({text:m.groupLabel,color:m.params.color,pattern:m.params.pattern,borderColor:h.borderColor})}b={sections:[{items:b}],orientation:"horizontal",layout:{outerGapWidth:0,outerGapHeight:0},textStyle:h.labelStyle.toString()};h=DvtLegend.newInstance(a);h.setId(null);c.addChild(h);c=h.getPreferredSize(b,d,e*DvtLegendAttrGroupsRenderer._LEGEND_MAX_HEIGHT);
h.render(b,d,c.h);d=h.getDimensions();a=new DvtRect(a,0,0,d.w,c.h);a.setInvisibleFill();h.addChildAt(a,0);return h};var DvtBreadcrumbsDrillEvent=function(a){this.Init(DvtBreadcrumbsDrillEvent.TYPE);this._id=a};DvtObj.createSubclass(DvtBreadcrumbsDrillEvent,DvtBaseComponentEvent,"DvtBreadcrumbsDrillEvent");DvtBreadcrumbsDrillEvent.TYPE="breadcrumbsDrill";DvtBreadcrumbsDrillEvent.prototype.getId=function(){return this._id};var DvtBreadcrumbs=function(a,b,c,d){this.Init(a,b,c,d)};
DvtObj.createSubclass(DvtBreadcrumbs,DvtContainer,"DvtBreadcrumbs");DvtBreadcrumbs.prototype.Init=function(a,b,c,d){DvtBreadcrumbs.superclass.Init.call(this,a);this.setOptions(d);this._eventHandler=new DvtBreadcrumbsEventManager(this,a,b,c);this._eventHandler.addListeners(this);this.setId("breadcrumbs1000"+Math.floor(1E9*Math.random()));this._curCrumbIdx=-1;this._crumbs=this._keyboardFocusRect=null};DvtBreadcrumbs.prototype.setOptions=function(a){this._options=DvtBreadcrumbsDefaults.calcOptions(a)};
DvtBreadcrumbs.prototype.render=function(a,b){this._data=a?DvtJSONUtils.clone(a):this._data;this.removeChildren();this.SetCrumbs(null);DvtBreadcrumbsRenderer.render(this,this,b)};DvtBreadcrumbs.prototype.__getData=function(){return this._data?this._data:{}};DvtBreadcrumbs.prototype.__getOptions=function(){return this._options};DvtBreadcrumbs.prototype.__getEventManager=function(){return this._eventHandler};
DvtBreadcrumbs.prototype.handleKeyboardEvent=function(a){var b=!0,c=a.keyCode;if(c==DvtKeyboardEvent.TAB){if(c=this._curCrumbIdx,this._curCrumbIdx=this._updateCrumbIndex(this._curCrumbIdx,!a.shiftKey),this._updateKeyboardFocusEffect(c,this._curCrumbIdx),0>this._curCrumbIdx||this._curCrumbIdx==this._data.items.length-1)b=!1}else c==DvtKeyboardEvent.ENTER&&(c=this._eventHandler.GenerateMouseEventFromKeyboardEvent(a,this.getCtx().getStage(),0,0),c.target=this.getCrumb(this._curCrumbIdx),this._eventHandler.OnClick(c));
b&&a.preventDefault();return b};DvtBreadcrumbs.prototype.hideKeyboardFocusEffect=function(){var a=this._curCrumbIdx;this._curCrumbIdx=-1;this._updateKeyboardFocusEffect(a,this._curCrumbIdx)};DvtBreadcrumbs.prototype._updateCrumbIndex=function(a,b){return b?0>a||a>=this._data.items.length-1?0:++a:0>a||a>=this._data.items.length-1?this._data.items.length-2:--a};
DvtBreadcrumbs.prototype._updateKeyboardFocusEffect=function(a,b){var c=this._keyboardFocusRect,d=null,e=this.getCrumb(b);if(e){var g=this._eventHandler.GetLogicalObject(e);g&&g.isDrillable&&g.isDrillable()?(d=this.getCtx(),g=e.getDimensions(),e=e.getMatrix(),this._keyboardFocusRect=d=new DvtKeyboardFocusEffect(d,this,g,e)):this._keyboardFocusRect=null}c&&c.hide();d&&d.show()};DvtBreadcrumbs.prototype.getCrumb=function(a){var b=this.GetCrumbs();return 0>a||!b||a>=b.length?null:b[a]};
DvtBreadcrumbs.prototype.SetCrumbs=function(a){this._crumbs=a};DvtBreadcrumbs.prototype.GetCrumbs=function(){return this._crumbs};var DvtBreadcrumbsDefaults={};DvtObj.createSubclass(DvtBreadcrumbsDefaults,DvtObj,"DvtBreadcrumbsDefaults");DvtBreadcrumbsDefaults.VERSION_1={labelStyle:"font-size: 11px; color: #003286;",disabledLabelStyle:"font-size: 11px;",__labelGap:2,__labelSeparator:">"};
DvtBreadcrumbsDefaults.calcOptions=function(a){var b=DvtBreadcrumbsDefaults._getDefaults(a);return a?DvtJSONUtils.merge(a,b):b};DvtBreadcrumbsDefaults._getDefaults=function(){return DvtJSONUtils.clone(DvtBreadcrumbsDefaults.VERSION_1)};DvtBreadcrumbsDefaults.getGapSize=function(a,b){return Math.ceil(b*a.layout.gapRatio)};var DvtBreadcrumbsEventManager=function(a,b,c,d){this.Init(b,c,d);this._breadcrumbs=a};DvtObj.createSubclass(DvtBreadcrumbsEventManager,DvtEventManager,"DvtBreadcrumbsEventManager");
DvtBreadcrumbsEventManager.prototype.OnClick=function(a){DvtBreadcrumbsEventManager.superclass.OnClick.call(this,a);this._processBreadcrumbs(this.GetLogicalObject(a.target))};DvtBreadcrumbsEventManager.prototype.HandleTouchClickInternal=function(a){this._processBreadcrumbs(this.GetLogicalObject(a.target))};DvtBreadcrumbsEventManager.prototype._processBreadcrumbs=function(a){a&&a instanceof DvtBreadcrumbsPeer&&a.isDrillable()&&this.FireEvent(new DvtBreadcrumbsDrillEvent(a.getId()),this._breadcrumbs)};
var DvtBreadcrumbsPeer=function(a,b){this.Init(b);this._id=a;this._bDrillable=!1};DvtObj.createSubclass(DvtBreadcrumbsPeer,DvtSimpleObjPeer,"DvtBreadcrumbsPeer");DvtBreadcrumbsPeer.prototype.getId=function(){return this._id};DvtBreadcrumbsPeer.prototype.isDrillable=function(){return this._bDrillable};DvtBreadcrumbsPeer.prototype.setDrillable=function(a){this._bDrillable=a};var DvtBreadcrumbsRenderer={};DvtObj.createSubclass(DvtBreadcrumbsRenderer,DvtObj,"DvtBreadcrumbsRenderer");
DvtBreadcrumbsRenderer._TOUCH_BUFFER=3;
DvtBreadcrumbsRenderer.render=function(a,b,c){for(var d=a.getCtx(),e=a.__getData().items?a.__getData().items:[],g=a.__getOptions(),h=a.__getEventManager(),k=[],m=[],n=0;n<e.length;n++){var o=e[n];if(o){var s=DvtBreadcrumbsRenderer._createLabel(d,o.text?o.text:"",g,n<e.length-1);k.push(s);o=new DvtBreadcrumbsPeer(o.id);h.associate(s,o);m.push(o);n<e.length-1&&(s.setCursor("pointer"),o.setDrillable(!0))}}a.SetCrumbs(k);DvtAgent.isRightToLeft(d)?DvtBreadcrumbsRenderer._positionLabelsBidi(a,b,c,k,m):
DvtBreadcrumbsRenderer._positionLabels(a,b,c,k,m)};
DvtBreadcrumbsRenderer._createButtonState=function(a,b,c){b=new DvtOutputText(a,b,0,0);b.setMouseEnabled(!1);b.setCSSStyle(c);var d=c.getPadding(DvtCSSStyle.PADDING_TOP),e=c.getPadding(DvtCSSStyle.PADDING_RIGHT),g=c.getPadding(DvtCSSStyle.PADDING_BOTTOM),h=c.getPadding(DvtCSSStyle.PADDING_LEFT),k=DvtDisplayableUtils.getDimensionsForced(a,b),a=new DvtRect(a,0,0,k.w+h+e,k.h+d+g);a.setInvisibleFill();a.setCSSStyle(c);b.setTranslate(h,d);a.addChild(b);return a};
DvtBreadcrumbsRenderer._createLabel=function(a,b,c,d){if(d&&(c.labelStyleOver||c.labelStyleDown))var e=new DvtCSSStyle(c.labelStyle),d=new DvtCSSStyle(c.labelStyleOver),c=new DvtCSSStyle(c.labelStyleDown),e=DvtBreadcrumbsRenderer._createButtonState(a,b,e),d=DvtBreadcrumbsRenderer._createButtonState(a,b,d),b=DvtBreadcrumbsRenderer._createButtonState(a,b,c),a=new DvtButton(a,e,d,b);else d=new DvtCSSStyle(d?c.labelStyle:c.disabledLabelStyle),d.getPadding(DvtCSSStyle.PADDING_LEFT)||d.getPadding(DvtCSSStyle.PADDING_RIGHT)||
d.getPadding(DvtCSSStyle.PADDING_TOP)||d.getPadding(DvtCSSStyle.PADDING_BOTTOM)?a=DvtBreadcrumbsRenderer._createButtonState(a,b,d):(a=new DvtOutputText(a,b,0,0),a.setCSSStyle(d));return a};DvtBreadcrumbsRenderer._getLabelTextString=function(a){if(a instanceof DvtButton)return a=a.upState.getChildAt(0),a.getTextString();a instanceof DvtRect&&(a=a.getChildAt(0));return a.getTextString()};
DvtBreadcrumbsRenderer._truncateLabels=function(a,b){if(a instanceof DvtButton){var c=a.upState.getChildAt(0);DvtTextUtils.fitText(c,Math.max(b-c.getTranslateX(),0),Infinity,c.getParent());c=a.overState.getChildAt(0);DvtTextUtils.fitText(c,Math.max(b-c.getTranslateX(),0),Infinity,c.getParent());c=a.downState.getChildAt(0);DvtTextUtils.fitText(c,Math.max(b-c.getTranslateX(),0),Infinity,c.getParent())}else a instanceof DvtRect?(c=a.getChildAt(0),DvtTextUtils.fitText(c,Math.max(b-c.getTranslateX(),0),
Infinity,c.getParent())):DvtTextUtils.fitText(a,b,Infinity,a.getParent())};
DvtBreadcrumbsRenderer._positionLabels=function(a,b,c,d,e){for(var g=a.__getOptions(),h=a.__getEventManager(),k=[],m=0,n=0;n<d.length;n++){b.addChild(d[n]);var o=d[n].getDimensions();k[n]=o;m=Math.max(o.h,m);b.removeChild(d[n])}for(var s=0,n=0;n<d.length;n++){b.addChild(d[n]);o=k[n];d[n].setTranslate(s,0.5*(m-o.h));if(DvtAgent.isTouchDevice()){var t=new DvtRect(b.getCtx(),-DvtBreadcrumbsRenderer._TOUCH_BUFFER,-DvtBreadcrumbsRenderer._TOUCH_BUFFER,o.w+2*DvtBreadcrumbsRenderer._TOUCH_BUFFER,o.h+2*DvtBreadcrumbsRenderer._TOUCH_BUFFER);
t.setInvisibleFill();d[n].addChild(t);n<e.length&&h.associate(t,e[n])}if(s+o.w>c){a=DvtBreadcrumbsRenderer._getLabelTextString(d[n]);DvtBreadcrumbsRenderer._truncateLabels(d[n],c-s);n<e.length?e[n].setTooltip(a):h.associate(d[n],new DvtSimpleObjPeer(a));break}else s+=o.w+g.__labelGap;if(n<d.length-1){o=DvtBreadcrumbsRenderer._newSeparator(a);b.addChild(o);t=o.getDimensions();o.setTranslate(s,0.5*(m-t.h));t=t.w;if(s+t>c){b.removeChild(o);break}s+=t+g.__labelGap}}};
DvtBreadcrumbsRenderer._positionLabelsBidi=function(a,b,c,d,e){for(var g=a.__getOptions(),h=a.__getEventManager(),k=0;k<d.length;k++){b.addChild(d[k]);var m=d[k].getDimensions();if(DvtAgent.isTouchDevice()){var n=new DvtRect(b.getCtx(),-DvtBreadcrumbsRenderer._TOUCH_BUFFER,-DvtBreadcrumbsRenderer._TOUCH_BUFFER,m.w+2*DvtBreadcrumbsRenderer._TOUCH_BUFFER,m.h+2*DvtBreadcrumbsRenderer._TOUCH_BUFFER);n.setInvisibleFill();d[k].addChild(n);k<e.length&&h.associate(n,e[k])}if(0>c-m.w){a=DvtBreadcrumbsRenderer._getLabelTextString(d[k]);
DvtBreadcrumbsRenderer._truncateLabels(d[k],c);d[k].setTranslateX(0);k<e.length?e[k].setTooltip(a):h.associate(d[k],new DvtSimpleObjPeer(a));break}else d[k].setTranslateX(c-m.w),c-=m.w+g.__labelGap;if(k<d.length-1)if(m=DvtBreadcrumbsRenderer._newSeparator(a),b.addChild(m),n=m.getDimensions().w,0>c-n){b.removeChild(m);break}else m.setTranslateX(c-n),c-=n+g.__labelGap}};
DvtBreadcrumbsRenderer._newSeparator=function(a){var b=a.__getOptions(),a=new DvtOutputText(a.getCtx(),b.__labelSeparator,0,0);a.setCSSStyle(new DvtCSSStyle(b.labelStyle));return a};var DvtPanelDrawerEvent=function(a,b){this.Init(DvtPanelDrawerEvent.TYPE);this._subtype=a;this._activePanel=b};DvtObj.createSubclass(DvtPanelDrawerEvent,DvtBaseComponentEvent,"DvtPanelDrawerEvent");DvtPanelDrawerEvent.TYPE="dvtPanelDrawerEvent";DvtPanelDrawerEvent.SUBTYPE_HIDE="hide";DvtPanelDrawerEvent.SUBTYPE_SHOW="show";
DvtPanelDrawerEvent.prototype.getSubType=function(){return this._subtype};DvtPanelDrawerEvent.prototype.getActivePanel=function(){return this._activePanel};var DvtPanelDrawer=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtPanelDrawer,DvtContainer,"DvtPanelDrawer");DvtPanelDrawer.DIR_LEFT="left";DvtPanelDrawer.DIR_RIGHT="right";DvtPanelDrawer.DOCK_TOP="top";DvtPanelDrawer.DOCK_BOTTOM="bottom";DvtPanelDrawer._FIRST_TAB_SPACING=15;DvtPanelDrawer._INTER_TAB_SPACING=0;
DvtPanelDrawer._TAB_SIZE=42;DvtPanelDrawer._TAB_CORNER_RADIUS=2;DvtPanelDrawer._BACKGROUND_COLOR="#ffffff";DvtPanelDrawer._BORDER_COLOR="#bbc7d0";DvtPanelDrawer._ANIM_DURATION=0.25;DvtPanelDrawer._CONTENT_PADDING=10;DvtPanelDrawer._SCROLLBAR_CONTENT_PADDING=10;DvtPanelDrawer._BACKGROUND_ALPHA=1;DvtPanelDrawer._BACKGROUND_ALPHA_DE_EMPHASIZED=1;DvtPanelDrawer._BACKGROUND_ALPHA_ROLLOVER=1;DvtPanelDrawer._BORDER_ALPHA=1;DvtPanelDrawer._BORDER_ALPHA_DE_EMPHASIZED=1;
DvtPanelDrawer._TAB_BACKGROUND_COLOR_INACTIVE="#dee4e7";DvtPanelDrawer._TAB_BORDER_COLOR_INACTIVE="#c1cede";DvtPanelDrawer._BOUNCE_WIDTH_FACTOR=1.25;DvtPanelDrawer._DEFAULT_SKIN="alta";DvtPanelDrawer.IMAGE_SIZE=24;DvtPanelDrawer.PANEL_LEGEND="legend";DvtPanelDrawer.PANEL_PALETTE="palette";DvtPanelDrawer.PANEL_SEARCH="search";DvtPanelDrawer.PANEL_OVERVIEW="overview";DvtPanelDrawer.PANEL_SEARCH_ICON_ENA="searchEna";DvtPanelDrawer.PANEL_SEARCH_ICON_OVR="searchOvr";
DvtPanelDrawer.PANEL_SEARCH_ICON_DWN="searchDwn";DvtPanelDrawer.PANEL_SEARCH_TIP="searchTip";DvtPanelDrawer.PANEL_PALETTE_ICON_ENA="paletteEna";DvtPanelDrawer.PANEL_PALETTE_ICON_OVR="paletteOvr";DvtPanelDrawer.PANEL_PALETTE_ICON_DWN="paletteDwn";DvtPanelDrawer.PANEL_PALETTE_TIP="paletteTip";DvtPanelDrawer.PANEL_LEGEND_ICON_ENA="legendEna";DvtPanelDrawer.PANEL_LEGEND_ICON_OVR="legendOvr";DvtPanelDrawer.PANEL_LEGEND_ICON_DWN="legendDwn";DvtPanelDrawer.PANEL_LEGEND_TIP="legendTip";
DvtPanelDrawer.PANEL_OVERVIEW_ICON_ENA="overviewEna";DvtPanelDrawer.PANEL_OVERVIEW_ICON_OVR="overviewOvr";DvtPanelDrawer.PANEL_OVERVIEW_ICON_DWN="overviewDwn";DvtPanelDrawer.PANEL_OVERVIEW_TIP="overviewTip";DvtPanelDrawer.BG_ALPHA="backgroundAlpha";DvtPanelDrawer.TAB_BG_COLOR_INACTIVE="tab-color-inactive";DvtPanelDrawer.TAB_BORDER_COLOR_INACTIVE="tab-border-color-inactive";
DvtPanelDrawer.prototype.Init=function(a,b,c,d){DvtPanelDrawer.superclass.Init.call(this,a,null,"panelDrawer"+d);this._sid=d;this._eventManager=new DvtPanelDrawerEventManager(a,b,c);this._eventManager.addListeners(this);this._eventManager.addRolloverType(DvtPanelDrawer);this._eventManager.associate(this,this);this._callback=b;this._callbackObj=c;this._panels={};this._panelOrder=[];this._maxHeight=this._maxWidth=Number.MAX_VALUE;this._minWidth=5;this._minHeight=0;this._displayedPanelId;this._oldDisplayedPanelId;
this._bTransition=this._bDisclosed=!1;this._contentPane;this._activeContent;this._expandedContent;this._expandedContentPanel;this._contentClipPath;this._expandedBorder;this._expandedBorderResizable;this._tabs={};this._discloseDirection=DvtPanelDrawer.DIR_LEFT;this._dockSide=DvtPanelDrawer.DOCK_TOP;this._isFixed=!1;this._styleMap=null;c&&(this._styleMap=c.getControlPanelStyleMap());this._bgAlpha=DvtStyleUtils.getStyle(this._styleMap,DvtPanelDrawer.BG_ALPHA,DvtPanelDrawer._BACKGROUND_ALPHA);this._borderColor=
DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_COLOR,DvtPanelDrawer._BORDER_COLOR);this._borderRadius=parseInt(DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_RADIUS,DvtPanelDrawer._TAB_CORNER_RADIUS));this._bgColor=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BACKGROUND_COLOR,DvtPanelDrawer._BACKGROUND_COLOR);this._bgInactiveColor=DvtStyleUtils.getStyle(this._styleMap,DvtPanelDrawer.TAB_BG_COLOR_INACTIVE,DvtPanelDrawer._TAB_BACKGROUND_COLOR_INACTIVE);this._borderInactiveColor=
DvtStyleUtils.getStyle(this._styleMap,DvtPanelDrawer.TAB_BORDER_COLOR_INACTIVE,DvtPanelDrawer._TAB_BORDER_COLOR_INACTIVE);this._bDeferPanelVisibility=!1;this._scrollEnabled=!0};DvtPanelDrawer.prototype.addPanel=function(a,b,c,d,e,g){this._panels[g]={panel:a,iconUp:b,iconOver:c,iconDown:d,tooltip:e};this._panelOrder.push(g);this._minHeight=DvtPanelDrawer._FIRST_TAB_SPACING+this._panelOrder.length*(DvtPanelDrawer._TAB_SIZE+DvtPanelDrawer._INTER_TAB_SPACING)};DvtPanelDrawer.prototype.isFixed=function(){return this._isFixed};
DvtPanelDrawer.prototype.setFixed=function(a){this._isFixed=a};DvtPanelDrawer.prototype.setMaxWidth=function(a){this._maxWidth=a};DvtPanelDrawer.prototype.getMaxWidth=function(){return this._maxWidth};DvtPanelDrawer.prototype.getMaxContentWidth=function(){return this._maxWidth-(2*DvtPanelDrawer._CONTENT_PADDING+DvtScrollableContainer.DEFAULT_ALTA_SCROLLBAR_WIDTH+DvtPanelDrawer._SCROLLBAR_CONTENT_PADDING)};DvtPanelDrawer.prototype.setMaxHeight=function(a){this._maxHeight=a};
DvtPanelDrawer.prototype.getMaxHeight=function(){return this._maxHeight};DvtPanelDrawer.prototype.getMaxContentHeight=function(){return this._maxHeight-(2*DvtPanelDrawer._CONTENT_PADDING+DvtScrollableContainer.DEFAULT_ALTA_SCROLLBAR_WIDTH+DvtPanelDrawer._SCROLLBAR_CONTENT_PADDING)};DvtPanelDrawer.prototype.setDiscloseDirection=function(a){this._discloseDirection=a};DvtPanelDrawer.prototype.getDiscloseDirection=function(){return this._discloseDirection};
DvtPanelDrawer.prototype.setDockSide=function(a){this._dockSide=a};DvtPanelDrawer.prototype.getDockSide=function(){return this._dockSide};DvtPanelDrawer.prototype.GetPanel=function(a){return this._panels[a].panel};DvtPanelDrawer.prototype.GetIcon=function(a){return this._panels[a].icon};DvtPanelDrawer.prototype.GetTooltip=function(a){return this._panels[a].tooltip};DvtPanelDrawer.prototype.GetTab=function(a){return this._tabs[a]};
DvtPanelDrawer.prototype.setDisplayedPanelId=function(a,b,c){this._oldDisplayedPanelId=this._displayedPanelId;this._displayedPanelId=a;this.isDisclosed()&&(this.ChangeTabsState(),this.ChangePanels(a,b,c));this._oldDisplayedPanelId=null};DvtPanelDrawer.prototype.getDisplayedPanelId=function(){var a=this._displayedPanelId;return!a&&0<this._panelOrder.length?this._panelOrder[0]:a};
DvtPanelDrawer.prototype.setDisclosed=function(a,b,c){if(!this._bTransition){this._bTransition=!0;var d=this._bDisclosed;this._bDisclosed=a;d!=a&&(a?this.DoExpand(b,c):this.DoCollapse(b,c))}};DvtPanelDrawer.prototype.isDisclosed=function(){return this._bDisclosed};
DvtPanelDrawer.prototype.renderComponent=function(){this._contentPane||(this._contentPane=new DvtContainer(this.getCtx(),"pd_contentPane"),this.addChild(this._contentPane),this._activeContent=new DvtContainer(this.getCtx(),"pdcp_activeContent"),this._contentPane.addChild(this._activeContent));this.RenderTabs()};
DvtPanelDrawer.prototype.RenderTabs=function(){if(!this.isFixed()){var a=-DvtPanelDrawer._TAB_SIZE;this.getDiscloseDirection()==DvtPanelDrawer.DIR_RIGHT&&(a=0);var b=DvtPanelDrawer._FIRST_TAB_SPACING;if(this.getDockSide()==DvtPanelDrawer.DOCK_TOP)for(var c=0;c<this._panelOrder.length;c++){var d=this._panelOrder[c],d=this.RenderTab(d);d.setTranslate(a,b);b+=DvtPanelDrawer._TAB_SIZE+DvtPanelDrawer._INTER_TAB_SPACING}else if(this.getDockSide()==DvtPanelDrawer.DOCK_BOTTOM){b=-DvtPanelDrawer._FIRST_TAB_SPACING-
DvtPanelDrawer._TAB_SIZE;for(c=this._panelOrder.length-1;0<=c;c--)d=this._panelOrder[c],d=this.RenderTab(d),d.setTranslate(a,b),b-=DvtPanelDrawer._TAB_SIZE+DvtPanelDrawer._INTER_TAB_SPACING}}};
DvtPanelDrawer.prototype.GetTabPathCommands=function(){var a;switch(this.getDiscloseDirection()){case DvtPanelDrawer.DIR_RIGHT:a=["M",0,0,"L",DvtPanelDrawer._TAB_SIZE-this._borderRadius,0,"A",this._borderRadius,this._borderRadius,0,0,1,DvtPanelDrawer._TAB_SIZE,this._borderRadius,"L",DvtPanelDrawer._TAB_SIZE,DvtPanelDrawer._TAB_SIZE-this._borderRadius,"A",this._borderRadius,this._borderRadius,0,0,1,DvtPanelDrawer._TAB_SIZE-this._borderRadius,DvtPanelDrawer._TAB_SIZE,"L",0,DvtPanelDrawer._TAB_SIZE];
break;default:a=["M",DvtPanelDrawer._TAB_SIZE,0,"L",this._borderRadius,0,"A",this._borderRadius,this._borderRadius,0,0,0,0,this._borderRadius,"L",0,DvtPanelDrawer._TAB_SIZE-this._borderRadius,"A",this._borderRadius,this._borderRadius,0,0,0,this._borderRadius,DvtPanelDrawer._TAB_SIZE,"L",DvtPanelDrawer._TAB_SIZE,DvtPanelDrawer._TAB_SIZE]}return a};
DvtPanelDrawer.prototype.RenderTab=function(a){var b=this.GetTabPathCommands(),c=new DvtPath(this.getCtx(),b,"pdcp_tab_"+a);c.setPixelHinting(!0);c.setCursor(DvtSelectionEffectUtils.getSelectingCursor());this._contentPane.addChildAt(c,0);c.setSolidFill(this._bgInactiveColor,this._bgAlpha);c.setSolidStroke(this._borderInactiveColor,DvtPanelDrawer._BORDER_ALPHA,1);var d=this._panels[a],e=new DvtPath(this.getCtx(),b);e.setInvisibleFill();c.addChild(d.iconUp);var g=d.iconUp.getDimensions();d.iconUp.setTranslate(0.5*
(DvtPanelDrawer._TAB_SIZE-(g.x+g.w)),0.5*(DvtPanelDrawer._TAB_SIZE-(g.y+g.h)));e.addChild(d.iconUp);var h=new DvtPath(this.getCtx(),b);h.setInvisibleFill();c.addChild(d.iconOver);g=d.iconOver.getDimensions();d.iconOver.setTranslate(0.5*(DvtPanelDrawer._TAB_SIZE-(g.x+g.w)),0.5*(DvtPanelDrawer._TAB_SIZE-(g.y+g.h)));h.addChild(d.iconOver);b=new DvtPath(this.getCtx(),b);b.setInvisibleFill();c.addChild(d.iconDown);g=d.iconDown.getDimensions();d.iconDown.setTranslate(0.5*(DvtPanelDrawer._TAB_SIZE-(g.x+
g.w)),0.5*(DvtPanelDrawer._TAB_SIZE-(g.y+g.h)));b.addChild(d.iconDown);e=new DvtButton(this.getCtx(),e,h,b);e.setToggleEnabled(!0);e.setCursor(DvtSelectionEffectUtils.getSelectingCursor());d.icon=e;c.addChild(e);g=e.getDimensions();e.setTranslate(0.5*(DvtPanelDrawer._TAB_SIZE-(g.x+g.w)),0.5*(DvtPanelDrawer._TAB_SIZE-(g.y+g.h)));this._tabs[a]=c;var k=this;this._eventManager.associate(c,{HandleClick:function(){k.HandleTabClick(a)},getTooltip:function(){return k.GetTooltip(a)}});this.addAccessibilityAttributes(c,
this.GetTooltip(a));return c};
DvtPanelDrawer.prototype.HandleTabClick=function(a){this._oldDisplayedPanelId=this.getDisplayedPanelId();this._displayedPanelId=a;var b=this,c=function(){var a=b.getCtx().getTooltipManager();a&&a.hideTooltip()};this.isDisclosed()?this._oldDisplayedPanelId==a?this.setDisclosed(!1,!1,c):(this.ChangeTabsState(),this.ChangePanels(a,!1)):(this.setDisclosed(!0,!1,c),this.ApplyAlphasRollover());this._oldDisplayedPanelId=null;this.FireListener(new DvtPanelDrawerEvent(this.isDisclosed()?DvtPanelDrawerEvent.SUBTYPE_SHOW:
DvtPanelDrawerEvent.SUBTYPE_HIDE,this._displayedPanelId))};DvtPanelDrawer.prototype.ChangePanels=function(a,b,c){var d=null;b||(d=new DvtAnimator(this.getCtx(),DvtPanelDrawer._ANIM_DURATION));this._oldDisplayedPanelId&&(b=this.GetPanel(this._oldDisplayedPanelId))&&this._expandedContentPanel.removeChild(b);this.DisplayPanel(a,d);d?(this.ApplyAlphasRollover(),c&&DvtPlayable.appendOnEnd(d,c),d.play()):c&&c()};
DvtPanelDrawer.prototype.DoExpand=function(a,b){var c=this.GetPanel(this.getDisplayedPanelId());c&&this._bDeferPanelVisibility&&c.setVisible(!1);this.DisplayPanel(this.getDisplayedPanelId());var d=-(1/DvtPanelDrawer._BOUNCE_WIDTH_FACTOR*this._expandedContent.getWidth());this.getDiscloseDirection()==DvtPanelDrawer.DIR_RIGHT&&(d=-d,this._expandedContent.setX((1/DvtPanelDrawer._BOUNCE_WIDTH_FACTOR-1)*this._expandedContent.getWidth()));if(a)this._contentPane.setTranslateX(d),c&&this._bDeferPanelVisibility&&
c.setVisible(!0),b&&b(),this._bTransition=!1;else{var e=new DvtAnimator(this.getCtx(),DvtPanelDrawer._ANIM_DURATION);e.setEasing(DvtEasing.backOut);e.addProp(DvtAnimator.TYPE_NUMBER,this._contentPane,this._contentPane.getTranslateX,this._contentPane.setTranslateX,d);c&&this._bDeferPanelVisibility?DvtPlayable.appendOnEnd(e,function(){c.setVisible(!0);b&&b()}):b&&DvtPlayable.appendOnEnd(e,b);if(e){var g=this;DvtPlayable.appendOnEnd(e,function(){g._bTransition=!1});e.play()}}this.ChangeTabsState()};
DvtPanelDrawer.prototype.DoCollapse=function(a,b){if(a)this._contentPane.setTranslateX(0),this.RemoveExpandedContent(),b&&b(),this.ChangeTabsState(),this._bTransition=!1;else{var c=new DvtAnimator(this.getCtx(),DvtPanelDrawer._ANIM_DURATION);c.setEasing(DvtEasing.backIn);c.addProp(DvtAnimator.TYPE_NUMBER,this._contentPane,this._contentPane.getTranslateX,this._contentPane.setTranslateX,0);DvtPlayable.appendOnEnd(c,this.RemoveExpandedContent,this);DvtPlayable.appendOnEnd(c,this.ChangeTabsState,this);
b&&DvtPlayable.appendOnEnd(c,b);var d=this;DvtPlayable.appendOnEnd(c,function(){d._bTransition=!1});c.play()}};DvtPanelDrawer.prototype.RemoveExpandedContent=function(){this._expandedContent&&(this._contentClipPath=null,this._expandedContentPanel.removeChildren(),this._activeContent.removeAllDrawEffects(),this._expandedContent.destroy(),this._activeContent.removeChild(this._expandedContent),this._expandedBorderResizable=this._expandedBorder=this._expandedContentPanel=this._expandedContent=null)};
DvtPanelDrawer.prototype.DisplayPanel=function(a,b,c){this._expandedContent||(this._expandedContent=new DvtRect(this.getCtx(),0,0,1,1,"pdcp_expandedContent"),this._activeContent.addChild(this._expandedContent),this._expandedContent.setSolidFill(this._bgColor,this._bgAlpha),this._expandedContentPanel=new DvtScrollableContainer(this._context,0,0,this._maxWidth==Number.MAX_VALUE?null:this._maxWidth-2*DvtPanelDrawer._CONTENT_PADDING,this._maxHeight==Number.MAX_VALUE?null:this._maxHeight-2*DvtPanelDrawer._CONTENT_PADDING,
DvtPanelDrawer._SCROLLBAR_CONTENT_PADDING,"pdcp_expandedContentPanel"+this._sid),this._scrollEnabled||(this._expandedContentPanel.setHorizontalScrollingEnabled(!1),this._expandedContentPanel.setVerticalScrollingEnabled(!1)),this._expandedContentPanel.setSkinName(DvtPanelDrawer._DEFAULT_SKIN),this._expandedContentPanel.setStyleMap(this._styleMap),this._expandedContent.addChild(this._expandedContentPanel),this._expandedContentPanel.setTranslate(DvtPanelDrawer._CONTENT_PADDING,DvtPanelDrawer._CONTENT_PADDING));
var d=this.GetPanel(a);if(d){this._expandedContentPanel.addChild(d);b&&this._bDeferPanelVisibility&&(d.setVisible(!1),DvtPlayable.appendOnEnd(b,function(){d.setVisible(!0)}));if(this._oldDisplayedPanelId){var e=this.GetPanel(this._oldDisplayedPanelId);e&&e.removeEvtListener(DvtResizeEvent.RESIZE_EVENT,this.HandlePanelResize,!1,this)}d.addEvtListener(DvtResizeEvent.RESIZE_EVENT,this.HandlePanelResize,!1,this)}this._expandedBorder||(this._expandedBorder=new DvtPath(this.getCtx(),["M",0,0,"L",1,1],"pdcp_expandedBorder"),
this._expandedBorderResizable=new DvtPath(this.getCtx(),["M",0,0,"L",1,1],"pdcp_expandedBorderResizable"),this._expandedContent.addChild(this._expandedBorder),this._expandedContent.addChild(this._expandedBorderResizable),this._expandedBorder.setSolidStroke(this._borderColor,DvtPanelDrawer._BORDER_ALPHA),this._expandedBorder.setFill(null),this._expandedBorderResizable.setSolidStroke(this._borderColor,DvtPanelDrawer._BORDER_ALPHA),this._expandedBorderResizable.setFill(null),this._expandedBorder.setPixelHinting(!0),
this._expandedBorderResizable.setPixelHinting(!0));this.RefreshExpandedSize(a,b);c&&(b?DvtPlayable.appendOnEnd(b,c):c())};
DvtPanelDrawer.prototype.HandlePanelResize=function(a){var b=new DvtAnimator(this.getCtx(),DvtPanelDrawer._ANIM_DURATION);this._expandedContentPanel.refresh();var c=a.getWidth(),d=a.getHeight(),e=this._expandedContentPanel.getScrollbarWidth()+DvtPanelDrawer._SCROLLBAR_CONTENT_PADDING;this._expandedContentPanel.hasHorizontalScrollbar()&&(d+=e);this._expandedContentPanel.hasVerticalScrollbar()&&(c+=e);c=this.GetExpandedContentWidth(c);d=this.GetExpandedContentHeight(d);e=a.getX()?a.getX():0;a=a.getY()?
a.getY():0;this._refreshPanelSize(this.getDisplayedPanelId(),b,c,d,e,a);b.play()};DvtPanelDrawer.prototype.RefreshExpandedSize=function(a,b){var c=this.GetPanel(a),d=2*DvtPanelDrawer._CONTENT_PADDING,e=2*DvtPanelDrawer._CONTENT_PADDING,g=0,h=0;c&&(c=this._expandedContentPanel.getDimensions(),d=this.GetExpandedContentWidth(c.w),e=this.GetExpandedContentHeight(c.h),g=c.x,h=c.y);this._refreshPanelSize(a,b,d,e,g,h)};
DvtPanelDrawer.prototype._refreshPanelSize=function(a,b,c,d,e,g){var h=this.GetPanel(a);b?b.addProp(DvtAnimator.TYPE_NUMBER,h,h.getTranslateX,h.setTranslateX,-e):h.setTranslateX(-e);b?b.addProp(DvtAnimator.TYPE_NUMBER,h,h.getTranslateY,h.setTranslateY,-g):h.setTranslateY(-g);var k=new DvtRectangle(DvtPanelDrawer._CONTENT_PADDING,DvtPanelDrawer._CONTENT_PADDING,c-2*DvtPanelDrawer._CONTENT_PADDING,d-2*DvtPanelDrawer._CONTENT_PADDING),e=DvtPanelDrawer._BOUNCE_WIDTH_FACTOR*c;if(b){b.addProp(DvtAnimator.TYPE_NUMBER,
this._expandedContent,this._expandedContent.getWidth,this._expandedContent.setWidth,e);b.addProp(DvtAnimator.TYPE_NUMBER,this._expandedContent,this._expandedContent.getHeight,this._expandedContent.setHeight,d);if(this._bDeferPanelVisibility){var m=this;DvtPlayable.appendOnEnd(b,function(){m._setContentClipPath(k)})}else b.addProp(DvtAnimator.TYPE_RECTANGLE,this,this._getContentClipPath,this._setContentClipPath,k);this.getDiscloseDirection()==DvtPanelDrawer.DIR_LEFT?b.addProp(DvtAnimator.TYPE_NUMBER,
this._contentPane,this._contentPane.getTranslateX,this._contentPane.setTranslateX,-c):this.getDiscloseDirection()==DvtPanelDrawer.DIR_RIGHT&&(b.addProp(DvtAnimator.TYPE_NUMBER,this._contentPane,this._contentPane.getTranslateX,this._contentPane.setTranslateX,c),b.addProp(DvtAnimator.TYPE_NUMBER,this._expandedBorder,this._expandedBorder.getTranslateX,this._expandedBorder.setTranslateX,c),b.addProp(DvtAnimator.TYPE_NUMBER,this._expandedBorderResizable,this._expandedBorderResizable.getTranslateX,this._expandedBorderResizable.setTranslateX,
c),b.addProp(DvtAnimator.TYPE_NUMBER,this._expandedContent,this._expandedContent.getTranslateX,this._expandedContent.setTranslateX,-c));this.getDockSide()==DvtPanelDrawer.DOCK_BOTTOM&&(b.addProp(DvtAnimator.TYPE_NUMBER,this._expandedBorder,this._expandedBorder.getTranslateY,this._expandedBorder.setTranslateY,d),b.addProp(DvtAnimator.TYPE_NUMBER,this._expandedBorderResizable,this._expandedBorderResizable.getTranslateY,this._expandedBorderResizable.setTranslateY,d),b.addProp(DvtAnimator.TYPE_NUMBER,
this._expandedContent,this._expandedContent.getTranslateY,this._expandedContent.setTranslateY,-d))}else this._expandedContent.setWidth(e),this._expandedContent.setHeight(d),this.getDiscloseDirection()==DvtPanelDrawer.DIR_RIGHT&&(this._expandedContent.setTranslateX(-c),this._expandedBorder.setTranslateX(c),this._expandedBorderResizable.setTranslateX(c)),this.getDockSide()==DvtPanelDrawer.DOCK_BOTTOM&&(this._expandedContent.setTranslateY(-d),this._expandedBorder.setTranslateY(d),this._expandedBorderResizable.setTranslateY(d)),
this._setContentClipPath(k);var e=this.GetTab(a),n,a=c;this.getDiscloseDirection()==DvtPanelDrawer.DIR_RIGHT&&(a=-c);this.getDockSide()==DvtPanelDrawer.DOCK_TOP?e?(n=["M",0,0,"L",0,e.getTranslateY(),"M",0,e.getTranslateY()+DvtPanelDrawer._TAB_SIZE],c=this.GetTab(this._panelOrder[this._panelOrder.length-1]),n.push("L",0,c.getTranslateY()+DvtPanelDrawer._TAB_SIZE),this._expandedBorder.setCommands(n),a*=DvtPanelDrawer._BOUNCE_WIDTH_FACTOR,n=["M",0,c.getTranslateY()+DvtPanelDrawer._TAB_SIZE,"L",0,d,"L",
a,d]):(n=["M",0,0,"L",0,d,"L",a,d],this._expandedBorder.setCommands(n)):this.getDockSide()==DvtPanelDrawer.DOCK_BOTTOM&&(e?(n=["M",0,0,"L",0,e.getTranslateY()+DvtPanelDrawer._TAB_SIZE,"M",0,e.getTranslateY()],c=this.GetTab(this._panelOrder[0]),n.push("L",0,c.getTranslateY()),this._expandedBorder.setCommands(n),a*=DvtPanelDrawer._BOUNCE_WIDTH_FACTOR,n=["M",0,c.getTranslateY(),"L",0,-d,"L",a,-d]):(n=["M",0,0,"L",0,-d,"L",a,-d],this._expandedBorder.setCommands(n)));b?b.addProp(DvtAnimator.TYPE_PATH,
this._expandedBorderResizable,this._expandedBorderResizable.getCommands,this._expandedBorderResizable.setCommands,n):this._expandedBorderResizable.setCommands(n)};DvtPanelDrawer.prototype._setContentClipPath=function(a){if(this._expandedContentPanel&&a){var b=new DvtClipPath("pdcp"+this._sid);b.addRect(a.x,a.y,a.w,a.h);this._expandedContentPanel.setClipPath(b)}this._contentClipPath=a};DvtPanelDrawer.prototype._getContentClipPath=function(){return this._contentClipPath};
DvtPanelDrawer.prototype.GetExpandedContentWidth=function(a){a+=2*DvtPanelDrawer._CONTENT_PADDING;if((this._minWidth||0==this._minWidth)&&a<this._minWidth)a=this._minWidth;this._maxWidth&&a>this._maxWidth&&(a=this._maxWidth);return a};DvtPanelDrawer.prototype.GetExpandedContentHeight=function(a){a+=2*DvtPanelDrawer._CONTENT_PADDING;if((this._minHeight||0==this._minHeight)&&a<this._minHeight)a=this._minHeight;this._maxHeight&&a>this._maxHeight&&(a=this._maxHeight);return a};
DvtPanelDrawer.prototype.ApplyFillAlpha=function(a){if(this._expandedContent){var b=this._expandedContent.getFill().clone();b.setAlpha(a);this._expandedContent.setFill(b)}for(var c in this._tabs){var d=this._tabs[c];d&&(b=d.getFill().clone(),b.setAlpha(a),d.setFill(b))}};
DvtPanelDrawer.prototype.ApplyStrokeAlpha=function(a){if(this._expandedBorder){var b=this._expandedBorder.getStroke().clone();b.setAlpha(a);this._expandedBorder.setStroke(b)}this._expandedBorderResizable&&(b=this._expandedBorderResizable.getStroke().clone(),b.setAlpha(a),this._expandedBorderResizable.setStroke(b));for(var c in this._tabs){var d=this._tabs[c];d&&(b=d.getStroke().clone(),b.setAlpha(a),d.setStroke(b))}};
DvtPanelDrawer.prototype.deEmphasizeStart=function(){this.setMouseEnabled(!1);this.ApplyFillAlpha(DvtPanelDrawer._BACKGROUND_ALPHA_DE_EMPHASIZED);this.ApplyStrokeAlpha(DvtPanelDrawer._BORDER_ALPHA_DE_EMPHASIZED);this._expandedContentPanel&&this._expandedContentPanel.setAlpha(DvtPanelDrawer._BACKGROUND_ALPHA_DE_EMPHASIZED);for(var a in this._tabs){var b=this.GetIcon(a);b&&b.setAlpha(DvtPanelDrawer._BACKGROUND_ALPHA_DE_EMPHASIZED)}};
DvtPanelDrawer.prototype.deEmphasizeEnd=function(){this.setMouseEnabled(!0);this.ApplyFillAlpha(this._bgAlpha);this.ApplyStrokeAlpha(DvtPanelDrawer._BORDER_ALPHA);this._expandedContentPanel&&this._expandedContentPanel.setAlpha(1);for(var a in this._tabs){var b=this.GetIcon(a);b&&b.setAlpha(1)}this.HandleRollOut(null)};DvtPanelDrawer.prototype.HandleRollOver=function(){this.ApplyAlphasRollover()};DvtPanelDrawer.prototype.HandleRollOut=function(){this._bFocus||this.ApplyAlphasRollout()};
DvtPanelDrawer.prototype.ApplyAlphasRollover=function(){this.ApplyFillAlpha(DvtPanelDrawer._BACKGROUND_ALPHA_ROLLOVER)};DvtPanelDrawer.prototype.ApplyAlphasRollout=function(){this.ApplyFillAlpha(this._bgAlpha)};
DvtPanelDrawer.prototype.ChangeTabsState=function(){for(var a in this._tabs){var b=this._tabs[a];b&&(a==this.getDisplayedPanelId()&&this.isDisclosed()?(b.setSolidFill(this._bgColor,this._bgAlpha),b.setSolidStroke(this._borderColor,DvtPanelDrawer._BORDER_ALPHA)):(b.setSolidFill(this._bgInactiveColor,this._bgAlpha),b.setSolidStroke(this._borderInactiveColor,DvtPanelDrawer._BORDER_ALPHA)));var c=this.isDisclosed()&&a==this.getDisplayedPanelId(),d=this.GetIcon(a);d&&d.setToggled(c);c?this._activeContent.addChild(b):
this._contentPane.addChildAt(b,0)}};DvtPanelDrawer.prototype.setScrollingEnabled=function(a){this._scrollEnabled=a};DvtPanelDrawer.prototype.addAccessibilityAttributes=function(a,b){a&&b&&(a.setDesc(b),a.setAriaRole("img"),a.setAriaProperty("label",b))};DvtPanelDrawer.prototype.setMaxContainerHeight=function(a){if(!this._maxContainerHeight||this._maxContainerHeight<a)this._maxContainerHeight=a};DvtPanelDrawer.prototype.getMaxContainerHeight=function(){return this.GetExpandedContentHeight(this._maxContainerHeight)};
DvtPanelDrawer.prototype.getDimensions=function(a){a=DvtPanelDrawer.superclass.getDimensions.call(this,a);a.w/=DvtPanelDrawer._BOUNCE_WIDTH_FACTOR;return a};var DvtPanelDrawerEventManager=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPanelDrawerEventManager,DvtEventManager,"DvtPanelDrawerEventManager");
DvtPanelDrawerEventManager.prototype.OnClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtPanelDrawerEventManager.superclass.OnClick.call(this,a);b&&(b.HandleClick&&b.HandleClick(a),a.stopPropagation())};
DvtPanelDrawerEventManager.prototype.OnDblClick=function(a){DvtPanelDrawerEventManager.superclass.OnDblClick.call(this,a);var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&(b.isDoubleClickable&&b.isDoubleClickable()&&b.HandleDblClick&&b.HandleDblClick(a),a.stopPropagation())};DvtPanelDrawerEventManager.prototype.OnRollOver=function(a){DvtPanelDrawerEventManager.superclass.OnRollOver.call(this,a);var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&b.HandleRollOver&&b.HandleRollOver(a)};
DvtPanelDrawerEventManager.prototype.OnRollOut=function(a){DvtPanelDrawerEventManager.superclass.OnRollOut.call(this,a);var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&b.HandleRollOut&&b.HandleRollOut(a)};DvtPanelDrawerEventManager.prototype.OnComponentTouchClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtPanelDrawerEventManager.superclass.OnComponentTouchClick.call(this,a);b&&(b.HandleClick&&b.HandleClick(a),a.stopPropagation())};
var DvtAccordion=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtAccordion,DvtContainer,"DvtAccordion");DvtAccordion.COLLAPSE_ENA="sectionColEna";DvtAccordion.COLLAPSE_OVR="sectionColOvr";DvtAccordion.COLLAPSE_DWN="sectionColDwn";DvtAccordion.EXPAND_ENA="sectionExpEna";DvtAccordion.EXPAND_OVR="sectionExpOvr";DvtAccordion.EXPAND_DWN="sectionExpDwn";
DvtAccordion.prototype.Init=function(a,b,c,d,e,g){DvtAccordion.superclass.Init.call(this,a,null,b,c);this._images=e;this._styleMap=(new DvtAccordionDefaults).calcOptions(g);this._sections={};this._sectionOrder=[];this._ww=b;this._hh=c;this._bExpandMany=this._bCollapseAll=!1;this._eventManager=d;this._eventManager.addListeners(this);this._eventManager.associate(this,this)};
DvtAccordion.prototype.addSection=function(a,b,c,d,e){e||(e="accordion_"+a.replace(/ /g,"_")+Math.floor(1E9*Math.random()));a=new DvtAccordionSection(this.getCtx(),b,a,c,d,this,this._eventManager,e,this._images,this._styleMap);this._sections[e]=a;this._sectionOrder.push(e);this.addChild(a)};
DvtAccordion.prototype.render=function(){for(var a=this.getMaxWidth(),b=!1,c=0;c<this._sectionOrder.length;c++){var d=this.getSectionByIndex(c);d.render(a);b&&!this.canExpandMany()&&d.setActive(!1);d.isActive()&&d.isCollapsible()&&(b=!0)}!b&&0<this._sectionOrder.length&&this.getSectionByIndex(0).setActive(!0);this._drawSections()};
DvtAccordion.prototype.Update=function(a){var a=this.getSectionById(a),b=a.isActive();if(b)b&&this._canCollapseSection(a)&&a.setActive(!1);else{if(!this.canExpandMany())for(b=0;b<this._sectionOrder.length;b++)this.getSectionByIndex(b).setActive(!1);a.setActive(!0)}this._drawSections()};
DvtAccordion.prototype.getMaxWidth=function(){if(!this._maxSectionWidth){for(var a=0,b=this._styleMap.paddingX,c=0;c<this._sectionOrder.length;c++){var d=this.getSectionByIndex(c),e=d.GetTitleDimensions();e.w>a&&(a=e.w);d=d.getContentDimensions().w+2*b;d>a&&(a=d)}a>this._ww&&(a=this._ww);this._maxSectionWidth=a}return this._maxSectionWidth};
DvtAccordion.prototype.getMaxHeight=function(){if(!this._maxHeight){for(var a=0,b=0,c=0;c<this._sectionOrder.length;c++){var d=this.getSectionByIndex(c),e=d.getMaxDimensions().h;if(d.isCollapsible()&&e>a)a=e;else if(!d.isCollapsible()||this.canExpandMany())b+=e}this._maxHeight=a+b}return this._maxHeight};DvtAccordion.prototype.getSectionByIndex=function(a){return 0<=a&&a<this._sectionOrder.length?this.getSectionById(this._sectionOrder[a]):null};DvtAccordion.prototype.getSectionById=function(a){return this._sections[a]};
DvtAccordion.prototype.setExpandMany=function(a){this._bExpandMany=a};DvtAccordion.prototype.canExpandMany=function(){return this._bExpandMany};DvtAccordion.prototype.setCollapseAll=function(a){this._bCollapseAll=a};DvtAccordion.prototype.canCollapseAll=function(){return this._bCollapseAll};
DvtAccordion.prototype._canCollapseSection=function(a){if(a.isCollapsible()){if(this.canCollapseAll())return!0;for(var b=0,c=0;c<this._sectionOrder.length;c++)a=this.getSectionByIndex(c),a.isActive()&&b++;return 1<b}return!1};
DvtAccordion.prototype._drawSections=function(){for(var a=0,b=0;b<this._sectionOrder.length;b++){var c=this.getSectionByIndex(b);c.setTranslateY(a);c.isActive()?(c.expand(),a+=c.getDimensions().h,a+=this._styleMap.paddingY):(c.collapse(),a+=this._styleMap.sectionHeader.headerHeight)}this.FireListener(new DvtResizeEvent(this.getMaxWidth(),a,0,0))};var DvtAccordionSection=function(a,b,c,d,e,g,h,k,m,n){this.Init(a,b,c,d,e,g,h,k,m,n)};DvtObj.createSubclass(DvtAccordionSection,DvtContainer,"DvtAccordionSection");
DvtAccordionSection.prototype.Init=function(a,b,c,d,e,g,h,k,m,n){DvtAccordionSection.superclass.Init.call(this,a,null,k);this._parent=g;this._images=m;this._title=c;this._id=k;this._sectionContent=b;this._collapsedBtn=this._expandedBtn=null;this._isActive=(this._isCollapsible=e)?d:!0;this._eventManager=h;this._styleMap=n;this._headerHeight=this._styleMap.sectionHeader.headerHeight;this._paddingX=this._styleMap.paddingX;this._paddingY=this._styleMap.paddingY;this._titleStyle=this._styleMap.sectionHeader.styleEna;
this._imageWidth=this._styleMap.sectionHeader.imageWidth;this._imageHeight=this._styleMap.sectionHeader.imageHeight;this._textPadding=this._styleMap.sectionHeader.textPadding};DvtAccordionSection.prototype.getId=function(){return this._id};DvtAccordionSection.prototype.getTitle=function(){return this._title};DvtAccordionSection.prototype.setActive=function(a){this._isActive=a};DvtAccordionSection.prototype.isActive=function(){return this._isActive};DvtAccordionSection.prototype.isCollapsible=function(){return this._isCollapsible};
DvtAccordionSection.prototype.getContentDimensions=function(){var a=null;0>this.getChildIndex(this._sectionContent)?(this.addChild(this._sectionContent),a=this._sectionContent.getDimensions(),this.removeChild(this._sectionContent)):a=this._sectionContent.getDimensions();return a};
DvtAccordionSection.prototype.getMaxDimensions=function(){var a=null;0>this.getChildIndex(this._sectionContent)?(this.addChild(this._sectionContent),this._sectionContent.setTranslateX(this._paddingX),this._sectionContent.setTranslateY(this._headerHeight+this._paddingY),a=this.getDimensions(),this.removeChild(this._sectionContent)):a=this.getDimensions();return a};
DvtAccordionSection.prototype.render=function(a){this._createHeader(a,this._headerHeight);this.isCollapsible()?this.isActive()?(this.addChildAt(this._expandedBtn,0),this.addChild(this._sectionContent),this._sectionContent.setTranslateX(this._paddingX),this._sectionContent.setTranslateY(this._headerHeight+this._paddingY)):this.addChild(this._collapsedBtn):(this.addChildAt(this._header,0),this.addChild(this._sectionContent),this._sectionContent.setTranslateX(this._paddingX),this._sectionContent.setTranslateY(this._headerHeight+
this._paddingY))};DvtAccordionSection.prototype.collapse=function(){this.isCollapsible()&&(0<=this.getChildIndex(this._expandedBtn)&&this.removeChild(this._expandedBtn),0<=this.getChildIndex(this._sectionContent)&&this.removeChild(this._sectionContent),this.addChild(this._collapsedBtn),this.setActive(!1))};
DvtAccordionSection.prototype.expand=function(){0<=this.getChildIndex(this._collapsedBtn)&&this.removeChild(this._collapsedBtn);this.addChild(this._expandedBtn);this.addChild(this._sectionContent);this._sectionContent.setTranslateX(this._paddingX);this._sectionContent.setTranslateY(this._headerHeight+this._paddingY);this.setActive(!0)};DvtAccordionSection.prototype.HandleHeaderClick=function(){this._parent.Update(this.getId())};
DvtAccordionSection.prototype.GetTitleDimensions=function(){if(!this._titleDim){var a=new DvtOutputText(this._context,this._title);a.setCSSStyle(this._titleStyle);if(a=a.measureDimensions())a.w=a.w+this._imageWidth+this._textPadding;this._titleDim=a}return this._titleDim};DvtAccordionSection.prototype.SetTitleDimensions=function(a){if(!this._titleDim||this._titleDim.w<a.w||this._titleDim.h<a.h)this._titleDim=a};
DvtAccordionSection.prototype._createHeader=function(a,b){if(this.isCollapsible()){ena=this._createHeaderState(DvtButton.STATE_ENABLED,this._images.getAttr(DvtAccordion.EXPAND_ENA),this._title,a,b);ovr=this._createHeaderState(DvtButton.STATE_OVER,this._images.getAttr(DvtAccordion.EXPAND_OVR),this._title,a,b);dwn=this._createHeaderState(DvtButton.STATE_DOWN,this._images.getAttr(DvtAccordion.EXPAND_DWN),this._title,a,b);this._expandedBtn=new DvtButton(this._context,ena,ovr,dwn);ena=this._createHeaderState(DvtButton.STATE_ENABLED,
this._images.getAttr(DvtAccordion.COLLAPSE_ENA),this._title,a,b);ovr=this._createHeaderState(DvtButton.STATE_OVER,this._images.getAttr(DvtAccordion.COLLAPSE_OVR),this._title,a,b);dwn=this._createHeaderState(DvtButton.STATE_DOWN,this._images.getAttr(DvtAccordion.COLLAPSE_DWN),this._title,a,b);this._collapsedBtn=new DvtButton(this._context,ena,ovr,dwn);var c=this,d={HandleClick:function(a){c.HandleHeaderClick(a)}};this._eventManager.associate(this._expandedBtn,d);this._eventManager.associate(this._collapsedBtn,
d)}else{var d=this._createButtonBase(DvtButton.STATE_DISABLED,a,b),e=this._createButtonText(DvtButton.STATE_DISABLED,this._title);this._header=new DvtContainer(this._context);this._header.addChild(d);this._header.addChild(e)}};
DvtAccordionSection.prototype._createHeaderState=function(a,b,c,d,e){var g=this._imageWidth,h=this._imageHeight,k=(this._headerHeight-h)/2,e=this._createButtonBase(a,d,e),a=this._createButtonText(a,c),c=null;b&&(c=new DvtImage(this._context,b,0,k,g,h));b=new DvtContainer(this._context);b.addChild(e);c&&b.addChild(c);b.addChild(a);DvtAgent.isRightToLeft(this._context)?(h=a.measureDimensions(),a.setTranslateX(d-h.w-g),c&&c.setTranslateX(d-g)):a.setTranslateX(g);return b};
DvtAccordionSection.prototype._createButtonText=function(a,b){var c=null;if(b){c=new DvtOutputText(this._context,b);c.setCSSStyle(this._titleStyle);var d=c.measureDimensions();d.w=d.w+this._imageWidth+this._textPadding;this.SetTitleDimensions(d);c.setTranslateY((this._headerHeight-d.h)/2)}return c};
DvtAccordionSection.prototype._createButtonBase=function(a,b,c){var d=null;switch(a){case DvtButton.STATE_OVER:d=this._styleMap.sectionHeader.styleOvr;break;case DvtButton.STATE_DOWN:d=this._styleMap.sectionHeader.styleDwn;break;case DvtButton.STATE_DISABLED:d=this._styleMap.sectionHeader.styleDis;break;default:d=this._styleMap.sectionHeader.styleEna}a=new DvtRect(this._context,0,0,b,c);a.setStroke(DvtAccordionSection._getStroke(d));a.setFill(DvtAccordionSection._getFill(d));return a};
DvtAccordionSection._getFill=function(a){var b=a.getStyle(DvtCSSStyle.BACKGROUND_COLOR),a=a.getBackgroundImage(),c=null;if(a&&a instanceof DvtCSSGradient)var b=a.getColors(),c=a.getAlphas(),d=a.getRatios(),a=a.getAngle(),c=new DvtLinearGradientFill(a,b,c,d);else b&&(c=new DvtSolidFill(b,1));return c};DvtAccordionSection._getStroke=function(a){a=a.getStyle(DvtCSSStyle.BORDER_COLOR);return new DvtSolidStroke(a,1,1)};
var DvtAccordionDefaults=function(){this.Init({skyros:DvtAccordionDefaults.VERSION_1,alta:DvtAccordionDefaults.SKIN_ALTA})};DvtObj.createSubclass(DvtAccordionDefaults,DvtBaseComponentDefaults,"DvtAccordionDefaults");
DvtAccordionDefaults.VERSION_1={skin:DvtCSSStyle.SKIN_ALTA,sectionHeader:{styleEna:new DvtCSSStyle("font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:14px;font-weight:bold;color:#252525;border-color:#D9DFE3;background-color:#F5F5F5;"),styleOvr:new DvtCSSStyle("font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:14px;font-weight:bold;color:#252525;border-color:#D9DFE3;background-color:#F5F5F5;"),styleDwn:new DvtCSSStyle("font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:14px;font-weight:bold;color:#252525;border-color:#D9DFE3;background-color:#F5F5F5;"),
styleDis:new DvtCSSStyle("font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:14px;font-weight:bold;color:#252525;border-color:#D9DFE3;background-color:#F5F5F5;"),headerHeight:33,imageWidth:24,imageHeight:24,textPadding:5},paddingX:15,paddingY:15};DvtAccordionDefaults.SKIN_ALTA={};var DvtTrain=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtTrain,DvtContainer,"DvtTrain");DvtTrain.TRAIN_EVENT="dvtTrain";DvtTrain.FILL_COLOR="#c0cbd5";DvtTrain.BORDER_COLOR="#5d7891";
DvtTrain.SELECTED_FILL_COLOR="#61bde3";DvtTrain.SELECTED_BORDER_COLOR="#0066ff";DvtTrain.BUTTON_SIZE=8;DvtTrain.VPADDING=1;DvtTrain.HPADDING=3;DvtTrain.STATE_ENABLED=0;DvtTrain.STATE_HOVER=1;DvtTrain.STATE_SELECTED=2;DvtTrain.prototype.Init=function(a,b,c,d,e){DvtTrain.superclass.Init.call(this,a,null,e);this._tooltipManager=a.getTooltipManager();this._labels=c;this._buttonStyles=d;this._count=c.length;this._buttons=Array(this._count);this._selectedIndex=0;this.RenderSelf(b)};
DvtTrain.prototype.setSelectedIndex=function(a){0<=a&&a<this._count&&this.SelectedIndexChanged(this._selectedIndex,a)};DvtTrain.prototype.getSelectedIndex=function(){return this._selectedIndex};DvtTrain.prototype.HandleClick=function(a){DvtEventManager.consumeEvent(a);for(var b=0;b<this._buttons.length;b++)if(a.target.getParent()===this._buttons[b]){a=this.getSelectedIndex();this.SelectedIndexChanged(a,b);a!=b&&this.fireTrainEvent();break}};
DvtTrain.prototype.SelectedIndexChanged=function(a,b){this._selectedIndex=b;var c=this._buttons[a];c&&(c.getOverState()&&c.getOverState().setCursor("pointer"),c.getDownState()&&c.getDownState().setCursor("pointer"),c.setToggled(!1));if(c=this._buttons[b])c.getOverState()&&c.getOverState().setCursor("default"),c.getDownState()&&c.getDownState().setCursor("default"),c.setToggled(!0)};DvtTrain.prototype.addTrainEventListener=function(a,b){this.addEvtListener(DvtTrain.TRAIN_EVENT,a,!1,b)};
DvtTrain.prototype.removeTrainEventListener=function(a,b){this.removeEvtListener(DvtTrain.TRAIN_EVENT,a,!1,b)};DvtTrain.prototype.fireTrainEvent=function(){this.FireListener(new DvtTrainEvent(this._selectedIndex),!1)};
DvtTrain.prototype.RenderSelf=function(a){for(var b=DvtAgent.isRightToLeft(this.getCtx()),c=this._getButtonSize(),d=0;d<this._count;d++){var e;e=this.CreateButton(c,d==this._selectedIndex,this._labels[d]);this.addButtonListeners(e);var g=d;b&&(g=this._count-1-d);a&&a.associate(e,e);e.setTranslate(g*c+(g+1)*DvtTrain.HPADDING,DvtTrain.VPADDING);this.addChild(e);this._buttons[d]=e}};
DvtTrain.prototype.DrawButtonState=function(a,b){var c,d,e,g;b?(g=0,e=DvtTrain.SELECTED_FILL_COLOR,d=DvtTrain.SELECTED_BORDER_COLOR,this._buttonStyles&&(c=this._buttonStyles[DvtTrain.STATE_SELECTED])):(g=1,e=DvtTrain.FILL_COLOR,d=DvtTrain.BORDER_COLOR,this._buttonStyles&&(c=this._buttonStyles[DvtTrain.STATE_ENABLED]));c&&(c.getStyle(DvtCSSStyle.BORDER_COLOR)&&(d=c.getStyle(DvtCSSStyle.BORDER_COLOR)),c.getStyle(DvtCSSStyle.BACKGROUND_COLOR)&&(e=c.getStyle(DvtCSSStyle.BACKGROUND_COLOR)));c=new DvtRect(this.getCtx(),
g,g,a-2*g,a-2*g);c.setSolidFill(e);c.setSolidStroke(d);return c};DvtTrain.prototype.addButtonListeners=function(a){a.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleClick,!1,this);DvtAgent.isTouchDevice()||a.addEvtListener(DvtMouseEvent.CLICK,this.HandleClick,!1,this)};DvtTrain.prototype.removeButtonListeners=function(a){a.removeEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleClick,!1,this);DvtAgent.isTouchDevice()||a.removeEvtListener(DvtMouseEvent.CLICK,this.HandleClick,!1,this)};
DvtTrain.prototype._getButtonSize=function(){if(!this._buttonSize){if(this._buttonStyles){var a=this._buttonStyles[0];a&&(this._buttonSize=DvtCSSStyle.toNumber(a.getWidth()))}this._buttonSize||(this._buttonSize=DvtTrain.BUTTON_SIZE)}return this._buttonSize};DvtTrain.prototype.CreateButtonState=function(a,b){return new DvtImage(this.getCtx(),a,0,0,b,b)};
DvtTrain.prototype.MakeButtonState=function(a,b,c){var d=this._buttonStyles?this._buttonStyles[b]:null,a=(d=d?d.getIconUrl():null)?this.CreateButtonState(d,a):this.DrawButtonState(a,b==DvtTrain.STATE_SELECTED);a.setCursor(b==DvtTrain.STATE_ENABLED||c?"default":"pointer");return a};
DvtTrain.prototype.CreateButton=function(a,b,c){a=new DvtButton(this.getCtx(),this.MakeButtonState(a,DvtTrain.STATE_ENABLED,b),this.MakeButtonState(a,DvtTrain.STATE_HOVER,b),this.MakeButtonState(a,DvtTrain.STATE_SELECTED,b),null);a.setTooltip(c);a.setToggleEnabled(!0);b&&a.setToggled(b);return a};var DvtTrainEvent=function(a){this.Init(DvtTrainEvent.TYPE);this.type=this.getType();this._index=a};DvtObj.createSubclass(DvtTrainEvent,DvtBaseComponentEvent,"DvtTrainEvent");DvtTrainEvent.TYPE="dvtTrain";
DvtTrainEvent.prototype.getIndex=function(){return this._index};var DvtOverviewWindow=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtOverviewWindow,DvtContainer,"DvtOverviewWindow");DvtOverviewWindow.VIEWPORT_BG_COLOR="viewport-bg-color";DvtOverviewWindow.VIEWPORT_BORDER_COLOR="viewport-border-color";DvtOverviewWindow.OVERVIEW_DISCLOSED_KEY="isOverviewDisclosed";
DvtOverviewWindow.prototype.Init=function(a,b,c,d,e,g){DvtOverviewWindow.superclass.Init.call(this,a,null,b);this._x=c;this._y=d;this._ww=e;this._hh=g;this._skinStyle=null};
DvtOverviewWindow.prototype.render=function(){this._md=!1;this._panEnable=!0;this._overview&&(DvtAgent.isTouchDevice()?(this._overview.removeEvtListener(DvtTouchEvent.TOUCHSTART,this._mouseDown,!1,this),this._overview.removeEvtListener(DvtTouchEvent.TOUCHMOVE,this._mouseMove,!1,this),this._overview.removeEvtListener(DvtTouchEvent.TOUCHEND,this._mouseUp,!1,this)):(this._overview.removeEvtListener(DvtMouseEvent.MOUSEDOWN,this._mouseDown,!1,this),this._overview.removeEvtListener(DvtMouseEvent.MOUSEMOVE,
this._mouseMove,!1,this),this._overview.removeEvtListener(DvtMouseEvent.MOUSEUP,this._mouseUp,!1,this),this._overview.removeEvtListener(DvtMouseEvent.MOUSEOUT,this._mouseOut,!1,this)),this._overview.setClipPath(null));this.removeChildren();this._overview=this._viewport=null;var a=new DvtClipPath(this.getId());a.addRect(0,0,this._ww,this._hh);this._overview=new DvtRect(this._context,0,0,this._ww,this._hh);this._overview.setClipPath(a);this._overview.setInvisibleFill();this.addChild(this._overview);
this._viewport=new DvtRect(this._context,0,0,0,0,this.getId()+":viewport");a=this.getSkinStyleAttr(DvtOverviewWindow.VIEWPORT_BG_COLOR);this._viewport.setSolidStroke(this.getSkinStyleAttr(DvtOverviewWindow.VIEWPORT_BORDER_COLOR),null,2);this._viewport.setSolidFill(a);this._viewport.setMouseEnabled(!1);this._overview.addChild(this._viewport);DvtAgent.isTouchDevice()?(this._overview.addEvtListener(DvtTouchEvent.TOUCHSTART,this._mouseDown,!1,this),this._overview.addEvtListener(DvtTouchEvent.TOUCHMOVE,
this._mouseMove,!1,this),this._overview.addEvtListener(DvtTouchEvent.TOUCHEND,this._mouseUp,!1,this)):(this._overview.addEvtListener(DvtMouseEvent.MOUSEDOWN,this._mouseDown,!1,this),this._overview.addEvtListener(DvtMouseEvent.MOUSEMOVE,this._mouseMove,!1,this),this._overview.addEvtListener(DvtMouseEvent.MOUSEUP,this._mouseUp,!1,this),this._overview.addEvtListener(DvtMouseEvent.MOUSEOUT,this._mouseOut,!1,this))};DvtOverviewWindow.prototype.loadXmlNode=function(a){this._isDisclosed="true"==a.getAttr("disclosed")};
DvtOverviewWindow.prototype.isDisclosed=function(){return this._isDisclosed};DvtOverviewWindow.prototype.setDisclosed=function(a){this._isDisclosed=a};DvtOverviewWindow.prototype.getContentAreaWidth=function(){return this.getContentDimensions().w};DvtOverviewWindow.prototype.getContentAreaHeight=function(){return this.getContentDimensions().h};DvtOverviewWindow.prototype.getContentDimensions=function(){return new DvtRectangle(this._x,this._y,this._ww,this._hh)};
DvtOverviewWindow.prototype.setViewportDimensions=function(a,b){var c=this.TransformFromContentToViewportCoords(a.x,a.y,b),d=this.TransformFromContentToViewportCoords(a.x+a.w,a.y+a.h,b),e=c.x,g=c.y,h=d.x-c.x,c=d.y-c.y;b?(b.addProp(DvtAnimator.TYPE_NUMBER,this._viewport,this._viewport.getX,this._viewport.setX,e),b.addProp(DvtAnimator.TYPE_NUMBER,this._viewport,this._viewport.getY,this._viewport.setY,g),b.addProp(DvtAnimator.TYPE_NUMBER,this._viewport,this._viewport.getWidth,this._viewport.setWidth,
h),b.addProp(DvtAnimator.TYPE_NUMBER,this._viewport,this._viewport.getHeight,this._viewport.setHeight,c)):(this._viewport.setX(e),this._viewport.setY(g),this._viewport.setWidth(h),this._viewport.setHeight(c))};
DvtOverviewWindow.prototype.getViewportDimensions=function(){var a=this.TransformFromViewportToContentCoords(this._viewport.getX(),this._viewport.getY()),b=this.TransformFromViewportToContentCoords(this._viewport.getX()+this._viewport.getWidth(),this._viewport.getY()+this._viewport.getHeight());return new DvtRectangle(a.x,a.y,b.x-a.x,b.y-a.y)};DvtOverviewWindow.prototype.setPanEnabled=function(a){this._panEnable=a};DvtOverviewWindow.prototype.isPanEnabled=function(){return this._panEnable};
DvtOverviewWindow.prototype.setContent=function(a){var b=this.getViewportDimensions();this._content&&this._overview.removeChild(this._content);this._content=a;this._overview.addChildAt(a,0);this.setViewportDimensions(b)};DvtOverviewWindow.prototype._mouseDown=function(a){if(!this._md&&this._panEnable){this._md=!0;var b=this._getRelativePosition(a);this.FireListener(new ViewportChangeEvent(this.getViewportDimensions(),this._getCenteredViewportDimensions(b),a))}};
DvtOverviewWindow.prototype._mouseMove=function(a){if(this._md&&this._panEnable){var b=this._getRelativePosition(a);this.FireListener(new ViewportChangeEvent(this.getViewportDimensions(),this._getCenteredViewportDimensions(b),a))}};DvtOverviewWindow.prototype._mouseUp=function(){this._md&&this._panEnable&&(this._md=!1)};DvtOverviewWindow.prototype._mouseOut=function(a){this._mouseUp(a)};
DvtOverviewWindow.prototype._getRelativePosition=function(a){var b,c;DvtAgent.isTouchDevice()?(a=a.touches,0<a.length&&(b=a[0].pageX,c=a[0].pageY)):(b=a.pageX,c=a.pageY);return this._context.pageToStageCoords(b,c)};DvtOverviewWindow.prototype.TransformFromViewportToContentCoords=function(a,b){var c=0,d=0,e=1,g=1;this._content&&(c=this._content.getTranslateX(),d=this._content.getTranslateY(),e=this._content.getScaleX(),g=this._content.getScaleY());return new DvtPoint((a-c)/e,(b-d)/g)};
DvtOverviewWindow.prototype.TransformFromContentToViewportCoords=function(a,b,c){var d=0,e=0,g=1,h=1;this._content&&(d=c?c.getDestVal(this._content,this._content.getTranslateX,!0):this._content.getTranslateX(),e=c?c.getDestVal(this._content,this._content.getTranslateY,!0):this._content.getTranslateY(),g=c?c.getDestVal(this._content,this._content.getScaleX,!0):this._content.getScaleX(),h=c?c.getDestVal(this._content,this._content.getScaleY,!0):this._content.getScaleY());return new DvtPoint(a*g+d,b*
h+e)};DvtOverviewWindow.prototype.getSkinStyle=function(){return this._skinStyle};DvtOverviewWindow.prototype.setSkinStyle=function(a){this._skinStyle=a};DvtOverviewWindow.prototype.getSkinStyleAttr=function(a){return this._skinStyle&&"undefined"!=this._skinStyle[a]?this._skinStyle[a]:null};
DvtOverviewWindow.prototype._getCenteredViewportDimensions=function(a){var b=this._overview.localToStage(new DvtPoint(0,0)),c=this._viewport.getDimensions(),d=a.x-b.x-c.w/2,b=a.y-b.y-c.h/2,a=this.TransformFromViewportToContentCoords(d,b),c=this.TransformFromViewportToContentCoords(d+c.w,b+c.h);return new DvtRectangle(a.x,a.y,c.x-a.x,c.y-a.y)};DvtOverviewWindow.prototype.SetViewportRectangle=function(a){this._viewport.setX(a.x);this._viewport.setY(a.y);this._viewport.setWidth(a.w);this._viewport.setHeight(a.h)};
DvtOverviewWindow.prototype.GetViewportRectangle=function(){return new DvtRectangle(this._viewport.getX(),this._viewport.getY(),this._viewport.getWidth(),this._viewport.getHeight())};DvtOverviewWindow.prototype.getDimensions=function(a){var b=new DvtRectangle(0,0,this._ww,this._hh);return!a||a===this?b:this.ConvertCoordSpaceRect(b,a)};