var DvtGeographicMap=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtGeographicMap,DvtObj,"DvtGeographicMap");DvtGeographicMap.MAP_PROVIDER_ORACLE="oraclemaps";DvtGeographicMap.MAP_PROVIDER_GOOGLE="googlemaps";DvtGeographicMap.MAP_VIEWER_URL="http://elocation.oracle.com/mapviewer";DvtGeographicMap.BASE_MAP="ELOCATION_MERCATOR.WORLD_MAP";
DvtGeographicMap.prototype.Init=function(a,b){this._callback=a;this._callbackObj=b;this.mapProvider=DvtGeographicMap.MAP_PROVIDER_GOOGLE;this.mapViewerUrl=DvtGeographicMap.MAP_VIEWER_URL;this.baseMap=DvtGeographicMap.BASE_MAP;this.selection=[];this.screenReaderMode=this.initialSelectionApplied=!1};DvtGeographicMap.newInstance=function(a,b,c){a=new DvtGeographicMap(a,b);a.setOptions(c);return a};DvtGeographicMap.prototype.getMapProvider=function(){return this.mapProvider};
DvtGeographicMap.prototype.setMapProvider=function(a){if(a==DvtGeographicMap.MAP_PROVIDER_ORACLE||a==DvtGeographicMap.MAP_PROVIDER_GOOGLE)this.mapProvider=a};DvtGeographicMap.prototype.getMapViewerUrl=function(){return this.mapViewerUrl};DvtGeographicMap.prototype.setMapViewerUrl=function(a){this.mapViewerUrl=a};DvtGeographicMap.prototype.getBaseMap=function(){return this.baseMap};DvtGeographicMap.prototype.setBaseMap=function(a){this.baseMap=a};
DvtGeographicMap.prototype.setOptions=function(a){this.Options=DvtGeographicMapDefaults.calcOptions(a)};DvtGeographicMap.prototype.getScreenReaderMode=function(){return this.screenReaderMode};DvtGeographicMap.prototype.setScreenReaderMode=function(a){this.screenReaderMode=a};DvtGeographicMap.prototype.__dispatchEvent=function(a){DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a)};
DvtGeographicMap.prototype.render=function(a,b,c,d){this.Data=b;this._width=c;this._height=d;DvtGeographicMapRenderer.render(this,a,c,d)};var DvtGeographicMapDefaults={};DvtObj.createSubclass(DvtGeographicMapDefaults,DvtObj,"DvtGeographicMapDefaults");DvtGeographicMapDefaults.VERSION_1={mapOptions:{mapType:"ROADMAP",zoomLevel:"14",centerX:"-98.57",centerY:"39.82",doubleClickBehavior:"zoomin"}};
DvtGeographicMapDefaults.calcOptions=function(a){var b=DvtGeographicMapDefaults._getDefaults(a);return a?DvtJSONUtils.merge(a,b):b};DvtGeographicMapDefaults._getDefaults=function(){return DvtJSONUtils.clone(DvtGeographicMapDefaults.VERSION_1)};var DvtGeographicMapRenderer={};DvtObj.createSubclass(DvtGeographicMapRenderer,DvtObj,"DvtGeographicMapRenderer");DvtGeographicMapRenderer.MAP_VIEWER_URL="http://elocation.oracle.com/mapviewer";DvtGeographicMapRenderer.ELOCATION_GEOCODER_URL="http://elocation.oracle.com/elocation/jslib/oracleelocation.js";
DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_IMG="css/images/geomap/ball_ena.png";DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_HOVER_IMG="css/images/geomap/ball_ovr.png";DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_SELECT_IMG="css/images/geomap/ball_sel.png";DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_IMG="css/images/geomap/red-circle.png";DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_HOVER_IMG="css/images/geomap/ylw-circle.png";
DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_SELECT_IMG="css/images/geomap/blu-circle.png";DvtGeographicMapRenderer.MOUSE_OVER="mouseover";DvtGeographicMapRenderer.MOUSE_OUT="mouseout";DvtGeographicMapRenderer.CLICK="click";DvtGeographicMapRenderer.SEL_NONE="none";DvtGeographicMapRenderer.SEL_SINGLE="single";DvtGeographicMapRenderer.SEL_MULTIPLE="multiple";
DvtGeographicMapRenderer.render=function(a,b,c,d){var e=a.getMapProvider();e==DvtGeographicMap.MAP_PROVIDER_ORACLE?DvtGeographicMapRenderer.renderOracleMap(a,b,c,d):e==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&DvtGeographicMapRenderer.renderGoogleMap(a,b,c,d);!0==a.getScreenReaderMode()&&DvtGeographicMapRenderer.renderMarkerText(a,b)};
DvtGeographicMapRenderer.renderMarkerText=function(a,b){var c=a.Data,d=a.Options,e="";d.mapOptions.shortDesc&&(e=d.mapOptions.shortDesc+": ");c=c.dataLayers;for(d=0;d<c.length;d++)for(var g=c[d].data,h=0;h<g.length;h++)e+=DvtGeographicMapRenderer.getTooltip(g[h])+", ";c=e.length;2<=c&&(e=e.substring(0,c-2));c=document.createElement("div");c.innerHTML=e;b.parentNode.appendChild(c)};
DvtGeographicMapRenderer.renderOracleMap=function(a,b){var c=a.Options,d=a.Data,e=a.getMapViewerUrl(),g=a.getBaseMap(),h=c.mapOptions.centerX,k=c.mapOptions.centerY,m=parseInt(c.mapOptions.zoomLevel),n="recenter",o=this,h=o.center?o.center:MVSdoGeometry.createPoint(parseFloat(h),parseFloat(k),8307),s=new MVMapView(b,e);s.addMapTileLayer(new MVBaseMap(g));s.setCenter(h);s.setZoomLevel(m);s.removeAllFOIs();e=!0;DvtGeographicMapRenderer._mapIncludesData(a)?c.mapOptions.initialZooming&&(e="none"==c.mapOptions.initialZooming?
!1:!0):e=!1;void 0!==c.mapOptions.doubleClickBehavior&&(n=c.mapOptions.doubleClickBehavior);s.setDoubleClickAction(n);s.setTouchBehavior({touchHold:"mouse_over"});var t=function(){var b=s.getMapWindowBBox(),c=s.getCenter();if(b&&c){var b=s.transformGeom(b,8307),c=s.transformGeom(c,8307),b=b.getMBR(),d=s.getZoomLevel(),c=new DvtMapBoundsChangeEvent(b[0],b[1],b[2],b[3],c.getPointX(),c.getPointY(),d);a.__dispatchEvent(c)}},u=function(b){var c=s.getMouseLocation(),c=s.transformGeom(c,8307),b=new DvtMapInputEvent(b,
c.getPointX(),c.getPointY());a.__dispatchEvent(b)};s.attachEventListener(MVEvent.RECENTER,function(){c.mapOptions.initialZooming="none";o.center=s.getCenter();t()});s.attachEventListener(MVEvent.ZOOM_LEVEL_CHANGE,function(){c.mapOptions.initialZooming="none";c.mapOptions.zoomLevel=""+s.getZoomLevel();t()});s.attachEventListener(MVEvent.MOUSE_CLICK,function(){u("click")});s.attachEventListener(MVEvent.MOUSE_DOWN,function(){u("mousedown")});s.attachEventListener(MVEvent.MOUSE_UP,function(){u("mouseup")});
DvtGeographicMapRenderer.setOracleMapDataLayer(a,s,d,e);s.display()};
DvtGeographicMapRenderer.setOracleMapDataLayer=function(a,b,c,d){for(var c=c.dataLayers,e=1E4,g=null,h=null,k=null,m=null,n=0;n<c.length;n++)for(var o=c[n],s=o.data,t=DvtGeographicMapRenderer._getSelectedRowKeys(a,o,n),u=0;u<s.length;u++){var v=DvtGeographicMapRenderer.getParams(s[u],DvtGeographicMap.MAP_PROVIDER_ORACLE),w=DvtGeographicMapRenderer.getSelMode(o);v.selMode=w;v.dataLayerIdx=o.idx;if(w==DvtGeographicMapRenderer.SEL_SINGLE||w==DvtGeographicMapRenderer.SEL_MULTIPLE)v.selected=-1!==t.indexOf(s[u]._rowKey)?
!0:!1;if(s[u].x&&s[u].y)DvtGeographicMapRenderer.addPointFOI(a,b,s[u],e++,v),g=DvtGeographicMapRenderer.getMin(g,parseFloat(s[u].x)),h=DvtGeographicMapRenderer.getMax(h,parseFloat(s[u].x)),k=DvtGeographicMapRenderer.getMin(k,parseFloat(s[u].y)),m=DvtGeographicMapRenderer.getMax(m,parseFloat(s[u].y)),d&&n==c.length-1&&u==s.length-1&&b.zoomToRectangle(MVSdoGeometry.createRectangle(g,k,h,m,8307));else if(s[u].address){var w=s[u].address,z=function(c){return function(n){0===n.length?console.log("No matching address found!"):
(n=n[0],DvtGeographicMapRenderer.addPointFOI(a,b,n,e++,c),g=DvtGeographicMapRenderer.getMin(g,parseFloat(n.x)),h=DvtGeographicMapRenderer.getMax(h,parseFloat(n.x)),k=DvtGeographicMapRenderer.getMin(k,parseFloat(n.y)),m=DvtGeographicMapRenderer.getMax(m,parseFloat(n.y)),d&&b.zoomToRectangle(MVSdoGeometry.createRectangle(g,k,h,m,8307)))}},A=DvtGeographicMapRenderer.ELOCATION_GEOCODER_URL,C=function(a,b){return function(){DvtGeographicMapRenderer.geoCoderAPILoaded=!0;(new OracleELocation).geocode(a,
z(b))}};DvtGeographicMapRenderer.geoCoderAPILoaded?(new OracleELocation).geocode(w,z(v)):DvtGeographicMapRenderer.loadJS(A,C(w,v))}}a.initialSelectionApplied=!0};
DvtGeographicMapRenderer.addPointFOI=function(a,b,c,d,e){var g=e.action,h=e.selMode,k=e.dataLayerIdx,m=e.selected,n;n=m?e.sourceSelected:e.source;c=MVSdoGeometry.createPoint(parseFloat(c.x),parseFloat(c.y),8307);d=MVFOI.createMarkerFOI(d.toString(),c,n);e.tooltip&&d.setInfoTip(e.tooltip);if(h==DvtGeographicMapRenderer.SEL_SINGLE||h==DvtGeographicMapRenderer.SEL_MULTIPLE)DvtAgent.isTouchDevice()||(DvtGeographicMapRenderer.attachEventListener(a,d,DvtGeographicMapRenderer.MOUSE_OVER,e),DvtGeographicMapRenderer.attachEventListener(a,
d,DvtGeographicMapRenderer.MOUSE_OUT,e)),DvtGeographicMapRenderer.attachEventListener(a,d,DvtGeographicMapRenderer.CLICK,e),m&&(h=a.selection[k],void 0===h&&(h=a.selection[k]=[]),d.selected=!0,d.rowKey=e.rowKey,d.dataLayerIdx=k,h.push(d));g&&d.attachEventListener(MVEvent.MOUSE_CLICK,function(){var b=new DvtMapActionEvent(e.clientId,e.rowKey,g);b.addParam("dataLayerIdx",e.dataLayerIdx);a.__dispatchEvent(b)});b.addFOI(d)};
DvtGeographicMapRenderer.attachEventListener=function(a,b,c,d){switch(c){case DvtGeographicMapRenderer.MOUSE_OVER:b.attachEventListener(MVEvent.MOUSE_OVER,function(){b.selected?b.updateImageURL(d.sourceHoverSelected):b.updateImageURL(d.sourceHover)});break;case DvtGeographicMapRenderer.MOUSE_OUT:b.attachEventListener(MVEvent.MOUSE_OUT,function(){b.selected||b.updateImageURL(d.source)});break;case DvtGeographicMapRenderer.CLICK:b.attachEventListener(MVEvent.MOUSE_CLICK,function(){var c=d.dataLayerIdx,
g;a.selection[c]||(a.selection[c]=[]);g=d.selMode;if(b.selected)if(b.updateImageURL(d.sourceHover),b.selected=!1,g==DvtGeographicMapRenderer.SEL_SINGLE)a.selection[c]=[];else{if(g==DvtGeographicMapRenderer.SEL_MULTIPLE)for(g=0;g<a.selection[c].length;g++)if(b.getId()==a.selection[c][g].getId()){a.selection[c].splice(g,1);break}}else{var h=a.selection[c];if(g==DvtGeographicMapRenderer.SEL_SINGLE&&0!=h.length){for(g=0;g<h.length;g++)h[g].updateImageURL(d.source),h[g].selected=!1;a.selection[c]=[]}b.updateImageURL(d.sourceSelected);
b.selected=!0;b.rowKey=d.rowKey;b.dataLayerIdx=c;a.selection[c].push(b)}h=new DvtSelectionEvent(a.selection[c]);h.addParam("dataLayerIdx",c);a.__dispatchEvent(h)})}};
DvtGeographicMapRenderer.renderGoogleMap=function(a,b){var c=a.Options,d=a.Data,e="";switch(c.mapOptions.mapType){case "ROADMAP":e=google.maps.MapTypeId.ROADMAP;break;case "SATELLITE":e=google.maps.MapTypeId.SATELLITE;break;case "HYBRID":e=google.maps.MapTypeId.HYBRID;break;case "TERRAIN":e=google.maps.MapTypeId.TERRAIN;break;default:e=google.maps.MapTypeId.ROADMAP}var g=!0;DvtGeographicMapRenderer._mapIncludesData(a)?c.mapOptions.initialZooming&&(g="none"==c.mapOptions.initialZooming?!1:!0):g=!1;
var h="none";c.mapOptions.animationOnDisplay&&(h=c.mapOptions.animationOnDisplay);var k;this._firstTime=!1;if(g)a._googlemap||(this._firstTime=!0,a._googlemap=new google.maps.Map(b)),k=a._googlemap,k.setMapTypeId(e);else{var m=parseFloat(c.mapOptions.centerX),n=parseFloat(c.mapOptions.centerY);if(!a._googlemap){this._firstTime=!0;var o={};o.mapTypeId=e;a._googlemap=new google.maps.Map(b,o)}k=a._googlemap;k.setCenter(new google.maps.LatLng(n,m));k.setZoom(parseInt(c.mapOptions.zoomLevel))}DvtGeographicMapRenderer.setGoogleMapDataLayer(a,
k,d,g,h);google.maps.event.addListenerOnce(k,"idle",function(){var a=k.getCenter();google.maps.event.trigger(k,"resize");k.setCenter(a)})};
DvtGeographicMapRenderer.googleMapRenderEnd=function(a,b,c){for(var d=0;d<c.length;d++){var e=c[d];e&&DvtGeographicMapRenderer.processGoogleMapDataPoint(b,a,e.latLng,e.params,e.animation,e.initialZooming)}b.initialSelectionApplied=!0;this._bounds?(c=this._bounds.getNorthEast(),d=this._bounds.getSouthWest(),c.equals(d)?DvtGeographicMapRenderer.zoomToMarker(a,c,parseInt(b.Options.mapOptions.zoomLevel)):a.fitBounds(this._bounds),this._bounds=null):a.getZoom()||(c=parseFloat(b.Options.mapOptions.centerY),
d=parseFloat(b.Options.mapOptions.centerX),c=new google.maps.LatLng(c,d),DvtGeographicMapRenderer.zoomToMarker(a,c,2));if(this._firstTime){var g=function(){var c=a.getBounds(),d=a.getZoom();c&&(c=new DvtMapBoundsChangeEvent(c.getSouthWest().lng(),c.getSouthWest().lat(),c.getNorthEast().lng(),c.getNorthEast().lat(),c.getCenter().lng(),c.getCenter().lat(),d),b.__dispatchEvent(c))};google.maps.event.addListener(a,"dragend",function(){var c=b.Options,d=a.getCenter();d&&(c.mapOptions.centerX=""+d.lng(),
c.mapOptions.centerY=""+d.lat());var e=a.getZoom();e&&(c.mapOptions.zoomLevel=""+e);if(e||d)c.mapOptions.initialZooming="none";g()});google.maps.event.addListener(a,"maptypeid_changed",function(){var c=b.Options;switch(a.getMapTypeId()){case google.maps.MapTypeId.ROADMAP:c.mapOptions.mapType="ROADMAP";break;case google.maps.MapTypeId.SATELLITE:c.mapOptions.mapType="SATELLITE";break;case google.maps.MapTypeId.HYBRID:c.mapOptions.mapType="HYBRID";break;case google.maps.MapTypeId.TERRAIN:c.mapOptions.mapType=
"TERRAIN";break;default:c.mapOptions.mapType="ROADMAP"}});var h=function(a){k&&(a=new DvtMapInputEvent(a,k.lng(),k.lat()),b.__dispatchEvent(a))},k;google.maps.event.addListener(a,"click",function(a){a=a.latLng;a=new DvtMapInputEvent("click",a.lng(),a.lat());b.__dispatchEvent(a)});google.maps.event.addListener(a,"mousemove",function(a){k=a.latLng});google.maps.event.addDomListener(a.getDiv(),"mousedown",function(){h("mousedown")});google.maps.event.addDomListener(a.getDiv(),"mouseup",function(){h("mouseup")});
google.maps.event.addListener(a,"zoom_changed",g)}};DvtGeographicMapRenderer.processGoogleMapDataPoint=function(a,b,c,d,e,g){DvtGeographicMapRenderer.addMarker(a,b,c,d,e);g&&(this._bounds||(this._bounds=new google.maps.LatLngBounds(c,c)),this._bounds=this._bounds.extend(c))};
DvtGeographicMapRenderer.setGoogleMapDataLayer=function(a,b,c,d,e){this._bounds=null;c=c.dataLayers;this._jobCount=0;var g=[],h=0;if(this._currentMarkers){for(var k=0;k<this._currentMarkers.length;k++)this._currentMarkers[k]&&this._currentMarkers[k].setMap&&this._currentMarkers[k].setMap(null);this._currentMarkers.length=0}for(var k=void 0,m=0;m<c.length;m++){var n=c[m],o=n.data,s=DvtGeographicMapRenderer._getSelectedRowKeys(a,n,m);this._jobCount+=o.length;g.length+=o.length;for(var t=0;t<o.length;t++){var u=
DvtGeographicMapRenderer.getParams(o[t],a.getMapProvider()),v=DvtGeographicMapRenderer.getSelMode(n);u.selMode=v;u.dataLayerIdx=n.idx;if(v==DvtGeographicMapRenderer.SEL_SINGLE||v==DvtGeographicMapRenderer.SEL_MULTIPLE)u.selected=-1!==s.indexOf(o[t]._rowKey)?!0:!1;if(o[t].x&&o[t].y)v=new google.maps.LatLng(parseFloat(o[t].y),parseFloat(o[t].x)),g[h]={latLng:v,params:u,animation:e,initialZooming:d},this._jobCount--;else if(o[t].address){v=o[t].address;void 0===this._addresscache&&(this._addresscache=
{});var w=this._addresscache[v];if(w)g[h]={latLng:w,params:u,animation:e,initialZooming:d},this._jobCount--;else{var z=this;void 0===k&&(k=new google.maps.Geocoder);k.geocode({address:v},function(c,h,k){return function(m,n){z._jobCount--;if(n==google.maps.GeocoderStatus.OK){var o=m[0].geometry.location;z._addresscache[k]=o;g[h]={latLng:o,params:c,animation:e,initialZooming:d}}0===z._jobCount&&DvtGeographicMapRenderer.googleMapRenderEnd(b,a,g)}}(u,h,v))}}h++}}0===this._jobCount&&DvtGeographicMapRenderer.googleMapRenderEnd(b,
a,g)};
DvtGeographicMapRenderer.addMarker=function(a,b,c,d,e){void 0===this._currentMarkers&&(this._currentMarkers=[]);var g=d.selMode,h=d.dataLayerIdx,k=d.selected,m=d.action,n="";d.tooltip&&(n=d.tooltip);var o;o=k?new google.maps.MarkerImage(d.sourceSelected,null,null,null,new google.maps.Size(32,32)):new google.maps.MarkerImage(d.source,null,null,null,new google.maps.Size(32,32));c=new google.maps.Marker({position:c,icon:o,title:n});"auto"==e&&c.setAnimation(google.maps.Animation.DROP);c.setMap(b);this._currentMarkers.push(c);
if(g==DvtGeographicMapRenderer.SEL_SINGLE||g==DvtGeographicMapRenderer.SEL_MULTIPLE)DvtAgent.isTouchDevice()||(DvtGeographicMapRenderer.attachGMapEventListener(a,c,DvtGeographicMapRenderer.MOUSE_OVER,d),DvtGeographicMapRenderer.attachGMapEventListener(a,c,DvtGeographicMapRenderer.MOUSE_OUT,d)),DvtGeographicMapRenderer.attachGMapEventListener(a,c,DvtGeographicMapRenderer.CLICK,d),k&&(b=a.selection[h],void 0===b&&(b=a.selection[h]=[]),c.selected=!0,c.rowKey=d.rowKey,c.dataLayerIdx=h,b.push(c));m&&google.maps.event.addListener(c,
DvtGeographicMapRenderer.CLICK,function(){var b=new DvtMapActionEvent(d.clientId,d.rowKey,m);b.addParam("dataLayerIdx",d.dataLayerIdx);a.__dispatchEvent(b)})};
DvtGeographicMapRenderer.attachGMapEventListener=function(a,b,c,d){var e=new google.maps.MarkerImage(d.source,null,null,null,new google.maps.Size(32,32)),g=new google.maps.MarkerImage(d.sourceHover,null,null,null,new google.maps.Size(32,32)),h=new google.maps.MarkerImage(d.sourceSelected,null,null,null,new google.maps.Size(32,32)),k=new google.maps.MarkerImage(d.sourceHoverSelected,null,null,null,new google.maps.Size(32,32));switch(c){case DvtGeographicMapRenderer.MOUSE_OVER:google.maps.event.addListener(b,
DvtGeographicMapRenderer.MOUSE_OVER,function(){b.selected?b.setIcon(k):b.setIcon(g)});break;case DvtGeographicMapRenderer.MOUSE_OUT:google.maps.event.addListener(b,DvtGeographicMapRenderer.MOUSE_OUT,function(){b.selected||b.setIcon(e)});break;case DvtGeographicMapRenderer.CLICK:google.maps.event.addListener(b,DvtGeographicMapRenderer.CLICK,function(){var c=d.dataLayerIdx,g;a.selection[c]||(a.selection[c]=[]);g=d.selMode;if(b.selected)if(b.setIcon(e),b.selected=!1,g==DvtGeographicMapRenderer.SEL_SINGLE)a.selection[c]=
[];else{if(g==DvtGeographicMapRenderer.SEL_MULTIPLE)for(g=0;g<a.selection[c].length;g++)if(b.rowKey==a.selection[c][g].rowKey&&b.dataLayerIdx==a.selection[c][g].dataLayerIdx){a.selection[c].splice(g,1);break}}else{var k=a.selection[c];if(g==DvtGeographicMapRenderer.SEL_SINGLE&&0!=k.length){for(g=0;g<k.length;g++)k[g].setIcon(e),k[g].selected=!1;a.selection[c]=[]}b.setIcon(h);b.selected=!0;b.rowKey=d.rowKey;b.dataLayerIdx=c;a.selection[c].push(b)}k=new DvtSelectionEvent(a.selection[c]);k.addParam("dataLayerIdx",
c);a.__dispatchEvent(k)})}};DvtGeographicMapRenderer.zoomToMarker=function(a,b,c){a.setCenter(b);c&&a.setZoom(c)};
DvtGeographicMapRenderer.getParams=function(a,b){var c=DvtGeographicMapRenderer.getTooltip(a),d=DvtGeographicMapRenderer.getSource(a,b),e=DvtGeographicMapRenderer.getSourceHover(a,b),g=DvtGeographicMapRenderer.getSourceSelected(a,b),h=DvtGeographicMapRenderer.getSourceHoverSelected(a,b),k=a._rowKey,m=a.clientId,n={};n.source=d;n.sourceHover=e;n.sourceSelected=g;n.sourceHoverSelected=h;n.tooltip=c;a.action&&(n.action=a.action);n.rowKey=k;n.clientId=m;return n};
DvtGeographicMapRenderer.getSelMode=function(a){var b=DvtGeographicMapRenderer.SEL_NONE;a.dataSelection&&(b=a.dataSelection);return b};DvtGeographicMapRenderer.getTooltip=function(a){var b=null;a.shortDesc&&(b=a.shortDesc);return b};DvtGeographicMapRenderer.getSource=function(a,b){var c;a.source?c=a.source:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?c=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(c=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_IMG);return c};
DvtGeographicMapRenderer.getSourceSelected=function(a,b){var c;a.sourceSelected?c=a.sourceSelected:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?c=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_SELECT_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(c=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_SELECT_IMG);return c};
DvtGeographicMapRenderer.getSourceHover=function(a,b){var c;a.sourceHover?c=a.sourceHover:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?c=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_HOVER_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(c=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_HOVER_IMG);return c};
DvtGeographicMapRenderer.getSourceHoverSelected=function(a,b){var c;a.sourceHoverSelected?c=a.sourceHoverSelected:b==DvtGeographicMap.MAP_PROVIDER_ORACLE?c=DvtGeographicMapRenderer.DEFAULT_ORACLE_MARKER_SELECT_IMG:b==DvtGeographicMap.MAP_PROVIDER_GOOGLE&&(c=DvtGeographicMapRenderer.DEFAULT_GOOGLE_MARKER_SELECT_IMG);return c};DvtGeographicMapRenderer.getMin=function(a,b){if(null==a||a>b)a=b;return a};DvtGeographicMapRenderer.getMax=function(a,b){if(null==a||a<b)a=b;return a};
DvtGeographicMapRenderer._getSelectedRowKeys=function(a,b,c){var d=DvtGeographicMapRenderer.getSelMode(b),e=[];if(d===DvtGeographicMapRenderer.SEL_SINGLE||d===DvtGeographicMapRenderer.SEL_MULTIPLE)if(a.initialSelectionApplied){if(a=a.selection[c]){for(b=0;b<a.length;b++)e.push(a[b].rowKey);a.length=0}}else void 0!==b.selectedRowKeys&&(e=b.selectedRowKeys.split(" "));return e};DvtGeographicMapRenderer._mapIncludesData=function(a){a=a.Data;return!a||!a.dataLayers||0==a.dataLayers.length?!1:!0};
DvtGeographicMapRenderer.loadJS=function(a,b,c){var d=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript";e.src=a;e.async=!1;e.onload=b;e.onerror=c;d.appendChild(e)};var DvtMapActionEvent=function(a,b,c){this.Init(DvtMapActionEvent.TYPE);this._clientId=a;this._rowKey=b;this._action=c};DvtObj.createSubclass(DvtMapActionEvent,DvtBaseComponentEvent,"DvtMapActionEvent");DvtMapActionEvent.TYPE="action";DvtMapActionEvent.prototype.getClientId=function(){return this._clientId};
DvtMapActionEvent.prototype.getRowKey=function(){return this._rowKey};DvtMapActionEvent.prototype.getAction=function(){return this._action};var DvtMapBoundsChangeEvent=function(a,b,c,d,e,g,h){this.Init(DvtMapBoundsChangeEvent.TYPE);this._minX=a;this._minY=b;this._maxX=c;this._maxY=d;this._centerX=e;this._centerY=g;this._zoomLevel=h};DvtObj.createSubclass(DvtMapBoundsChangeEvent,DvtBaseComponentEvent,"DvtMapBoundsChangeEvent");DvtMapBoundsChangeEvent.TYPE="map_bounds_change";
DvtMapBoundsChangeEvent.prototype.getMinX=function(){return this._minX};DvtMapBoundsChangeEvent.prototype.getMinY=function(){return this._minY};DvtMapBoundsChangeEvent.prototype.getMaxX=function(){return this._maxX};DvtMapBoundsChangeEvent.prototype.getMaxY=function(){return this._maxY};DvtMapBoundsChangeEvent.prototype.getCenterX=function(){return this._centerX};DvtMapBoundsChangeEvent.prototype.getCenterY=function(){return this._centerY};DvtMapBoundsChangeEvent.prototype.getZoomLevel=function(){return this._zoomLevel};
var DvtMapInputEvent=function(a,b,c){this.Init(DvtMapInputEvent.TYPE);this._eventId=a;this._pointX=b;this._pointY=c};DvtObj.createSubclass(DvtMapInputEvent,DvtBaseComponentEvent,"DvtMapInputEvent");DvtMapInputEvent.TYPE="mapinput";DvtMapInputEvent.prototype.getEventId=function(){return this._eventId};DvtMapInputEvent.prototype.getPointX=function(){return this._pointX};DvtMapInputEvent.prototype.getPointY=function(){return this._pointY};