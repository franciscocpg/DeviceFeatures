(function(){var a=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"inputNumberSlider");a.prototype.getInputValueAttribute=function(){return"value"};a.prototype.render=function(a){var c=amx.createField(a),d=c.fieldRoot,e=c.isDisable,g=adf.mf.api.amx.isValueTrue(a.getAttribute("readOnly")),h=adf.mf.api.amx.isValueTrue(a.getAttribute("required")),k=document.createElement("div");k.className="container";c.fieldValue.appendChild(k);var m=document.createElement("div"),n=a.getId()+
"::slider";m.setAttribute("id",n);m.className="slider";var o=document.createElement("div");o.className="amx-extendedTarget";m.appendChild(o);var s=document.createElement("div"),n=a.getId()+"::valveBg";s.setAttribute("id",n);s.className="valve-background";m.appendChild(s);n=document.createElement("div");n.className="valve";o=document.createElement("div");o.className="amx-extendedTarget";n.appendChild(o);g||(n.setAttribute("role","slider"),o=a.getId()+"::lbl",n.setAttribute("aria-labelledby",o),n.setAttribute("aria-orientation",
"horizontal"),n.setAttribute("aria-valuemin",a.getAttribute("minimum")),n.setAttribute("aria-valuemax",a.getAttribute("maximum")),n.setAttribute("aria-valuenow",a.getAttribute("value")),e&&n.setAttribute("aria-disabled","true"),h&&n.setAttribute("aria-required","true"));s.appendChild(n);var t=document.createElement("div"),h=a.getId()+"::selected";t.id=h;t.className="selected";m.appendChild(t);g&&adf.mf.internal.amx.addCSSClassName(d,"amx-readOnly");k.appendChild(m);g=a.getAttribute("minimum");null!=
g&&!isNaN(g)?(m.setAttribute("data-min",g),a._min=1*g):(m.setAttribute("data-min",0),a._min=0);(g=a.getAttribute("maximum"))&&!isNaN(g)?(m.setAttribute("data-max",g),a._max=1*g):(m.setAttribute("data-max",100),a._max=100);g=a.getAttribute("stepSize");null!=g?(m.setAttribute("step",g),a._step=g):(m.setAttribute("step",1),a._step=1);g=a.getAttribute("value");void 0!==g&&(m.setAttribute("data-value",g),a._currentValue=1*g);e&&(adf.mf.internal.amx.addCSSClassName(d,"amx-disabled"),g=document.createElement("div"),
g.className="disable",c.fieldValue.appendChild(g));adf.mf.api.amx.applyRequiredMarker(a,c);!e&&!c.isReadOnly&&(adf.mf.api.amx.addBubbleEventListener(m,"tap",function(c){event.stopPropagation();var d=c.pageX;if(void 0!=d&&0!=d)d=c.pageX;else if(c.touches&&0<c.touches.length)d=c.touches[0].pageX;else if(c.changedTouches&&0<c.changedTouches.length)d=c.changedTouches[0].pageX;else return;c=adf.mf.internal.amx.getElementLeft(m);d=(d-c)/m.offsetWidth;"rtl"==document.documentElement.dir&&(d=1-d);d=d*(a._max-
a._min)+a._min;a._oldValue=a._currentValue;event.data._setValue(d,a);a.setAttributeResolvedValue("value",a._currentValue);d=new amx.ValueChangeEvent(a._oldValue,a._currentValue);adf.mf.api.amx.processAmxEvent(a,"valueChange","value",a._currentValue,d)},this),adf.mf.api.amx.addDragListener(s,{start:function(c,d){d.requestDragLock(this,!0,!0);c.preventDefault();c.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;a._oldValue=a._currentValue},drag:function(c,d){c.preventDefault();c.stopPropagation();
d.preventDefault=!0;d.stopPropagation=!0;var e="rtl"==document.documentElement.dir,g=parseInt(e?s.style.right:s.style.left,10),h=s.offsetWidth/2,g=g+(e?-d.deltaPageX:d.deltaPageX),k=null;g<-h?(g=-h,k=a._min):g>m.offsetWidth-h?(g=m.offsetWidth-h,k=a._max):(isNaN(k),k=(g+h)/m.offsetWidth*(a._max-a._min)+a._min,k=Math.round(k/a._step)*a._step);e?s.style.right=g+"px":s.style.left=g+"px";t.style.width=g+h+"px";m.setAttribute("data-value",k);a._currentValue!=k&&(a._currentValue=k)},end:function(c,d){c.preventDefault();
c.stopPropagation();d.preventDefault=!0;d.stopPropagation=!0;c.data._setValue(a._currentValue,a);a.setAttributeResolvedValue("value",a._currentValue);var e=new amx.ValueChangeEvent(a._oldValue,a._currentValue);adf.mf.api.amx.processAmxEvent(a,"valueChange","value",a._currentValue,e);a._oldValue=a._currentValue}},this));return d};a.prototype._setValue=function(a,c){var d=c._min,e=c._max,g=c._step,h=c._currentValue,k=c.getId(),m=document.getElementById(k+"::slider"),n=document.getElementById(k+"::valveBg"),
o=m.offsetWidth;isNaN(a)&&(a=d);a=Math.round(a/g)*g;a<=d&&(a=d);a>=e&&(a=e);g=n.offsetWidth/2;d=(a-d)/(e-d)*o;"rtl"==document.documentElement.dir?n.style.right=d-g+"px":n.style.left=d-g+"px";document.getElementById(k+"::selected").style.width=d+"px";m.setAttribute("data-value",a);h!=a&&(c._currentValue=a)};a.prototype.init=function(a,c){var d=c.getId(),e=document.getElementById(d+"::slider");document.getElementById(d+"::valveBg");null!=e&&this._setValue(1*e.getAttribute("data-value"),c);d={typeHandler:this,
amxNode:c,amxNodeId:d};adf.mf.api.amx.addBubbleEventListener(window,"resize",this._handleResize,d);adf.mf.api.amx.addBubbleEventListener(a,"resize",this._handleResize,d)};a.prototype._handleResize=function(a){var a=a.data,c=a.typeHandler,d=a.amxNode,e=a.amxNodeId,g=document.getElementById(e+"::slider");document.getElementById(e+"::valveBg");adf.mf.internal.amx.isAncestor(document.body,g)?c._setValue(1*g.getAttribute("data-value"),d):adf.mf.api.amx.removeBubbleEventListener(window,"resize",c._handleResize,
a)}})();