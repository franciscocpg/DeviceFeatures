var DvtTimeUtils={supportsTouch:function(){return DvtAgent.isTouchDevice()}};DvtObj.createSubclass(DvtTimeUtils,DvtObj,"DvtTimeUtils");DvtTimeUtils.getDatePosition=function(a,b,c,d){c=(c-a)*d;a=b-a;return 0==c||0==a?0:c/a};DvtTimeUtils.getPositionDate=function(a,b,c,d){b=c*(b-a);return 0==b||0==d?a:b/d+a};var DvtOverview=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtOverview,DvtContainer,"DvtOverview");DvtOverview.MIN_WINDOW_SIZE=10;DvtOverview.DEFAULT_VERTICAL_TIMEAXIS_SIZE=40;
DvtOverview.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE=20;DvtOverview.HANDLE_PADDING_SIZE=20;
DvtOverview.prototype.Init=function(a,b,c){DvtOverview.superclass.Init.call(this,a);this._callback=b;this._callbackObj=c;this._lastChildIndex=this.isFlashEnvironment()?7:6;if(null!=this._callback||null!=this._callbackObj)DvtTimeUtils.supportsTouch()?(this.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.addEvtListener(DvtTouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.addEvtListener(DvtTouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.addEvtListener(DvtMouseEvent.CLICK,
this.HandleShapeClick,!1,this)):(this.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.addEvtListener(DvtMouseEvent.CLICK,this.HandleShapeClick,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandleMouseDown,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandleMouseUp,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEMOVE,this.HandleMouseMove,!1,this),this.addEvtListener(DvtKeyboardEvent.KEYDOWN,
this.HandleKeyDown,!1,this),this.addEvtListener(DvtKeyboardEvent.KEYUP,this.HandleKeyUp,!1,this));this._initPos=0};
DvtOverview.prototype.setViewportRange=function(a,b){var c=this.getDatePosition(a),d=this.getDatePosition(b);if(!(c<this.getMinimumPosition()||d>this.getMaximumPosition())){var e=Math.max(d-c,this.getMinimumWindowSize());0<e&&0<=c&&d<=this.Width&&(d=this.getSlidingWindow(),this.isRTL()?this.setSlidingWindowPos(d,this.Width-(c+e)):this.setSlidingWindowPos(d,c),this.setSlidingWindowSize(d,e),this.ScrollTimeAxis())}};
DvtOverview.prototype.setInitialPosition=function(a){a>=this.getMinimumPosition()&&a<=this.getMaximumPosition()&&(this._initPos=a)};DvtOverview.prototype.isFeatureOff=function(a){return null==this._featuresOff?!1:-1!=this._featuresOff.indexOf(a)};DvtOverview.prototype.isAnimationOnClick=function(){return"off"!==this._animationOnClick};
DvtOverview.prototype.render=function(a,b,c){if(null==a){var d=this._start,e=this._end,g=this.getSlidingWindow(),h=this.getSlidingWindowPos(g);null!=g&&0!=h&&(this._renderStart=DvtTimeUtils.getPositionDate(d,e,h,this.Width));this.removeChildren()}null!=b&&null!=c&&(this.Width=b,this.Height=c);a&&this._applyParsedProperties(this.Parse(a));a=null!=this._callback||null!=this._callbackObj;this.createBackground(b,c);a&&this.createSlidingWindow(b,c);this.updateTimeAxis(b,c);this.parseFilledTimeRangesXML(b,
c);this.updateCurrentTime(b,c);this.parseDataXML(b,c);a&&(this.createBorderAroundSlidingWindow(b,c),this.isFlashEnvironment()&&(this._resizeArrow=this.createResizeArrow()),this.updateSlidingWindow(b,c));null!=this._initialFocusTime&&(this._initPos=Math.max(0,DvtTimeUtils.getDatePosition(this._start,this._end,this._initialFocusTime,this._width)));0<this._initPos&&this.longScrollToPos(this._initPos)};DvtOverview.prototype.getParser=function(){return new DvtOverviewParser(this)};
DvtOverview.prototype.Parse=function(a){return this.getParser(a).parse(a)};
DvtOverview.prototype._applyParsedProperties=function(a){this._start=a.start;this._end=a.end;this._width=a.width;this._renderStart=a.renderStart;this._currentTime=a.currentTime;this._initialFocusTime=a.initialFocusTime;this._animationOnClick=a.animationOnClick;this._leftMargin=Math.max(0,a.leftMargin);this._rightMargin=Math.max(0,a.rightMargin);isNaN(this._leftMargin)&&(this._leftMargin=0);isNaN(this._rightMargin)&&(this._rightMargin=0);this._orientation=a.orientation;this._overviewPosition=a.overviewPosition;
this._isRtl=a.isRtl;null!=a.featuresOff&&(this._featuresOff=a.featuresOff.split(" "));null!=a.minimumWindowSize&&0<a.minimumWindowSize&&(this._minimumWindowSize=a.minimumWindowSize);this._borderStyles=a.borderStyles;this._timeAxisInfo=a.timeAxisInfo;null!=a.timeAxisInfo&&(this._ticks=this._timeAxisInfo.ticks);this._formattedTimeRanges=a.formattedTimeRanges;this._borderTopStyle=a.borderTopStyle;this._borderTopColor=a.borderTopColor;this._windowBackgroundColor=a.windowBackgroundColor;this._windowBackgroundAlpha=
a.windowBackgroundAlpha;this._windowBorderTopStyle=a.windowBorderTopStyle;this._windowBorderRightStyle=a.windowBorderRightStyle;this._windowBorderBottomStyle=a.windowBorderBottomStyle;this._windowBorderLeftStyle=a.windowBorderLeftStyle;this._windowBorderTopColor=a.windowBorderTopColor;this._windowBorderRightColor=a.windowBorderRightColor;this._windowBorderBottomColor=a.windowBorderBottomColor;this._windowBorderLeftColor=a.windowBorderLeftColor;this._handleTextureColor=a.handleTextureColor;this._handleFillColor=
a.handleFillColor;this._handleBackgroundImage=a.handleBackgroundImage;this._handleWidth=a.handleWidth;this._handleHeight=a.handleHeight;this._overviewBackgroundColor=a.overviewBackgroundColor;this._currentTimeIndicatorColor=a.currentTimeIndicatorColor;this._timeIndicatorColor=a.timeIndicatorColor;this._timeAxisBarColor=a.timeAxisBarColor;this._timeAxisBarOpacity=a.timeAxisBarOpacity;this._leftFilterPanelColor=a.leftFilterPanelColor;this._leftFilterPanelAlpha=a.leftFilterPanelAlpha;this._rightFilterPanelColor=
a.rightFilterPanelColor;this._rightFilterPanelAlpha=a.rightFilterPanelAlpha};DvtOverview.prototype.getDatePosition=function(a){return Math.max(0,DvtTimeUtils.getDatePosition(this._start,this._end,a,this.getOverviewSize()))+this._leftMargin};DvtOverview.prototype.getPositionDate=function(a){return DvtTimeUtils.getPositionDate(this._start,this._end,Math.max(0,a-this._leftMargin),this.getOverviewSize())};DvtOverview.prototype.isRTL=function(){return!this.isVertical()&&"true"==this._isRtl};
DvtOverview.prototype.isVertical=function(){return"vertical"==this._orientation};DvtOverview.prototype.isOverviewAbove=function(){return"above"==this._overviewPosition};DvtOverview.prototype.setMargins=function(a,b){!isNaN(a)&&null!=a&&0<a&&(this._leftMargin=a);!isNaN(b)&&null!=b&&0<b&&(this._rightMargin=b)};DvtOverview.prototype.getOverviewSize=function(){return this.isVertical()?this.Height-this._leftMargin-this._rightMargin:this.Width-this._leftMargin-this._rightMargin};
DvtOverview.prototype.getMinimumPosition=function(){return this._leftMargin};DvtOverview.prototype.getMaximumPosition=function(){return this.isVertical()?this.Height-this._rightMargin:this.Width-this._rightMargin};DvtOverview.prototype.getMinimumWindowSize=function(){if(null!=this._minWinSize)return this._minWinSize;return null!=this._minimumWindowSize?this._minWinSize=DvtTimeUtils.getDatePosition(this._start,this._end,this._start+this._minimumWindowSize,this.getOverviewSize()):DvtOverview.MIN_WINDOW_SIZE};
DvtOverview.prototype.getGrippySize=function(){return 10};DvtOverview.prototype.getHandleStart=function(){return DvtTimeUtils.supportsTouch()?this.getHandleSize()/2:0};DvtOverview.prototype.getHandleSize=function(){return DvtTimeUtils.supportsTouch()?30:10};DvtOverview.prototype.isHandle=function(a){var b=a.getId();return"lh"==b||"rh"==b||"lhb"==b||"rhb"==b||"grpy"==b||"lbgrh"==b||"rbgrh"==b||null!=a.getParent()&&"grpy"==a.getParent().getId()};
DvtOverview.prototype.getTimeAxisWidth=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisWidth){var a=parseInt(this._timeAxisInfo.width,10);this._timeAxisWidth=!isNaN(a)&&a<this.Width?a:DvtOverview.DEFAULT_VERTICAL_TIMEAXIS_SIZE}return this._timeAxisWidth};DvtOverview.prototype.getTimeAxisHeight=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisHeight){var a=parseInt(this._timeAxisInfo.height,10);this._timeAxisHeight=!isNaN(a)&&a<this.Height?a:DvtOverview.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE}return this._timeAxisHeight};
DvtOverview.prototype.getPageX=function(a){return DvtTimeUtils.supportsTouch()&&null!=a.targetTouches?0<a.targetTouches.length?a.targetTouches[0].pageX:null:a.pageX};DvtOverview.prototype.getPageY=function(a){return DvtTimeUtils.supportsTouch()&&null!=a.targetTouches?0<a.targetTouches.length?a.targetTouches[0].pageY:null:a.pageY};DvtOverview.prototype.isLeftAndRightFilterRendered=function(){return!1};DvtOverview.prototype.getSlidingWindow=function(){return this.getChildAt(1)};
DvtOverview.prototype.getLeftBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(3):null};DvtOverview.prototype.getRightBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(4):null};DvtOverview.prototype.getLeftBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(5):null};
DvtOverview.prototype.getRightBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(6):null};DvtOverview.prototype.getLeftHandle=function(){var a=this._lastChildIndex;return this.getChildAt(this.getNumChildren()-a)};DvtOverview.prototype.getRightHandle=function(){var a=this._lastChildIndex-1;return this.getChildAt(this.getNumChildren()-a)};
DvtOverview.prototype.getLeftTopBar=function(){var a=this._lastChildIndex-2;return this.getChildAt(this.getNumChildren()-a)};DvtOverview.prototype.getRightTopBar=function(){var a=this._lastChildIndex-3;return this.getChildAt(this.getNumChildren()-a)};DvtOverview.prototype.getBottomBar=function(){var a=this._lastChildIndex-4;return this.getChildAt(this.getNumChildren()-a)};DvtOverview.prototype.getTopBar=function(){var a=this._lastChildIndex-5;return this.getChildAt(this.getNumChildren()-a)};
DvtOverview.prototype.setLinePos=function(a,b,c){this.isVertical()?(-1!=b&&a.setY1(b),-1!=c&&a.setY2(c)):(-1!=b&&a.setX1(b),-1!=c&&a.setX2(c))};DvtOverview.prototype.getLinePos1=function(a){return this.isVertical()?a.getY1():a.getX1()};DvtOverview.prototype._findDrawable=function(a){a=a.target;if(null!=a){var b=a.getId();if(null==b)return null;if("_border"==b.substr(b.length-7))return this.getChildAfter(a);if("tick"!=b.substr(0,4)&&"ltb"!=b&&"rtb"!=b&&"bb"!=b&&"tab"!=b)return a}return null};
DvtOverview.prototype.isMovable=function(a){return"window"==a.getId()||"ftr"==a.getId()||"sta"==a.getId()||this.isHandle(a)?!0:!1};DvtOverview.prototype.isFlashEnvironment=function(){return window&&window.isFlashEnvironment};DvtOverview.prototype.createBackground=function(a,b){var c=new DvtRect(this.getCtx(),0,0,a,b,"bg");c.setSolidFill(this._overviewBackgroundColor);c.setPixelHinting(!0);this.addChild(c);return c};
DvtOverview.prototype.createSlidingWindow=function(a,b){var c=this.isVertical(),d=c?new DvtRect(this.getCtx(),0,0,a,0,"window"):new DvtRect(this.getCtx(),0,0,0,b,"window");d.setSolidFill(this._windowBackgroundColor,this._windowBackgroundAlpha);d.setPixelHinting(!0);if(!this.isFeatureOff("zoom")){var e=this.getHandleSize(),g=this.getHandleStart(),h=this.getGrippySize();if(c){var k=(a-36)/2,m=DvtPathUtils.moveTo(k,0)+DvtPathUtils.quadTo(k+3,6,k+8,8)+DvtPathUtils.lineTo(k+28,8)+DvtPathUtils.quadTo(k+
33,6,k+36,0);DvtPathUtils.closePath();var n=DvtPathUtils.moveTo(k,0)+DvtPathUtils.quadTo(k+3,-6,k+8,-8)+DvtPathUtils.lineTo(k+28,-8)+DvtPathUtils.quadTo(k+33,-6,k+36,0);DvtPathUtils.closePath();var o=new DvtRect(this.getCtx(),0,0,a,e,"lhb"),e=new DvtRect(this.getCtx(),0,0,a,e,"rhb"),s="row-resize";if(this._handleBackgroundImage)var t=this.createGrippyImage(a,h),h=this.createGrippyImage(a,h);else t=this.createGrippy(k),h=this.createGrippy(k)}else k=(b-36)/2,m=DvtPathUtils.moveTo(0,k)+DvtPathUtils.quadTo(6,
k+3,8,k+8)+DvtPathUtils.lineTo(8,k+28)+DvtPathUtils.quadTo(6,k+33,0,k+36),DvtPathUtils.closePath(),n=DvtPathUtils.moveTo(0,k)+DvtPathUtils.quadTo(-6,k+3,-8,k+8)+DvtPathUtils.lineTo(-8,k+28)+DvtPathUtils.quadTo(-6,k+33,0,k+36),DvtPathUtils.closePath(),o=new DvtRect(this.getCtx(),0-g,0,e,b,"lhb"),e=new DvtRect(this.getCtx(),g,0,e,b,"rhb"),s="col-resize",this._handleBackgroundImage?(t=this.createGrippyImage(h,b),h=this.createGrippyImage(h,b)):(t=this.createGrippy(k),h=this.createGrippy(k));o.setSolidFill(this._windowBackgroundColor,
0);e.setSolidFill(this._windowBackgroundColor,0);o.setPixelHinting(!0);e.setPixelHinting(!0);m=new DvtPath(this.getCtx(),m,"lh");n=new DvtPath(this.getCtx(),n,"rh");m.setSolidFill(this._handleFillColor);m.setSolidStroke(this._handleFillColor);n.setSolidFill(this._handleFillColor);n.setSolidStroke(this._handleFillColor);this._windowBackgroundColor==this._handleFillColor&&(m.setPixelHinting(!0),n.setPixelHinting(!0));o.setCursor(s);e.setCursor(s);m.setCursor(s);n.setCursor(s);t.setCursor(s);h.setCursor(s);
d.addChild(o);d.addChild(m);d.addChild(t);d.addChild(e);d.addChild(n);d.addChild(h)}d.setCursor("move");this.addChild(d);d=c?new DvtLine(this.getCtx(),a-this.getTimeAxisWidth(),0,a-this.getTimeAxisWidth(),b,"tab"):this.isOverviewAbove()?new DvtLine(this.getCtx(),0,this.getTimeAxisHeight(),a,this.getTimeAxisHeight(),"tab"):new DvtLine(this.getCtx(),0,b-this.getTimeAxisHeight(),a,b-this.getTimeAxisHeight(),"tab");d.setSolidStroke(this._timeAxisBarColor,this._timeAxisBarOpacity);d.setPixelHinting(!0);
this.addChild(d);this.isLeftAndRightFilterRendered()&&(c?(d=new DvtRect(this.getCtx(),0,0,a,0,"lbg"),o=new DvtRect(this.getCtx(),0,0,a,0,"rbg")):(d=new DvtRect(this.getCtx(),0,0,0,b,"lbg"),o=new DvtRect(this.getCtx(),0,0,0,b,"rbg")),d.setSolidFill(this._leftFilterPanelColor,this._leftFilterPanelAlpha),this.addChild(d),o.setSolidFill(this._rightFilterPanelColor,this._rightFilterPanelAlpha),this.addChild(o),DvtTimeUtils.supportsTouch()&&void 0!=g&&(this.getHandleStart(),c?(c=new DvtRect(this.getCtx(),
0,0,a,g,"lbgrh"),g=new DvtRect(this.getCtx(),0,0,a,g,"rbgrh")):(c=new DvtRect(this.getCtx(),0,0,g,b,"lbgrh"),g=new DvtRect(this.getCtx(),0,0,g,b,"rbgrh")),c.setSolidFill(this._leftFilterPanelColor,0),this.addChild(c),g.setSolidFill(this._rightFilterPanelColor,0),this.addChild(g)))};DvtOverview.prototype.createGrippyImage=function(a,b){var c=(a-this._handleWidth)/2,d=(b-this._handleHeight)/2;return new DvtImage(this.getCtx(),this._handleBackgroundImage,c,d,this._handleWidth,this._handleHeight,"grpy")};
DvtOverview.prototype.createGrippy=function(a){var b=new DvtContainer(this.getCtx(),"grpy"),c=this._handleTextureColor;if(this.isVertical()){for(var d=8+a,a=3,e=0;9>e;e++){var g=new DvtLine(this.getCtx(),d+2*e,a,d+2*e+1,a,"dot1"+e);g.setSolidStroke(c);b.addChild(g);a+=2;g=new DvtLine(this.getCtx(),d+1+2*e,a,d+1+2*e+1,a,"dot2"+e);g.setSolidStroke(c);b.addChild(g);a+=2;g=new DvtLine(this.getCtx(),d+2*e,a,d+2*e+1,a,"dot3"+e);g.setSolidStroke(c);b.addChild(g);a=3}g=new DvtLine(this.getCtx(),d+18,a,d+
18+1,a,"dot4");g.setSolidStroke(c);b.addChild(g);a+=4;g=new DvtLine(this.getCtx(),d+18,a,d+18+1,a,"dot5")}else{d=3;a=8+a;for(e=0;9>e;e++)g=new DvtLine(this.getCtx(),d,a+2*e,d,a+2*e+1,"dot1"+e),g.setSolidStroke(c),b.addChild(g),d+=2,g=new DvtLine(this.getCtx(),d,a+1+2*e,d,a+1+2*e+1,"dot2"+e),g.setSolidStroke(c),b.addChild(g),d+=2,g=new DvtLine(this.getCtx(),d,a+2*e,d,a+2*e+1,"dot3"+e),g.setSolidStroke(c),b.addChild(g),d=3;g=new DvtLine(this.getCtx(),d,a+18,d,a+18+1,"dot4");g.setSolidStroke(c);b.addChild(g);
d+=4;g=new DvtLine(this.getCtx(),d,a+18,d,a+18+1,"dot5")}g.setSolidStroke(c);b.addChild(g);b.setPixelHinting(!0);return b};
DvtOverview.prototype.updateSlidingWindow=function(){var a=this.isVertical(),b=this.getSlidingWindow(),c=this.getOverviewSize(),d=a?this.Height:this.Width,e=this._width,g=this._start,h=this._end,a=this._renderStart,k=DvtTimeUtils.getPositionDate(g,h,0,e),e=DvtTimeUtils.getPositionDate(g,h,d,e),k=this.getDatePosition(k),d=Math.min(d,this.getDatePosition(e)),a=this.getDatePosition(a),d=d-k;this.isRTL()?this.setSlidingWindowPos(b,c-a-d):this.setSlidingWindowPos(b,a);this.setSlidingWindowSize(b,d);this.ScrollTimeAxis();
this._increment=this.calculateIncrement(c)};
DvtOverview.prototype.createBorderAroundSlidingWindow=function(a,b){var c=this.getSlidingWindow();if(this.isVertical()){var d=c.getY(),e=c.getY()+c.getHeight()-1;if(this.isFlashEnvironment()||DvtAgent.isPlatformWebkit())var g=0,h=a-1;else g=1,h=a;var c=new DvtLine(this.getCtx(),0,d,a,d,"lh"),k=new DvtLine(this.getCtx(),0,e,a,e,"rh"),m=new DvtLine(this.getCtx(),g,0,g,d,"ltb"),n=new DvtLine(this.getCtx(),g,e,g,b,"rtb"),o=new DvtLine(this.getCtx(),h,d,h,e,"bb"),d=new DvtLine(this.getCtx(),g,d,g,e,"tb")}else d=
1,this.isFlashEnvironment()&&(d=0),e=b-1,g=c.getX(),h=c.getX()+c.getWidth()-1,c=new DvtLine(this.getCtx(),g,d,g,e,"lh"),k=new DvtLine(this.getCtx(),h,d,h,e,"rh"),m=new DvtLine(this.getCtx(),0,Math.max(0,d-1),g+1,Math.max(0,d-1),"ltb"),n=new DvtLine(this.getCtx(),h-1,Math.max(0,d-1),a,Math.max(0,d-1),"rtb"),o=new DvtLine(this.getCtx(),g,e,h,e,"bb"),d=new DvtLine(this.getCtx(),g,d,h,d,"tb");c.setPixelHinting(!0);k.setPixelHinting(!0);m.setPixelHinting(!0);n.setPixelHinting(!0);o.setPixelHinting(!0);
d.setPixelHinting(!0);"none"!=this._windowBorderLeftStyle&&c.setSolidStroke(this._windowBorderLeftColor);this.addChild(c);"none"!=this._windowBorderRightStyle&&k.setSolidStroke(this._windowBorderRightColor);this.addChild(k);"none"!=this._borderTopStyle&&this._borderTopColor&&(m.setSolidStroke(this._borderTopColor),n.setSolidStroke(this._borderTopColor));this.addChild(m);this.addChild(n);"none"!=this._windowBorderBottomStyle&&o.setSolidStroke(this._windowBorderBottomColor);this.addChild(o);"none"!=
this._windowBorderTopStyle&&d.setSolidStroke(this._windowBorderTopColor);this.addChild(d)};
DvtOverview.prototype.createResizeArrow=function(){var a=this.isVertical()?DvtPathUtils.moveTo(6,0)+DvtPathUtils.lineTo(0,5)+DvtPathUtils.lineTo(5,5)+DvtPathUtils.lineTo(5,17)+DvtPathUtils.lineTo(0,17)+DvtPathUtils.lineTo(6,22)+DvtPathUtils.lineTo(12,17)+DvtPathUtils.lineTo(7,17)+DvtPathUtils.lineTo(7,5)+DvtPathUtils.lineTo(12,5)+DvtPathUtils.closePath():DvtPathUtils.moveTo(5,0)+DvtPathUtils.lineTo(0,6)+DvtPathUtils.lineTo(5,12)+DvtPathUtils.lineTo(5,7)+DvtPathUtils.lineTo(17,7)+DvtPathUtils.lineTo(17,
12)+DvtPathUtils.lineTo(22,6)+DvtPathUtils.lineTo(17,0)+DvtPathUtils.lineTo(17,4)+DvtPathUtils.lineTo(5,4)+DvtPathUtils.lineTo(5,0)+DvtPathUtils.closePath(),a=new DvtPath(this.getCtx(),a,"arr");a.setSolidFill("#ffffff");a.setSolidStroke("#000000");a.setVisible(!1);this.addChild(a);return a};DvtOverview.prototype.setRectPos=function(a,b){this.isVertical()?a.setY(b):a.setX(b)};DvtOverview.prototype.getRectPos=function(a){return this.isVertical()?a.getY():a.getX()};
DvtOverview.prototype.getRectSize=function(a){return this.isVertical()?a.getHeight():a.getWidth()};DvtOverview.prototype.setRectSize=function(a,b){this.isVertical()?a.setHeight(b):a.setWidth(b)};DvtOverview.prototype.getSlidingWindowPos=function(a){return this.isVertical()?a.getTranslateY():a.getTranslateX()};
DvtOverview.prototype.setSlidingWindowPos=function(a,b){b=Math.max(0,b);this.isVertical()?a.setTranslateY(b):a.setTranslateX(b);if(this.isLeftAndRightFilterRendered()){this.getLeftBackground().setWidth(b);var c=b+this.getSlidingWindowSize(a),d=this.getRightBackground();d.setX(c);d.setWidth(Math.max(0,this.Width-c));DvtTimeUtils.supportsTouch()&&!this.isFeatureOff("zoom")&&(d=this.getHandleStart(),this.getLeftBackgroundHandle().setX(b-d),this.getRightBackgroundHandle().setX(c))}};
DvtOverview.prototype.getSlidingWindowSize=function(a){return this.getRectSize(a)};
DvtOverview.prototype.setSlidingWindowSize=function(a,b){b=Math.max(this.getMinimumWindowSize(),b);b=Math.min(this.isVertical()?this.Height:this.Width,b);this.setRectSize(a,b);if(this.isLeftAndRightFilterRendered()){var c=this.getSlidingWindowPos(a)+b,d=this.getRightBackground();d.setX(c);d.setWidth(Math.max(0,this.Width-c));DvtTimeUtils.supportsTouch()&&!this.isFeatureOff("zoom")&&this.getRightBackgroundHandle().setX(c)}if(!this.isFeatureOff("zoom")){var c=a.getChildAt(3),d=a.getChildAt(4),e=a.getChildAt(5);
this.isVertical()?(d.setTranslateY(b),c.setTranslateY(b-this.getHandleSize()),e.setTranslateY(b-this.getGrippySize())):(d.setTranslateX(b),c.setTranslateX(b-this.getHandleSize()),e.setTranslateX(b-this.getGrippySize()))}};DvtOverview.prototype.calculateIncrement=function(a){var b=this._width,c=this._start,d=this._end,e=DvtTimeUtils.getPositionDate(c,d,1,a),a=DvtTimeUtils.getPositionDate(c,d,2,a),e=DvtTimeUtils.getDatePosition(c,d,e,b);return DvtTimeUtils.getDatePosition(c,d,a,b)-e};
DvtOverview.prototype.updateTimeAxis=function(a,b){if(null!=this._ticks){this.isVertical();for(var c=this.getOverviewSize(),d=0;d<this._ticks.length;d++){var e=this._ticks[d],g=this.getDatePosition(parseInt(e.getAttr("time"),10)),e=e.getAttr("label"),h=0,h=d+1<this._ticks.length?this.getDatePosition(parseInt(this._ticks[d+1].getAttr("time"),10))-g:c-g;this.isRTL()&&(g=c-g);this.addTick(g,a,b,"tick"+d);this.addLabel(g,e,a,b,h,"label"+d)}}};
DvtOverview.prototype.addTick=function(a,b,c,d){a=this.isVertical()?new DvtLine(this.getCtx(),0,a,b,a,d):new DvtLine(this.getCtx(),a,0,a,c,d);b=new DvtSolidStroke(this._timeIndicatorColor);b.setStyle(DvtStroke.DASHED,3);a.setStroke(b);a.setPixelHinting(!0);this.addChild(a)};
DvtOverview.prototype.addLabel=function(a,b,c,d,e,g){this.isVertical()?a=new DvtOutputText(this.getCtx(),b,4,a,g):(c=this.isOverviewAbove()?2:d-this.getTimeAxisHeight()+2,a=new DvtOutputText(this.getCtx(),b,a+5,c,g));a.setCSSStyle(new DvtCSSStyle("font-weight:bold"));DvtTextUtils.fitText(a,e,Infinity,this);a._rawText=a.getUntruncatedTextString()};
DvtOverview.prototype.updateCurrentTime=function(a,b){if(!(null==this._currentTime||isNaN(this._currentTime))){var c=this.getDatePosition(this._currentTime);this.isVertical()?c=new DvtLine(this.getCtx(),0,c,a,c,"ocd"):(this.isRTL()&&(c=a-c),c=new DvtLine(this.getCtx(),c,0,c,b,"ocd"));c.setSolidStroke(this._currentTimeIndicatorColor);c.setPixelHinting(!0);this.addChild(c)}};
DvtOverview.prototype.parseFilledTimeRangesXML=function(a,b){if(null!=this._formattedTimeRanges)for(var c=this._start,d=this._end,e=0;e<this._formattedTimeRanges.length;e++)this.addFilledTimeRange(this._formattedTimeRanges[e],c,d,a,b)};
DvtOverview.prototype.addFilledTimeRange=function(a,b,c,d,e){var g=parseInt(a.getAttr("rs"),10),b=parseInt(a.getAttr("re"),10),a=a.getAttr("c");null!=g&&null!=b&&(c=this.getOverviewSize(),g=this.getDatePosition(g),b=this.getDatePosition(b)-g,this.isRTL()&&(g=c-g-b),d=this.isVertical()?new DvtRect(this.getCtx(),0,g,d-this.getTimeAxisWidth(),b,"ftr"):new DvtRect(this.getCtx(),g,this.isOverviewAbove()?this.getTimeAxisHeight():0,b,e-this.getTimeAxisHeight(),"ftr"),null!=a&&d.setSolidFill(a,0.4),d.setCursor("move"),
d.setPixelHinting(!0),this.addChild(d))};DvtOverview.prototype.parseDataXML=function(){};
DvtOverview.prototype.animateSlidingWindow=function(a,b){var c=this.getSlidingWindow(),d=c.getChildAt(3),e=c.getChildAt(4),g=c.getChildAt(5);if(!(void 0==b&&a==this.getSlidingWindowPos(c))){var h=this.getLeftHandle(),k=this.getRightHandle(),m=this.getLeftTopBar(),n=this.getRightTopBar(),o=this.getBottomBar(),s=this.getTopBar();if(this.isVertical()){var t=c.getTranslateY,u=c.setTranslateY,v=c.getHeight,w=c.setHeight,z=h.getY1,A=h.setY1,C=h.getY2,D=h.setY2,B=k.getY1,E=k.setY1,G=k.getY2,F=k.setY2,K=
m.getY2,J=m.setY2,I=n.getY1,H=n.setY1,M=o.getY1,L=o.setY1,T=o.getY2,U=o.setY2,P=s.getY1,S=s.setY1,Q=s.getY2,O=s.setY2;if(null!=e&&null!=g)var Y=e.getTranslateY,R=e.setTranslateY,Z=g.getTranslateY,ba=g.setTranslateY}else t=c.getTranslateX,u=c.setTranslateX,v=c.getWidth,w=c.setWidth,z=h.getX1,A=h.setX1,C=h.getX2,D=h.setX2,B=k.getX1,E=k.setX1,G=k.getX2,F=k.setX2,K=m.getX2,J=m.setX2,I=n.getX1,H=n.setX1,M=o.getX1,L=o.setX1,T=o.getX2,U=o.setX2,P=s.getX1,S=s.setX1,Q=s.getX2,O=s.setX2,null!=e&&null!=g&&(Y=
e.getTranslateX,R=e.setTranslateX,Z=g.getTranslateX,ba=g.setTranslateX);var N=this.getMinimumPosition(),ga=this.getMaximumPosition(),ca=this.getSlidingWindowSize(c),a=void 0!=b?Math.max(N,Math.min(ga-b,a)):Math.max(N,Math.min(ga-ca,a)),N=this.isAnimationOnClick()?new DvtAnimator(this.getCtx(),0.5,0,DvtEasing.linear):null;this.animateProperty(N,c,t,u,a);void 0!=b&&(this.animateProperty(N,c,v,w,b),null!=e&&this.animateProperty(N,e,Y,R,b),null!=d&&this.animateProperty(N,d,Y,R,b-this.getHandleSize()),
null!=g&&this.animateProperty(N,g,Z,ba,b-this.getGrippySize()));this.animateProperty(N,h,z,A,a);this.animateProperty(N,h,C,D,a);void 0!=b?(this.animateProperty(N,k,B,E,a+b),this.animateProperty(N,k,G,F,a+b)):(this.animateProperty(N,k,B,E,a+ca),this.animateProperty(N,k,G,F,a+ca));this.animateProperty(N,m,K,J,a+1);void 0!=b?this.animateProperty(N,n,I,H,a+b-1):this.animateProperty(N,n,I,H,a+ca-1);this.animateProperty(N,o,M,L,a);this.animateProperty(N,s,P,S,a);void 0!=b?(this.animateProperty(N,o,T,U,
a+b),this.animateProperty(N,s,Q,O,a+b)):(this.animateProperty(N,o,T,U,a+ca),this.animateProperty(N,s,Q,O,a+ca));this.isLeftAndRightFilterRendered()&&(c=this.getLeftBackground(),this.animateProperty(N,c,c.getWidth,c.setWidth,a),ca=a+ca,c=this.getRightBackground(),d=c.getWidth,e=c.setWidth,g=c.getX,h=c.setX,k=this.isVertical()?this.Height:this.Width,this.animateProperty(N,c,d,e,k-ca),this.animateProperty(N,c,g,h,ca),DvtTimeUtils.supportsTouch()&&!this.isFeatureOff("zoom")&&(c=this.getHandleStart(),
d=this.getLeftBackgroundHandle(),e=d.getX,g=d.setX,h=this.getRightBackgroundHandle(),k=h.getX,m=h.setX,this.animateProperty(N,d,e,g,a-c),this.animateProperty(N,h,k,m,ca)));null!=N&&N.play()}};DvtOverview.prototype.animateProperty=function(a,b,c,d,e){null!=a?a.addProp(DvtAnimator.TYPE_NUMBER,b,c,d,e):d.call(b,e)};
DvtOverview.prototype.HandleShapeMouseOver=function(a){var b=this._findDrawable(a);if(b&&!("bg"==b.getId()||"ocd"==b.getId()))if("label"==b.getId().substr(0,5)&&b instanceof DvtOutputText)b.isTruncated()&&this.getCtx().getTooltipManager().showDatatip(a.pageX,a.pageY,b._rawText,"#000000");else if(null!=this._resizeArrow&&this.isHandle(b)&&(a=this.getCtx().pageToStageCoords(a.pageX,a.pageY),a=this.stageToLocal(a),this.isVertical()?this._resizeArrow.setTranslate(a.x+6,a.y-10):this._resizeArrow.setTranslate(a.x-
6,a.y-20),this._resizeArrow.setVisible(!0)),"window"==b.getId()||"ftr"==b.getId()||"arr"==b.getId()||this.isHandle(b))this.isFlashEnvironment()&&this.setCursor("move");else return b};DvtOverview.prototype.HandleShapeMouseOut=function(a){null==this._moveDrawable&&this.setCursor("default");a=this._findDrawable(a);if(null!=a)return this.isHandle(a)&&null!=this._resizeArrow&&this._resizeArrow.setVisible(!1),a};
DvtOverview.prototype.HandleShapeClick=function(a,b,c){a.stopPropagation();var d=this._findDrawable(a);if(d&&!("window"==d.getId()||this.isHandle(d)))if("bg"==d.getId()||"label"==d.getId().substr(0,5)||"ocd"==d.getId()||"lbg"==d.getId()||"rbg"==d.getId()){void 0==b&&(b=a.pageX);void 0==c&&(c=a.pageY);a=this.getCtx().pageToStageCoords(b,c);a=this.stageToLocal(a);this.isVertical()?(c=a.y,d=this.Height):(c=a.x,d=this.Width);a=this.getSlidingWindow();b=c-this.getRectSize(a)/2;this.animateSlidingWindow(b);
this.isRTL()&&(c=this.Width-c);var e=this.getPositionDate(c),c=new DvtOverviewEvent(DvtOverviewEvent.SUBTYPE_SCROLL_TIME);c.setTime(e);b=Math.max(0,Math.min(b,d-this.getRectSize(a)));this.isRTL()?(d=this.getPositionDate(this.Width-(b+this.getRectSize(a))),a=this.getPositionDate(this.Width-b)):(d=this.getPositionDate(b),a=this.getPositionDate(b+this.getRectSize(a)));c.setNewStartTime(d);c.setNewEndTime(a);this.dispatchEvent(c)}else return d};DvtOverview.prototype.HandleMouseDown=function(a){this.HandleMouseDownOrTouchStart(a)};
DvtOverview.prototype.HandleMouseDownOrTouchStart=function(a){a.stopPropagation();var b=this._findDrawable(a);if(null!=b&&this.isMovable(b)){if("ftr"==b.getId()||"sta"==b.getId())b=this.getSlidingWindow();this._initX=this.getPageX(a);this._initY=this.getPageY(a);if(this.isHandle(b)){a=this.getSlidingWindow();this.isRTL()?(this._oldEndPos=this.Width-a.getX(),this._oldStartPos=this._oldEndPos-a.getWidth()):(this._oldStartPos=a.getX(),this._oldEndPos=this._oldStartPos+a.getWidth());"grpy"==b.getParent().getId()&&
(b=b.getParent());var c=b.getId();"grpy"==c&&(b=a.getChildBefore(b),c=b.getId());if("lh"==c||"rh"==c)b=a.getChildBefore(b),c=b.getId();"lbgrh"==c&&(b=a.getChildAt(0));"rbgrh"==c&&(b=a.getChildAt(a.getNumChildren()-3));DvtTimeUtils.supportsTouch()||(this.isVertical()?(b.setY(0-DvtOverview.HANDLE_PADDING_SIZE),b.setHeight(2*(b.getHeight()+DvtOverview.HANDLE_PADDING_SIZE))):(b.setX(0-DvtOverview.HANDLE_PADDING_SIZE),b.setWidth(2*(b.getWidth()+DvtOverview.HANDLE_PADDING_SIZE))));this.overrideCursors(b.getCursor())}this._moveDrawable=
b;this.dispatchEvent(new DvtOverviewEvent(DvtOverviewEvent.SUBTYPE_PRE_RANGECHANGE))}};DvtOverview.prototype.overrideCursors=function(a){var b=this.getSlidingWindow();null!=b&&b.setCursor(a);if(this.isLeftAndRightFilterRendered()){var b=this.getLeftBackground(),c=this.getRightBackground();null!=b&&null!=c&&(b.setCursor(a),c.setCursor(a))}};
DvtOverview.prototype.resetCursors=function(){var a=this.getSlidingWindow();null!=a&&a.setCursor("move");if(this.isLeftAndRightFilterRendered()){var a=this.getLeftBackground(),b=this.getRightBackground();null!=a&&null!=b&&(a.setCursor("default"),b.setCursor("default"))}};DvtOverview.prototype.HandleMouseUp=function(a){this.HandleMouseUpOrTouchEnd(a)};
DvtOverview.prototype.HandleMouseUpOrTouchEnd=function(a){null!=a&&a.stopPropagation();null!=this._moveDrawable&&("window"==this._moveDrawable.getId()?this.finishWindowDrag(a,0,0):this.isHandle(this._moveDrawable)&&(this.finishHandleDrag(a,0,0),DvtTimeUtils.supportsTouch()||(this.isVertical()?(this._moveDrawable.setY(0),this._moveDrawable.setHeight(this.getHandleSize())):(this._moveDrawable.setX(0),this._moveDrawable.setWidth(this.getHandleSize()))),this.resetCursors()),this._moveDrawable=null,this._initX=
-1)};DvtOverview.prototype.HandleMouseMove=function(a){this.HandleMouseMoveOrTouchMove(a)};
DvtOverview.prototype.HandleMouseMoveOrTouchMove=function(a){a.stopPropagation();if(null!=this._moveDrawable&&-1!=this._initX){var b=this.getPageX(a),c=this.getPageY(a),d=b-this._initX,e=c-this._initY;this._initX=b;this._initY=c;"window"==this._moveDrawable.getId()?this.handleWindowDragPositioning(a,d,e):"lh"==this._moveDrawable.getId()||"lhb"==this._moveDrawable.getId()?this.handleLeftHandleDragPositioning(a,d,e):("rh"==this._moveDrawable.getId()||"rhb"==this._moveDrawable.getId())&&this.handleRightHandleDragPositioning(a,
d,e)}};DvtOverview.prototype.HandleTouchStart=function(a){var b=a.targetTouches[0];this._touchStartX=b.pageX;this._touchStartY=b.pageY;2==a.targetTouches.length?(a.preventDefault(),b=a.targetTouches[1],this._touchStartX2=b.pageX,this._touchStartY2=b.pageY,20>Math.abs(this._touchStartY-this._touchStartY2)?this._counter=0:this._touchStartY2=this._touchStartX2=this._touchStartY=this._touchStartX=null):this.HandleMouseDownOrTouchStart(a)};
DvtOverview.prototype.HandleTouchMove=function(a){a.preventDefault();if(null!=this._touchStartX2&&null!=this._touchStartY2)if(50>this._counter)this._counter++;else{var b=a.targetTouches[1];this.handleRightHandleDragPositioning(null,b.pageX-this._touchStartX2,0);this._touchStartX2=b.pageX;this._counter=0}else{b=a.targetTouches[0];if(this._touchStartX!=b.pageX||this._touchStartY!=b.pageY)this._touchStartY=this._touchStartX=null;this.HandleMouseMoveOrTouchMove(a)}};
DvtOverview.prototype.HandleTouchEnd=function(a){null!=this._touchStartX2&&null!=this._touchStartY2?this.finishHandleDrag(null,0,0):(this.HandleMouseUpOrTouchEnd(a),null!=this._touchStartX&&null!=this._touchStartY&&this.HandleShapeClick(a,this._touchStartX,this._touchStartY));this._touchStartY2=this._touchStartX2=this._touchStartY=this._touchStartX=null};DvtOverview.prototype.stopDragAction=function(){this.HandleMouseUpOrTouchEnd(null)};
DvtOverview.prototype.HandleKeyDown=function(a){var b=a.keyCode;if(b===DvtKeyboardEvent.LEFT_ARROW||b===DvtKeyboardEvent.RIGHT_ARROW)b=b===DvtKeyboardEvent.LEFT_ARROW?-1:1,(a.shiftKey?this.handleRightHandleDragPositioning:this.handleWindowDragPositioning).call(this,a,b,b)};
DvtOverview.prototype.HandleKeyUp=function(a){var b=a.keyCode;if(b===DvtKeyboardEvent.LEFT_ARROW||b===DvtKeyboardEvent.RIGHT_ARROW)b=b===DvtKeyboardEvent.LEFT_ARROW?-1:1,(a.shiftKey?this.finishHandleDrag:this.finishWindowDrag).call(this,a,b,b)};DvtOverview.prototype.ScrollToStart=function(){var a=this.getSlidingWindow(),b=this.Width;this.isRTL()?this.setSlidingWindowPos(a,b-this.getSlidingWindowSize(a)):this.setSlidingWindowPos(a,0);this.ScrollTimeAxis()};
DvtOverview.prototype.ScrollToEnd=function(){var a=this.getSlidingWindow(),b=this.Width;this.isRTL()?this.setSlidingWindowPos(a,0):this.setSlidingWindowPos(a,b-this.getSlidingWindowSize(a));this.ScrollTimeAxis()};DvtOverview.prototype.ScrollByAmount=function(a){var b=this.getSlidingWindow(),a=a/this._increment;this.isRTL()&&(a=0-a);var c=this.isVertical()?this.Height-b.getHeight():this.Width-b.getWidth();this.setSlidingWindowPos(b,Math.min(c,this.getSlidingWindowPos(b)+a));this.ScrollTimeAxis()};
DvtOverview.prototype.longScrollToPos=function(a){a/=this._increment;this.isRTL()&&(a=0-a);this.animateSlidingWindow(a)};DvtOverview.prototype.ScrollToPos=function(a){var b=this.getSlidingWindow(),a=a/this._increment;this.isRTL()&&(a=0-a);this.setSlidingWindowPos(b,a);this.ScrollTimeAxis()};DvtOverview.prototype.scrollToTime=function(a){this.longScrollToPos(Math.max(0,DvtTimeUtils.getDatePosition(this._start,this._end,a,this._width)))};
DvtOverview.prototype.handleWindowDragPositioning=function(a,b,c){this.fireScrollEvent(DvtOverviewEvent.SUBTYPE_SCROLL_POS,b,c)};DvtOverview.prototype.finishWindowDrag=function(a,b,c){this.fireScrollEvent(DvtOverviewEvent.SUBTYPE_SCROLL_END,b,c)};
DvtOverview.prototype.fireScrollEvent=function(a,b,c){var d=this.getSlidingWindow(),e=this.getSlidingWindowPos(d),g=this.getRectSize(d),h=this.getMinimumPosition(),k=this.getMaximumPosition(),b=this.isVertical()?c:b;e+b<=h?(this.setSlidingWindowPos(d,h),g=this.isRTL()?DvtOverviewEvent.END_POS:DvtOverviewEvent.START_POS):e+g+b>=k?(this.setSlidingWindowPos(d,k-g),g=this.isRTL()?DvtOverviewEvent.START_POS:DvtOverviewEvent.END_POS):(this.setSlidingWindowPos(d,e+b),g=this.isRTL()?(k-g-e-this._leftMargin)*
this._increment:(e-this._leftMargin)*this._increment);this.ScrollTimeAxis();a=new DvtOverviewEvent(a);a.setPosition(g);this.isRTL()?(g=this.getPositionDate(this.Width-(e+this.getRectSize(d))),d=this.getPositionDate(this.Width-e)):(g=this.getPositionDate(e),d=this.getPositionDate(e+this.getRectSize(d)));a.setNewStartTime(g);a.setNewEndTime(d);this.dispatchEvent(a)};DvtOverview.prototype.handleLeftHandleDragPositioning=function(a,b,c){this.handleLeftOrRightHandleDragPositioning(a,b,c,!0)};
DvtOverview.prototype.handleRightHandleDragPositioning=function(a,b,c){this.handleLeftOrRightHandleDragPositioning(a,b,c,!1)};
DvtOverview.prototype.handleLeftOrRightHandleDragPositioning=function(a,b,c,d){var e=this.getOverviewSize(),c=this.isVertical()?c:b;if(0!=c){var b=this.getSlidingWindow(),g=this.getSlidingWindowPos(b),h=this.getSlidingWindowSize(b);if(d){if(h-c<=this.getMinimumWindowSize()||g+c<=this.getMinimumPosition())return;a=this.isVertical()?this.getCtx().pageToStageCoords(this.getPageX(a),this.getPageY(a)).y:this.getCtx().pageToStageCoords(this.getPageX(a),this.getPageY(a)).x;a=this.stageToLocal(a);if(0<c&&
a<=g||0>c&&a>=g)return;this.setSlidingWindowPos(b,g+c);this.setSlidingWindowSize(b,h-c)}else{if(h+c<=this.getMinimumWindowSize()||g+h+c>=this.getMaximumPosition())return;a=this.isVertical()?this.getCtx().pageToStageCoords(this.getPageX(a),this.getPageY(a)).y:this.getCtx().pageToStageCoords(this.getPageX(a),this.getPageY(a)).x;a=this.stageToLocal(a);if(0<c&&a<=g+h||0>c&&a>=g+h)return;this.setSlidingWindowSize(b,h+c)}this.ScrollTimeAxis();a=this.getPositionDate(this.getSlidingWindowSize(b));a=e*(this._end-
this._start)/(a-this._start);this.isRangeChangingSupported()&&(e=new DvtOverviewEvent(DvtOverviewEvent.SUBTYPE_RANGECHANGING),e.setNewSize(a),e.setEndHandle(this.isRTL()?d:!d),d?e.setExpand(0>c):e.setExpand(0<c),this.isRTL()?(d=this.getPositionDate(this.Width-(this.getSlidingWindowPos(b)+this.getRectSize(b))),b=this.getPositionDate(this.Width-this.getSlidingWindowPos(b))):(d=this.getPositionDate(this.getSlidingWindowPos(b)),b=this.getPositionDate(this.getSlidingWindowPos(b)+this.getRectSize(b))),
e.setNewStartTime(d),e.setNewEndTime(b),this.dispatchEvent(e))}};DvtOverview.prototype.isRangeChangingSupported=function(){return!0};
DvtOverview.prototype.finishHandleDrag=function(){var a=this._start,b=this._end,c=this._width,d=this.getOverviewSize(),e=this.getSlidingWindow(),g=this.getPositionDate(this.getRectSize(e)),a=d*(b-a)/(g-a),b=this.getPositionDate(this._oldStartPos),d=this.getPositionDate(this._oldEndPos);this.isRTL()?(g=this.getPositionDate(this.Width-(this.getSlidingWindowPos(e)+this.getRectSize(e))),e=this.getPositionDate(this.Width-this.getSlidingWindowPos(e))):(g=this.getPositionDate(this.getSlidingWindowPos(e)),
e=this.getPositionDate(this.getSlidingWindowPos(e)+this.getRectSize(e)));var h=new DvtOverviewEvent(DvtOverviewEvent.SUBTYPE_RANGECHANGE);h.setOldSize(c);h.setNewSize(a);h.setOldStartTime(b);h.setOldEndTime(d);h.setNewStartTime(g);h.setNewEndTime(e);this.dispatchEvent(h)};
DvtOverview.prototype.ScrollTimeAxis=function(){var a=this.getSlidingWindow(),b=this.getLeftHandle(),c=this.getRightHandle(),d=this.getLeftTopBar(),e=this.getRightTopBar(),g=this.getBottomBar(),h=this.getTopBar();this.setLinePos(b,this.getSlidingWindowPos(a),this.getSlidingWindowPos(a));this.setLinePos(c,this.getSlidingWindowPos(a)+this.getSlidingWindowSize(a),this.getSlidingWindowPos(a)+this.getSlidingWindowSize(a));this.setLinePos(d,-1,this.getSlidingWindowPos(a)+1);this.setLinePos(e,this.getLinePos1(c)-
1,-1);this.setLinePos(g,this.getLinePos1(b),this.getLinePos1(c));this.setLinePos(h,this.getLinePos1(b),this.getLinePos1(c))};DvtOverview.prototype.dispatchEvent=function(a){DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,a)};var DvtOverviewParser=function(a){this.Init(a)};DvtObj.createSubclass(DvtOverviewParser,DvtObj,"DvtOverviewParser");DvtOverviewParser.prototype.Init=function(a){this._view=a};DvtOverviewParser.prototype.parse=function(a){return this.ParseRootAttributes(a)};
DvtOverviewParser.prototype.ParseRootAttributes=function(a){var b={};b.animationOnClick=a.animationOnClick;null!=a.startTime&&(b.start=a.startTime);null!=a.endTime&&(b.end=a.endTime);null==b.start&&(b.start=(new Date).getTime());if(null==b.end||b.end<=b.start)b.end=b.start+864E5;null!=a.currentTime&&(b.currentTime=a.currentTime);null!=a.initialFocusTime&&(b.initialFocusTime=a.initialFocusTime);b.orientation="horizontal";null!=a.orientation&&(b.orientation=a.orientation);b.featuresOff=a.featuresOff;
b.minimumWindowSize=a.minimumWindowSize;b.leftMargin=a.leftMargin;b.rightMargin=a.rightMargin;if(null!=a.viewportEndTime){var c=a.viewportEndTime,d=b.start;null!=a.viewportStartTime&&a.viewportStartTime<c&&(d=a.viewportStartTime);b.width=null!=a.viewportEndPos?this.calculateWidth(b.start,b.end,d,c,a.viewportEndPos):this.calculateWidth(b.start,b.end,d,c,this._view.Width);b.renderStart=d}else b.renderStart=b.start;0==b.width&&(b.width=1E3);b.overviewPosition="below";b.selectionMode="none";b.isRtl=DvtAgent.isRightToLeft(this._view.getCtx()).toString();
null!=a.rtl&&(b.isRtl=a.rtl.toString());b.handleFillColor="#FFFFFF";b.handleTextureColor="#B3C6DB";b.windowBackgroundColor="#FFFFFF";b.windowBackgroundAlpha=1;b.windowBorderTopStyle="solid";b.windowBorderRightStyle="solid";b.windowBorderBottomStyle="solid";b.windowBorderLeftStyle="solid";b.windowBorderTopColor="#4F4F4F";b.windowBorderRightColor="#4F4F4F";b.windowBorderBottomColor="#4F4F4F";b.windowBorderLeftColor="#4F4F4F";b.overviewBackgroundColor="#E6ECF3";b.currentTimeIndicatorColor="#C000D1";
b.timeIndicatorColor="#BCC7D2";b.timeAxisBarColor="#e5e5e5";b.timeAxisBarOpacity=1;b.leftFilterPanelColor="#FFFFFF";b.leftFilterPanelAlpha=0.7;b.rightFilterPanelColor="#FFFFFF";b.rightFilterPanelAlpha=0.7;null!=a.style&&(null!=a.style.handleFillColor&&(b.handleFillColor=a.style.handleFillColor),null!=a.style.handleTextureColor&&(b.handleTextureColor=a.style.handleTextureColor),null!=a.style.handleBackgroundImage&&(b.handleBackgroundImage=a.style.handleBackgroundImage),null!=a.style.handleWidth&&(b.handleWidth=
a.style.handleWidth),null!=a.style.handleHeight&&(b.handleHeight=a.style.handleHeight),null!=a.style.windowBackgroundColor&&(b.windowBackgroundColor=a.style.windowBackgroundColor),null!=a.style.windowBackgroundAlpha&&(b.windowBackgroundAlpha=a.style.windowBackgroundAlpha),null!=a.style.windowBorderTopStyle&&(b.windowBorderTopStyle=a.style.windowBorderTopStyle),null!=a.style.windowBorderRightStyle&&(b.windowBorderRightStyle=a.style.windowBorderRightStyle),null!=a.style.windowBorderBottomStyle&&(b.windowBorderBottomStyle=
a.style.windowBorderBottomStyle),null!=a.style.windowBorderLeftStyle&&(b.windowBorderLeftStyle=a.style.windowBorderLeftStyle),null!=a.style.windowBorderTopColor&&(b.windowBorderTopColor=a.style.windowBorderTopColor),null!=a.style.windowBorderRightColor&&(b.windowBorderRightColor=a.style.windowBorderRightColor),null!=a.style.windowBorderBottomColor&&(b.windowBorderBottomColor=a.style.windowBorderBottomColor),null!=a.style.windowBorderLeftColor&&(b.windowBorderLeftColor=a.style.windowBorderLeftColor),
null!=a.style.overviewBackgroundColor&&(b.overviewBackgroundColor=a.style.overviewBackgroundColor),null!=a.style.currentTimeIndicatorColor&&(b.currentTimeIndicatorColor=a.style.currentTimeIndicatorColor),null!=a.style.timeIndicatorColor&&(b.timeIndicatorColor=a.style.timeIndicatorColor),null!=a.style.leftFilterPanelColor&&(b.leftFilterPanelColor=a.style.leftFilterPanelColor),null!=a.style.leftFilterPanelAlpha&&(b.leftFilterPanelAlpha=a.style.leftFilterPanelAlpha),null!=a.style.rightFilterPanelColor&&
(b.rightFilterPanelColor=a.style.rightFilterPanelColor),null!=a.style.rightFilterPanelAlpha&&(b.rightFilterPanelAlpha=a.style.rightFilterPanelAlpha));return b};DvtOverviewParser.prototype.calculateWidth=function(a,b,c,d,e){a=e*(b-a);c=d-c;return 0==a||0==c?0:a/c};var DvtOverviewEvent=function(a){this.Init(DvtOverviewEvent.TYPE);this._subtype=a};DvtObj.createSubclass(DvtOverviewEvent,DvtBaseComponentEvent,"DvtOverviewEvent");DvtOverviewEvent.TYPE="overview";
DvtOverviewEvent.SUBTYPE_PRE_RANGECHANGE="dropCallback";DvtOverviewEvent.SUBTYPE_SCROLL_TIME="scrollTime";DvtOverviewEvent.SUBTYPE_SCROLL_POS="scrollPos";DvtOverviewEvent.SUBTYPE_SCROLL_END="scrollEnd";DvtOverviewEvent.SUBTYPE_RANGECHANGE="rangeChange";DvtOverviewEvent.SUBTYPE_RANGECHANGING="rangeChanging";DvtOverviewEvent.TIME_KEY="time";DvtOverviewEvent.POS_KEY="pos";DvtOverviewEvent.OLD_SIZE_KEY="oldSize";DvtOverviewEvent.NEW_SIZE_KEY="newSize";DvtOverviewEvent.OLD_START_TIME_KEY="oldStartTime";
DvtOverviewEvent.NEW_START_TIME_KEY="newStartTime";DvtOverviewEvent.OLD_END_TIME_KEY="oldEndTime";DvtOverviewEvent.NEW_END_TIME_KEY="newEndTime";DvtOverviewEvent.EXPAND_KEY="expand";DvtOverviewEvent.END_HANDLE_KEY="endHandle";DvtOverviewEvent.START_POS=-1;DvtOverviewEvent.END_POS=-2;DvtOverviewEvent.prototype.getSubType=function(){return this._subtype};DvtOverviewEvent.prototype.setTime=function(a){this.addParam(DvtOverviewEvent.TIME_KEY,a)};DvtOverviewEvent.prototype.getTime=function(){return this.getParamValue(DvtOverviewEvent.TIME_KEY)};
DvtOverviewEvent.prototype.setOldSize=function(a){this.addParam(DvtOverviewEvent.OLD_SIZE_KEY,a)};DvtOverviewEvent.prototype.getOldSize=function(){return this.getParamValue(DvtOverviewEvent.OLD_SIZE_KEY)};DvtOverviewEvent.prototype.setNewSize=function(a){this.addParam(DvtOverviewEvent.NEW_SIZE_KEY,a)};DvtOverviewEvent.prototype.getNewSize=function(){return this.getParamValue(DvtOverviewEvent.NEW_SIZE_KEY)};
DvtOverviewEvent.prototype.setOldStartTime=function(a){this.addParam(DvtOverviewEvent.OLD_START_TIME_KEY,a)};DvtOverviewEvent.prototype.getOldStartTime=function(){return this.getParamValue(DvtOverviewEvent.OLD_START_TIME_KEY)};DvtOverviewEvent.prototype.setNewStartTime=function(a){this.addParam(DvtOverviewEvent.NEW_START_TIME_KEY,a)};DvtOverviewEvent.prototype.getNewStartTime=function(){return this.getParamValue(DvtOverviewEvent.NEW_START_TIME_KEY)};
DvtOverviewEvent.prototype.setOldEndTime=function(a){this.addParam(DvtOverviewEvent.OLD_END_TIME_KEY,a)};DvtOverviewEvent.prototype.getOldEndTime=function(){return this.getParamValue(DvtOverviewEvent.OLD_END_TIME_KEY)};DvtOverviewEvent.prototype.setNewEndTime=function(a){this.addParam(DvtOverviewEvent.NEW_END_TIME_KEY,a)};DvtOverviewEvent.prototype.getNewEndTime=function(){return this.getParamValue(DvtOverviewEvent.NEW_END_TIME_KEY)};
DvtOverviewEvent.prototype.setExpand=function(a){this.addParam(DvtOverviewEvent.EXPAND_KEY,a)};DvtOverviewEvent.prototype.isExpand=function(){return this.getParamValue(DvtOverviewEvent.EXPAND_KEY)};DvtOverviewEvent.prototype.setEndHandle=function(a){this.addParam(DvtOverviewEvent.END_HANDLE_KEY,a)};DvtOverviewEvent.prototype.isEndHandle=function(){return this.getParamValue(DvtOverviewEvent.END_HANDLE_KEY)};DvtOverviewEvent.prototype.setPosition=function(a){this.addParam(DvtOverviewEvent.POS_KEY,a)};
DvtOverviewEvent.prototype.getPosition=function(){return this.getParamValue(DvtOverviewEvent.POS_KEY)};