var DvtAxis=function(){};DvtObj.createSubclass(DvtAxis,DvtBaseComponent,"DvtAxis");DvtAxis.newInstance=function(a,b,c){var d=new DvtAxis;d.Init(a,b,c);return d};DvtAxis.getDefaults=function(a){return(new DvtAxisDefaults).getDefaults(a)};DvtAxis.prototype.Init=function(a,b,c){DvtAxis.superclass.Init.call(this,a,b,c);this.Defaults=new DvtAxisDefaults;this._eventHandler=new DvtAxisEventManager(this);this._eventHandler.addListeners(this);this._labelTruncationNeeded=!0};DvtAxis.MINIMUM_AXIS_BUFFER=10;
DvtAxis.prototype.SetOptions=function(a){a?this.Options=this.Defaults.calcOptions(a):this.Options||(this.Options=this.GetDefaults())};
DvtAxis.prototype.getPreferredSize=function(a,b,c){this.SetOptions(a);this.__getOptions().isLayout=!0;this.render(null,b,c);a=this.getDimensions();this.__getOptions().isLayout=!1;this.removeChildren();var d=this.__getOptions().position;if("top"==d||"bottom"==d)return a.h<=c&&(this._labelTruncationNeeded=!1),new DvtDimension(b,Math.min(a.h,c));d=Math.max(1,0.1*a.w);a.w+d<=b&&(this._labelTruncationNeeded=!1);return new DvtDimension(Math.min(a.w+d,b),c)};
DvtAxis.prototype.render=function(a,b,c,d,e){this.SetOptions(a);this.Width=b;this.Height=c;this.removeChildren();d||(d=0);e||(e=0);a=new DvtRectangle(d,e,b,c);DvtAxisRenderer.render(this,a)};DvtAxis.prototype.processEvent=function(a,b){this===b&&this.__dispatchEvent(a)};DvtAxis.prototype.__getOptions=function(){return this.Options};DvtAxis.prototype.__getEventManager=function(){return this._eventHandler};DvtAxis.prototype.__getInfo=function(){return this.Info};
DvtAxis.prototype.__setInfo=function(a){this.Info=a};DvtAxis.prototype.__isLabelTruncationNeeded=function(){return this._labelTruncationNeeded};DvtAxis.prototype.getWidth=function(){return this.Width};DvtAxis.prototype.getHeight=function(){return this.Height};var DvtAxisConstants={};DvtObj.createSubclass(DvtAxisConstants,DvtObj,"DvtAxisConstants");DvtAxisConstants.TICK_LABEL="tickLabel";DvtAxisConstants.TITLE="title";var DvtAbstractAxisValueFormatter=function(a){this._bundle=a};
DvtObj.createSubclass(DvtAbstractAxisValueFormatter,DvtObj,"DvtAbstractAxisValueFormatter");DvtAbstractAxisValueFormatter.prototype.format=function(){};DvtAbstractAxisValueFormatter.prototype.GetBundle=function(){return this._bundle};var DvtAxisDefaults=function(){this.Init({skyros:DvtAxisDefaults.VERSION_1,alta:DvtAxisDefaults.SKIN_ALTA})};DvtObj.createSubclass(DvtAxisDefaults,DvtBaseComponentDefaults,"DvtAxisDefaults");
DvtAxisDefaults.SKIN_ALTA={axisLine:{lineColor:"#9E9E9E"},majorTick:{lineColor:"rgba(196,206,215,0.4)"},minorTick:{lineColor:"rgba(196,206,215,0.2)"},tickLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},titleStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px;")};
DvtAxisDefaults.VERSION_1={position:null,baselineScaling:"zero",axisLine:{lineColor:"#8A8DAC",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(138,141,172,0.4)",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(138,141,172,0.20)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new DvtCSSStyle("font-size: 11px; color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new DvtCSSStyle("font-size: 11px; color: #737373;"),startGroupOffset:0,
endGroupOffset:0,layout:{gapRatio:1,titleGap:4,verticalAxisGap:3,horizontalAxisGap:5},_useBaselineColor:!1,isLayout:!1};DvtAxisDefaults.getGapSize=function(a,b){return Math.ceil(b*a.layout.gapRatio)};var DvtAxisEventManager=function(a){this.Init(a.getCtx(),a.processEvent,a);this._axis=a};DvtObj.createSubclass(DvtAxisEventManager,DvtEventManager,"DvtAxisEventManager");DvtAxisEventManager.getUIEventParams=function(a,b){return{type:a,id:b}};
DvtAxisEventManager.prototype.FireUIEvent=function(a,b){b instanceof DvtSimpleObjPeer&&null!=b.getParams()&&this.FireEvent(new DvtComponentUIEvent(a,b.getParams()),this._axis)};var DvtAxisRenderer={};DvtObj.createSubclass(DvtAxisRenderer,DvtObj,"DvtAxisRenderer");DvtAxisRenderer._RADIAL_LABEL_GAP=5;
DvtAxisRenderer.render=function(a,b){var c=a.__getOptions(),d=DvtAxisInfo.newInstance(a.getCtx(),c,b);a.__setInfo(d);"off"!=c.rendered&&(DvtAxisRenderer._renderTitle(a,d,b),DvtAxisRenderer._renderLabels(a,d,b))};
DvtAxisRenderer._renderTitle=function(a,b,c){var d=a.__getOptions();if(d.title&&(b=d.position,!("radial"==b||"tangential"==b)))if(d.isLayout&&"bottom"==b&&(b="top"),a="top"==b||"bottom"==b?DvtAxisRenderer._createText(a.__getEventManager(),a,d.title,d.titleStyle,0,0,c.w,c.h,DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TITLE)):DvtAxisRenderer._createText(a.__getEventManager(),a,d.title,d.titleStyle,0,0,c.h,c.w,DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TITLE))){var e=a.measureDimensions(),
d=DvtAxisDefaults.getGapSize(d,d.layout.titleGap);"top"==b?(a.setX(c.x+c.w/2-e.w/2),a.setY(c.y),c.y+=e.h+d,c.h-=e.h+d):"bottom"==b?(a.setX(c.x+c.w/2-e.w/2),a.setY(c.y+c.h-e.h),c.h-=e.h+d):"left"==b?(a.setRotation(3*Math.PI/2),a.setTranslate(c.x,c.y+c.h/2+e.w/2),c.x+=e.h+d,c.w-=e.h+d):"right"==b&&(a.setRotation(3*Math.PI/2),a.setTranslate(c.x+c.w-e.h,c.y+c.h/2+e.w/2),c.w-=e.h+d)}};
DvtAxisRenderer._renderLabels=function(a,b,c){var d=a.__getOptions();"on"==d.tickLabel.rendered&&(d=d.position,"top"==d||"bottom"==d?DvtAxisRenderer._renderLabelsHoriz(a,b,c):"tangential"==d?DvtAxisRenderer._renderLabelsTangent(a,b,c):DvtAxisRenderer._renderLabelsVert(a,b,c))};
DvtAxisRenderer._renderLabelsHoriz=function(a,b,c){for(var d=b.getLabels(a.getCtx()),e=a.__getOptions().isLayout,g=0,h=DvtAgent.isRightToLeft(a.getCtx()),k=0;k<d.length;k++){var m=d[k];if(null!=m){if(b.isLabelRotated()){!e&&a.__isLabelTruncationNeeded()&&(m=DvtTextUtils.fitText(m,c.h,c.w,a)?m:null);if(!m)continue;h?m.alignLeft():m.alignRight();m.setTranslateY(c.y)}else m.alignTop(),m.setY(c.y);var n=DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,m.getTextString());a.__getEventManager().associate(m,
new DvtSimpleObjPeer(m.getUntruncatedTextString(),null,null,n));a.addChild(m);g=Math.max(g,DvtTextUtils.guessTextDimensions(m).h)}}b=b.getLabels(a.getCtx(),1);e=0;if(null!=b)for(k=0;k<b.length;k++)m=b[k],null!=m&&(a.__getEventManager().associate(m,new DvtSimpleObjPeer(null,null,null,DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,m.getTextString()))),null!=d[k]&&(e=d[k].measureDimensions().w/2),h?m.setX(m.getX()+e):m.setX(m.getX()-e),m.alignTop(),m.setY(c.y+g),a.addChild(m))};
DvtAxisRenderer._renderLabelsVert=function(a,b,c){var d=a.__getOptions(),e=d.isLayout,g=d.position,h=DvtAgent.isRightToLeft(a.getCtx()),k;"radial"==g?(k=c.x+c.w/2,k+=DvtAxisRenderer._RADIAL_LABEL_GAP*(h?1:-1)):(k=c.x+c.w,e&&"left"==g&&(k=c.x));for(var d=function(d){!e&&a.__isLabelTruncationNeeded()&&(d=DvtTextUtils.fitText(d,c.w,c.h,a)?d:null);if(d){var m=DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,d.getTextString());a.__getEventManager().associate(d,new DvtSimpleObjPeer(d.getUntruncatedTextString(),
null,null,m));d.setX(k);d.alignRight();if("radial"==g){m=d.getY();d.setY(c.y+c.h/2-m);h&&d.alignLeft();var n=d.getDimensions(),o=0.15*n.h,m=m+n.h/2>b.getEndCoord()&&"circle"==a.__getOptions().polarGridShape?1:0.3,n=DvtPathUtils.roundedRectangle(n.x-o,n.y,n.w+2*o,n.h,2,2,2,2),n=new DvtPath(a.getCtx(),n);n.setSolidFill("#FFFFFF",m);a.addChild(n)}e&&"left"==g&&d.alignLeft();a.addChild(d)}},m=b.getLabels(a.getCtx()),n=0;n<m.length;n++){var o=m[n];null!=o&&d(o)}m=b.getLabels(a.getCtx(),1);if(null!=m)for(n=
0;n<m.length;n++)o=m[n],null!=o&&d(o)};DvtAxisRenderer._renderLabelsTangent=function(a,b,c){for(var b=b.getLabels(a.getCtx()),d=0;d<b.length;d++){var e=b[d];if(null!=e){var g=e.getTextString(),h=DvtAxisEventManager.getUIEventParams(DvtAxisConstants.TICK_LABEL,g),g=e.isTruncated()?g:null;a.__getEventManager().associate(e,new DvtSimpleObjPeer(g,null,null,h));e.setTranslateX(c.x+c.w/2);e.setTranslateY(c.y+c.h/2);a.addChild(e)}}};
DvtAxisRenderer._createText=function(a,b,c,d,e,g,h,k,m){c=new DvtOutputText(b.getCtx(),c,e,g);c.setCSSStyle(d);return DvtTextUtils.fitText(c,h,k,b)?(a.associate(c,new DvtSimpleObjPeer(c.getUntruncatedTextString(),null,null,m)),c):null};var DvtAxisInfo=function(){};DvtObj.createSubclass(DvtAxisInfo,DvtObj,"DvtAxisInfo");
DvtAxisInfo.newInstance=function(a,b,c){return b.timeAxisType&&"disabled"!=b.timeAxisType?new DvtTimeAxisInfo(a,b,c):isNaN(b.dataMin)&&isNaN(b.dataMax)?new DvtGroupAxisInfo(a,b,c):new DvtDataAxisInfo(a,b,c)};
DvtAxisInfo.prototype.Init=function(a,b,c){this._context=a;this.Position=b.position;this._radius=b._radius;"top"==this.Position||"bottom"==this.Position?(this.StartCoord=c.x,this.EndCoord=c.x+c.w):"left"==this.Position||"right"==this.Position?(this.StartCoord=c.y,this.EndCoord=c.y+c.h):"radial"==this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"==this.Position&&(DvtAgent.isRightToLeft(a)?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=2*Math.PI));
this.MinViewportExtent=this.DataMax=this.DataMin=this.GlobalMax=this.GlobalMin=this.MaxValue=this.MinValue=null;this.EndOverflow=this.StartOverflow=0;null==b.leftBuffer&&(b.leftBuffer=Infinity);null==b.rightBuffer&&(b.rightBuffer=Infinity);this.Options=b};DvtAxisInfo.prototype.getCtx=function(){return this._context};DvtAxisInfo.prototype.getOptions=function(){return this.Options};DvtAxisInfo.prototype.getLabels=function(){return null};DvtAxisInfo.prototype.getAxisLine=function(){return null};
DvtAxisInfo.prototype.getMajorGridLines=function(){return[]};DvtAxisInfo.prototype.getMinorGridLines=function(){return[]};DvtAxisInfo.prototype.getValueAt=function(){return null};DvtAxisInfo.prototype.getCoordAt=function(){return null};DvtAxisInfo.prototype.getBoundedValueAt=function(){return null};DvtAxisInfo.prototype.getBoundedCoordAt=function(){return null};DvtAxisInfo.prototype.getUnboundedValueAt=function(){return null};DvtAxisInfo.prototype.getUnboundedCoordAt=function(){return null};
DvtAxisInfo.prototype.getBaselineCoord=function(){return null};DvtAxisInfo.prototype.isLabelRotated=function(){return!1};
DvtAxisInfo.prototype.CreateLabel=function(a,b,c){if("tangential"==this.Position){var d=16/180*Math.PI,e=1/180*Math.PI,g=this._radius+5;if(c<e||c>2*Math.PI-e)g+=5;a=new DvtOutputText(a,b,g*Math.sin(c),-g*Math.cos(c));c<e||Math.abs(c-Math.PI)<e||c>2*Math.PI-e?a.alignCenter():c<Math.PI?a.alignLeft():a.alignRight();Math.abs(c-Math.PI/2)<d||Math.abs(c-3*Math.PI/2)<d?a.alignMiddle():c<Math.PI/2||c>3*Math.PI/2?a.alignBottom():a.alignTop()}else a=new DvtOutputText(a,b,c,c),a.alignMiddle(),a.alignCenter();
a.setCSSStyle(this.Options.tickLabel.style);return a};
DvtAxisInfo.prototype.CreateGridLine=function(a,b,c){var d=!DvtAgent.isTouchDevice()||1<DvtAgent.getDevicePixelRatio();"radial"==this.Position?("polygon"==this.Options.polarGridShape?(c=DvtPolygonUtils.getRegularPolygonPoints(0,0,this.Options._numGroups,c,0),a=new DvtPolygon(a,c)):a=new DvtCircle(a,0,0,c),a.setInvisibleFill()):"tangential"==this.Position?(a=new DvtLine(a,0,0,this._radius*Math.sin(c),-this._radius*Math.cos(c)),0.01>c%Math.PI/2&&d&&a.setPixelHinting(!0)):(a=new DvtLine(a,c,c,c,c),d&&
a.setPixelHinting(!0));a.setStroke(b);a.setMouseEnabled(!1);return a};
DvtAxisInfo.prototype.IsOverlapping=function(a,b){if(!a||0>=a.length)return!1;for(var c=parseInt(this.Options.tickLabel.style.getStyle("font-size")),d=this instanceof DvtDataAxisInfo?0.55*c:0.3*c,e=this instanceof DvtDataAxisInfo?0.35*c:0.1*c,d=(c="left"==this.Position||"right"==this.Position||"radial"==this.Position)||this.isLabelRotated()?e:d,e=DvtAgent.isRightToLeft(this.getCtx()),g,h,k,m,n=0;n<a.length;n+=b+1)if(null!=a[n])if(null==g||null==h)c?(g=a[n].y,h=a[n].y+a[n].h):(g=a[n].x,h=a[n].x+a[n].w);
else{if(c){if(k=a[n].y,m=a[n].y+a[n].h,k>=g&&k-d<h||k<g&&m+d>g)return!0}else if(k=a[n].x,m=a[n].x+a[n].w,!e&&k-d<h||e&&m+d>g)return!0;g=k;h=m}return!1};DvtAxisInfo.prototype.SkipLabels=function(a,b){for(var c=0,d=this.IsOverlapping(b,c);d;)c++,d=this.IsOverlapping(b,c);if(0<c){for(var d=[],e=0;e<a.length;e+=c+1)d.push(a[e]);return d}return a};DvtAxisInfo.prototype.GetLabelDims=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];null==e?c.push(null):(e=e.measureDimensions(b),c.push(e))}return c};
DvtAxisInfo.prototype.GuessLabelDims=function(a,b,c){var d=[];"undefined"==typeof c&&(c=1);for(var e=0;e<a.length;e++){var g=a[e];if(null==g)d.push(null);else{b.addChild(g);var h=DvtTextUtils.guessTextDimensions(g),k=h.w*c,h=h.h;b.removeChild(g);g=this.isLabelRotated()?new DvtRectangle(g.getTranslateX()-h/2,g.getTranslateY()-k/2,h,k):new DvtRectangle(g.getX()-k/2,g.getY()-h/2,k,h);d.push(g)}}return d};DvtAxisInfo.prototype.getMajorTickCount=function(){return null};
DvtAxisInfo.prototype.setMajorTickCount=function(){};DvtAxisInfo.prototype.getMinorTickCount=function(){return null};DvtAxisInfo.prototype.setMinorTickCount=function(){};DvtAxisInfo.prototype.getMajorIncrement=function(){return null};DvtAxisInfo.prototype.getMinorIncrement=function(){return null};DvtAxisInfo.prototype.getGlobalMin=function(){return this.GlobalMin};DvtAxisInfo.prototype.getGlobalMax=function(){return this.GlobalMax};DvtAxisInfo.prototype.getViewportMin=function(){return this.MinValue};
DvtAxisInfo.prototype.getViewportMax=function(){return this.MaxValue};DvtAxisInfo.prototype.getDataMin=function(){return this.DataMin};DvtAxisInfo.prototype.getDataMax=function(){return this.DataMax};DvtAxisInfo.prototype.getMinimumExtent=function(){return 0};DvtAxisInfo.prototype.getStartCoord=function(){return this.StartCoord};DvtAxisInfo.prototype.getEndCoord=function(){return this.EndCoord};DvtAxisInfo.prototype.getStartOverflow=function(){return this.StartOverflow};
DvtAxisInfo.prototype.getEndOverflow=function(){return this.EndOverflow};var DvtDataAxisInfo=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtDataAxisInfo,DvtAxisInfo,"DvtDataAxisInfo");DvtDataAxisInfo._MAX_NUMBER_OF_GRIDS_AUTO=10;DvtDataAxisInfo._MINOR_TICK_COUNT=2;DvtDataAxisInfo._MAX_ZOOM_FACTOR=64;
DvtDataAxisInfo.prototype.Init=function(a,b,c){DvtDataAxisInfo.superclass.Init.call(this,a,b,c);"top"==this.Position||"bottom"==this.Position?("on"==b.tickLabel.rendered&&(this.StartOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.leftBuffer,0),this.EndOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.rightBuffer,0)),DvtAgent.isRightToLeft(a)?(this._minCoord=this.EndCoord-this.EndOverflow,this._maxCoord=this.StartCoord+this.StartOverflow):(this._minCoord=this.StartCoord+this.StartOverflow,this._maxCoord=
this.EndCoord-this.EndOverflow)):"tangential"==this.Position||"radial"==this.Position?(this._minCoord=this.StartCoord,this._maxCoord=this.EndCoord):(this._minCoord=this.EndCoord,this._maxCoord=this.StartCoord);this.GlobalMin=b.min;this.GlobalMax=b.max;this.MinValue=null==b.viewportMin?this.GlobalMin:b.viewportMin;this.MaxValue=null==b.viewportMax?this.GlobalMax:b.viewportMax;this._majorIncrement=b.step;this._minorIncrement=b.minorStep;this._minMajorIncrement=b.minStep;this._converter=null;null!=b.tickLabel&&
(this._converter=b.tickLabel.converter);this.DataMin=b.dataMin;this.DataMax=b.dataMax;this._calcAxisExtents()};DvtDataAxisInfo.prototype.getMinLabel=function(){return"zero"==this.Options.baselineScaling||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this.MinValue/this._majorIncrement)*this._majorIncrement:Math.ceil((this.MinValue-this.GlobalMin)/this._majorIncrement)*this._majorIncrement+this.GlobalMin};
DvtDataAxisInfo.prototype.getLabels=function(a,b){if(b&&0<b)return null;var c=[],d=[],d=a.getStage(),e="tangential"==this.Position;this.Options.tickLabel&&this.Options.tickLabel.scaling&&(this._axisValueFormatter=new DvtLinearScaleAxisValueFormatter(this.MinValue,this.MaxValue,this._majorIncrement,this.Options.tickLabel.scaling,this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on"));for(var g=0;g<=this._majorTickCount;g++){var h=g*this._majorIncrement+this.getMinLabel();if(!(e&&
h==this.MaxValue)){var k=this._formatValue(h),h=this.getUnboundedCoordAt(h),k=this.CreateLabel(a,k,h);c.push(k)}}e||(d=this.GetLabelDims(c,d),c=this.SkipLabels(c,d));return c};DvtDataAxisInfo.prototype.getAxisLine=function(a){var b=this.Options.axisLine;return"on"==b.rendered?(b=new DvtSolidStroke(b.lineColor,1,b.lineWidth),this.CreateGridLine(a,b,this._maxCoord)):null};
DvtDataAxisInfo.prototype.getMajorGridLines=function(a){var b=[],c,d,e=this.Options.majorTick;if("off"==e.rendered)return b;var g=new DvtSolidStroke(e.lineColor,1,e.lineWidth);e.lineStyle&&g.setStyle(DvtStroke.convertTypeString(e.lineStyle));e=g.clone();if(this.Options._useBaselineColor){var h=DvtColorUtils.setAlpha(this.Options.axisLine.lineColor,0.75);e.setColor(h)}for(h=0;h<=this._majorTickCount;h++)c=h*this._majorIncrement+this.getMinLabel(),"tangential"==this.Position&&c==this.MaxValue||(d=0==
c?e:g,c=this.getUnboundedCoordAt(c),d=this.CreateGridLine(a,d,c),b.push(d));return b};
DvtDataAxisInfo.prototype.getMinorGridLines=function(a){var b=[],c,d=this.Options.minorTick;if("on"!=d.rendered)return b;var e=new DvtSolidStroke(d.lineColor,1,d.lineWidth);d.lineStyle&&e.setStyle(DvtStroke.convertTypeString(d.lineStyle));for(d=-1;d<=this._majorTickCount;d++)for(var g=d*this._majorIncrement+this.getMinLabel(),h=1;h<this._minorTickCount;h++){c=g+h*this._minorIncrement;if(c>this.MaxValue)break;c<this.MinValue||(c=this.getUnboundedCoordAt(c),c=this.CreateGridLine(a,e,c),b.push(c))}return b};
DvtDataAxisInfo.prototype.getValueAt=function(a){var b=Math.min(this._minCoord,this._maxCoord),c=Math.max(this._minCoord,this._maxCoord);return a<b||a>c?null:this.getUnboundedValueAt(a)};DvtDataAxisInfo.prototype.getCoordAt=function(a){return a<this.MinValue||a>this.MaxValue?null:this.getUnboundedCoordAt(a)};DvtDataAxisInfo.prototype.getBoundedValueAt=function(a){var b=Math.min(this._minCoord,this._maxCoord),c=Math.max(this._minCoord,this._maxCoord);a<b?a=b:a>c&&(a=c);return this.getUnboundedValueAt(a)};
DvtDataAxisInfo.prototype.getBoundedCoordAt=function(a){a<this.MinValue?a=this.MinValue:a>this.MaxValue&&(a=this.MaxValue);return this.getUnboundedCoordAt(a)};DvtDataAxisInfo.prototype.getUnboundedValueAt=function(a){return this.MinValue+(a-this._minCoord)/(this._maxCoord-this._minCoord)*(this.MaxValue-this.MinValue)};DvtDataAxisInfo.prototype.getUnboundedCoordAt=function(a){return this._minCoord+(a-this.MinValue)/(this.MaxValue-this.MinValue)*(this._maxCoord-this._minCoord)};
DvtDataAxisInfo.prototype.getBaselineCoord=function(){var a=0;0>this.MaxValue?a=this.MaxValue:0<this.MinValue&&(a=this.MinValue);return this.getCoordAt(a)};
DvtDataAxisInfo.prototype._formatValue=function(a){if(this._converter&&(this._converter.getAsString||this._converter.format)){if(this._axisValueFormatter)return this._axisValueFormatter.format(a,this._converter);if(this._converter.getAsString)return this._converter.getAsString(a);if(this._converter.format)return this._converter.format(a)}else{if(this._axisValueFormatter)return this._axisValueFormatter.format(a);var b=Math.log(this._majorIncrement)/Math.log(10),b=Math.max(Math.ceil(-b),0);return a.toFixed(b)}};
DvtDataAxisInfo.prototype._calcMajorMinorIncr=function(a){this._majorIncrement=this._majorIncrement?this._majorIncrement:a;null!=this._minMajorIncrement&&this._majorIncrement<this._minMajorIncrement&&(this._majorIncrement=this._minMajorIncrement);this._majorTickCount=(this.MaxValue-this.getMinLabel())/this._majorIncrement;null!=this._minorIncrement&&2<=this._majorIncrement/this._minorIncrement?this._minorTickCount=this._majorIncrement/this._minorIncrement:(this._minorTickCount=DvtDataAxisInfo._MINOR_TICK_COUNT,
this._minorIncrement=this._majorIncrement/this._minorTickCount)};
DvtDataAxisInfo.prototype._calcAxisExtents=function(){var a="zero"==this.Options.baselineScaling,b="on"==this.Options._continuousExtent;a&&(this.DataMin=Math.min(0,this.DataMin),this.DataMax=Math.max(0,this.DataMax));var c=this._calcAxisScale(null!=this.GlobalMin?this.GlobalMin:this.DataMin,null!=this.GlobalMax?this.GlobalMax:this.DataMax);this.DataMin==this.DataMax&&(this.DataMin-=3*c,this.DataMax+=2*c);if(null==this.GlobalMin)if(a&&0<=this.DataMin)this.GlobalMin=0;else if(b)this.GlobalMin=this.DataMin-
0.1*(this.DataMax-this.DataMin),0<=this.DataMin&&(this.GlobalMin=Math.max(this.GlobalMin,0));else if(!a&&null!=this.GlobalMax)for(this.GlobalMin=this.GlobalMax;this.GlobalMin>this.DataMin;)this.GlobalMin-=c;else this.GlobalMin=Math.floor(this.DataMin/c)*c;if(null==this.GlobalMax)if(a&&0>=this.DataMax)this.GlobalMax=0;else if(b)this.GlobalMax=this.DataMax+0.1*(this.DataMax-this.DataMin),0>=this.DataMax&&(this.GlobalMax=Math.min(this.GlobalMax,0));else if(a)this.GlobalMax=(Math.floor(this.DataMax/c)+
1)*c;else for(this.GlobalMax=this.GlobalMin;this.GlobalMax<=this.DataMax;)this.GlobalMax+=c;this.GlobalMax==this.GlobalMin&&(this.GlobalMax=100,this.GlobalMin=0,c=(this.GlobalMax-this.GlobalMin)/DvtDataAxisInfo._MAX_NUMBER_OF_GRIDS_AUTO);null==this.MinValue&&(this.MinValue=this.GlobalMin);null==this.MaxValue&&(this.MaxValue=this.GlobalMax);if(this.MinValue!=this.GlobalMin||this.MaxValue!=this.GlobalMax)c=this._calcAxisScale(this.MinValue,this.MaxValue);this._calcMajorMinorIncr(c)};
DvtDataAxisInfo.prototype._calcAxisScale=function(a,b){if(this._majorIncrement)return this._majorIncrement;var c=b-a;if(0==c)return 0==a?10:Math.pow(10,Math.floor(Math.log(a)/Math.LN10)-1);var d=Math.log(c)/Math.log(10),d=Math.pow(10,Math.ceil(d)-2),c=Math.round(c/d);return(10<=c&&14>=c?2:15<=c&&19>=c?3:20<=c&&24>=c?4:25<=c&&45>=c?5:46<=c&&80>=c?10:20)*d};DvtDataAxisInfo.prototype.getMajorTickCount=function(){return this._majorTickCount};
DvtDataAxisInfo.prototype.setMajorTickCount=function(a){this._majorTickCount=a;this._majorIncrement=(this.MaxValue-this.MinValue)/this._majorTickCount};DvtDataAxisInfo.prototype.getMinorTickCount=function(){return this._minorTickCount};DvtDataAxisInfo.prototype.setMinorTickCount=function(a){this._minorTickCount=a;this._minorIncrement=this._majorIncrement/this._minorTickCount};DvtDataAxisInfo.prototype.getMajorIncrement=function(){return this._majorIncrement};
DvtDataAxisInfo.prototype.getMinorIncrement=function(){return this._minorIncrement};DvtDataAxisInfo.prototype.getMinimumExtent=function(){return(this.GlobalMax-this.GlobalMin)/DvtDataAxisInfo._MAX_ZOOM_FACTOR};DvtDataAxisInfo.prototype.getStartOverflow=function(){return("top"==this.Position||"bottom"==this.Position)&&DvtAgent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow};
DvtDataAxisInfo.prototype.getEndOverflow=function(){return("top"==this.Position||"bottom"==this.Position)&&DvtAgent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow};var DvtGroupAxisInfo=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtGroupAxisInfo,DvtAxisInfo,"DvtGroupAxisInfo");
DvtGroupAxisInfo.prototype.Init=function(a,b,c){DvtGroupAxisInfo.superclass.Init.call(this,a,b,c);a=DvtAgent.isRightToLeft(a);if(("top"==this.Position||"bottom"==this.Position)&&a)c=this.StartCoord,this.StartCoord=this.EndCoord,this.EndCoord=c;this._groups=b.groups;var c=0<b.endGroupOffset?Number(b.endGroupOffset):0,d=0<b.startGroupOffset?Number(b.startGroupOffset):0;this.DataMin=0;this.DataMax=this._groups.length-1;this.GlobalMin=null==b.min?this.DataMin-d:b.min;this.GlobalMax=null==b.max?this.DataMax+
c:b.max;this.MinValue=null==b.viewportMin?this.GlobalMin:b.viewportMin;this.MaxValue=null==b.viewportMax?this.GlobalMax:b.viewportMax;var e=this.getIndexByLabel(b.viewportStartGroup),g=this.getIndexByLabel(b.viewportEndGroup);-1!=e&&(this.MinValue=e-d);-1!=g&&(this.MaxValue=g+c);this._startBuffer=a?b.rightBuffer:b.leftBuffer;this._endBuffer=a?b.leftBuffer:b.rightBuffer;this._isLabelRotated=!1;this._renderGridAtLabels=b._renderGridAtLabels};
DvtGroupAxisInfo.prototype._rotateLabels=function(a,b,c){var d,e=DvtAgent.isRightToLeft(this.getCtx());this._isLabelRotated=!0;this._setOverflow(c,c,a);for(var g=0;g<a.length;g++)c=a[g],null!=c&&(d=c.getX(),c.setX(0),c.setY(0),e?c.setRotation(Math.PI/2):c.setRotation(3*Math.PI/2),c.setTranslateX(d));b=this.GuessLabelDims(a,b);return this.SkipLabels(a,b)};DvtGroupAxisInfo.prototype.isLabelRotated=function(){return this._isLabelRotated};
DvtGroupAxisInfo.prototype._setOverflow=function(a,b,c){var a=Math.max(a-this._startBuffer,0),b=Math.max(b-this._endBuffer,0),d=DvtAgent.isRightToLeft(this.getCtx());this.StartCoord+=(a-this.StartOverflow)*(d?-1:1);this.EndCoord-=(b-this.EndOverflow)*(d?-1:1);for(d=0;d<c.length;d++){var e=c[d];e&&e.setX(this.getCoordAt(d))}this.StartOverflow=a;this.EndOverflow=b};
DvtGroupAxisInfo.prototype.getLabels=function(a,b){if(b&&0<b)return null;for(var c=[],d=a.getStage(),e="top"==this.Position||"bottom"==this.Position,g=DvtAgent.isRightToLeft(a),h=this._groups.length,k,m,n=0;n<h;n++){var o=this.getLabelAt(n),s=this.getCoordAt(n);null!=s?(m=this.CreateLabel(a,o,s),c.push(m),k||(k=m)):c.push(null)}if("tangential"==this.Position)return c;h=k.measureDimensions();e&&(null!=this.Options._startOverflow&&null!=this.Options._endOverflow?(k=this.Options._startOverflow,g=this.Options._endOverflow):
(m=m.measureDimensions(),k=g?h.w+h.x-this.StartCoord:this.StartCoord-h.x,g=g?this.EndCoord-m.x:m.w+m.x-this.EndCoord),(k>this._startBuffer||g>this._endBuffer)&&this._setOverflow(k,g,c));g=[];g=this.GuessLabelDims(c,d,0.3);k=this.GuessLabelDims(c,d);if(!this.IsOverlapping(k,0))return c;if(e){if("auto"==this.Options.tickLabel.rotation){if(this.IsOverlapping(g,0))return this._rotateLabels(c,d,h.h/2);g=this.GetLabelDims(c,d);return this.IsOverlapping(g,0)?this._rotateLabels(c,d,h.h/2):c}g=this.GetLabelDims(c,
d);return this.SkipLabels(c,g)}return this.SkipLabels(c,k)};DvtGroupAxisInfo.prototype.getAxisLine=function(a){var b=this.Options.axisLine;return"on"==b.rendered?(b=new DvtSolidStroke(b.lineColor,1,b.lineWidth),this.CreateGridLine(a,b,0)):null};
DvtGroupAxisInfo.prototype.getMajorGridLines=function(a){var b=[],c,d=this.Options.majorTick,e=new DvtSolidStroke(d.lineColor,1,d.lineWidth);d.lineStyle&&e.setStyle(DvtStroke.convertTypeString(d.lineStyle));d=d.rendered;if("on"==d||"auto"==d&&"tangential"==this.Position)for(var d=this._groups.length,g=0;g<d;g++){if(this._renderGridAtLabels)c=this.getCoordAt(g);else if(this.getCoordAt(g+0.5))c=this.getCoordAt(g+0.5);else continue;null!=c&&(c=this.CreateGridLine(a,e,c),b.push(c))}return b};
DvtGroupAxisInfo.prototype.getValueAt=function(a){var b=Math.min(this.StartCoord,this.EndCoord),c=Math.max(this.StartCoord,this.EndCoord);return a<b||a>c?null:this.getUnboundedValueAt(a)};DvtGroupAxisInfo.prototype.getCoordAt=function(a){return a<this.MinValue||a>this.MaxValue?null:this.getUnboundedCoordAt(a)};DvtGroupAxisInfo.prototype.getBoundedValueAt=function(a){var b=Math.min(this.StartCoord,this.EndCoord),c=Math.max(this.StartCoord,this.EndCoord);a<b?a=b:a>c&&(a=c);return this.getUnboundedValueAt(a)};
DvtGroupAxisInfo.prototype.getBoundedCoordAt=function(a){a<this.MinValue?a=this.MinValue:a>=this.MaxValue&&(a=this.MaxValue);return this.getUnboundedCoordAt(a)};DvtGroupAxisInfo.prototype.getUnboundedValueAt=function(a){return this.MinValue+(a-this.StartCoord)/((this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue))};DvtGroupAxisInfo.prototype.getUnboundedCoordAt=function(a){return this.StartCoord+(a-this.MinValue)*((this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue))};
DvtGroupAxisInfo.prototype.getLabelAt=function(a){a=Math.round(a);if(0>a||a>=this._groups.length)return null;if((a=this._groups[a])&&a.name)a=a.name;return a};DvtGroupAxisInfo.prototype.getIndexByLabel=function(a){if(null==a)return-1;for(var b=-1,c=0;c<this._groups.length;c++)if(a==this.getLabelAt(c)){b=c;break}return b};DvtGroupAxisInfo.prototype.getMinimumExtent=function(){return 1};
var DvtLinearScaleAxisValueFormatter=function(a,b,c,d,e){var g=new DvtUtilBundle;DvtAbstractAxisValueFormatter.call(this,g);this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtLinearScaleAxisValueFormatter,DvtAbstractAxisValueFormatter,"DvtLinearScaleAxisValueFormatter");DvtLinearScaleAxisValueFormatter.SCALE_NONE="none";DvtLinearScaleAxisValueFormatter.SCALE_AUTO="auto";DvtLinearScaleAxisValueFormatter.SCALE_THOUSAND="thousand";DvtLinearScaleAxisValueFormatter.SCALE_MILLION="million";
DvtLinearScaleAxisValueFormatter.SCALE_BILLION="billion";DvtLinearScaleAxisValueFormatter.SCALE_TRILLION="trillion";DvtLinearScaleAxisValueFormatter.SCALE_QUADRILLION="quadrillion";DvtLinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE=3;DvtLinearScaleAxisValueFormatter.prototype.Init=function(a,b,c,d,e){this._scales={};this._scalesOrder=[];this._factorToScaleMapping={};this.InitScales();this.InitFormatter(a,b,c,d,e)};
DvtLinearScaleAxisValueFormatter.prototype.InitScales=function(){var a=function(a,b,e){var g;this.GetBundle()&&e&&(g=this.GetBundle().getTranslatedString(e,null));e={scaleFactor:b,localizedSuffix:g};this._scales[a]=e;this._scalesOrder.push(e);this._factorToScaleMapping[b]=e},b=DvtLinearScaleAxisValueFormatter.SCALING_FACTOR_DIFFERENCE;a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_NONE,0*b);a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_THOUSAND,1*b,"SCALING_SUFFIX_THOUSAND");a.call(this,
DvtLinearScaleAxisValueFormatter.SCALE_MILLION,2*b,"SCALING_SUFFIX_MILLION");a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_BILLION,3*b,"SCALING_SUFFIX_BILLION");a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_TRILLION,4*b,"SCALING_SUFFIX_TRILLION");a.call(this,DvtLinearScaleAxisValueFormatter.SCALE_QUADRILLION,5*b,"SCALING_SUFFIX_QUADRILLION");this._scalesOrder.sort(function(a,b){return a.scaleFactor<b.scaleFactor?-1:a.scaleFactor>b.scaleFactor?1:0})};
DvtLinearScaleAxisValueFormatter.prototype.InitFormatter=function(a,b,c,d,e){var g=!1,h,k=!1;"off"!==e&&(k=!0);d=this._getScaleFactor(d);"number"!==typeof d&&(g=!0);g&&(d=this._findNearestLEScaleFactor(this._getPowerOfTen(Math.max(Math.abs(a),Math.abs(b)))));!0===k&&(0==c&&a==b?(a=this._getPowerOfTen(b),a=d-a,h=0>=a?3+a:Math.max(a,4)):(a=this._getPowerOfTen(c),h=Math.max(d-a,0)));this._useAutoPrecision=k;this._scaleFactor=d;this._decimalPlaces=h};
DvtLinearScaleAxisValueFormatter.prototype._findNearestLEScaleFactor=function(a){var b=0;if(a<=this._scalesOrder[0].scaleFactor)b=this._scalesOrder[0].scaleFactor;else if(a>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)b=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var c=this._scalesOrder.length-1;0<=c;c--)if(this._scalesOrder[c].scaleFactor<=a){b=this._scalesOrder[c].scaleFactor;break}return b};
DvtLinearScaleAxisValueFormatter.prototype._getScaleFactor=function(a){a||(a=DvtLinearScaleAxisValueFormatter.SCALE_AUTO);var b;if(a=this._scales[a])b=a.scaleFactor;return b};
DvtLinearScaleAxisValueFormatter.prototype.format=function(a,b){var c=parseFloat(a);if(isNaN(c))return a;var d;if(0<this._scaleFactor){for(d=0;d<this._scaleFactor;d++)c/=10;d=this._factorToScaleMapping[this._scaleFactor].localizedSuffix}b&&b.getAsString?c=b.getAsString(c):b&&b.format?c=b.format(c):this._useAutoPrecision&&!isNaN(parseFloat(c))&&(c=parseFloat((new Number(c)).toFixed(this._decimalPlaces)),c=this._formatFraction(c));"string"===typeof d&&(c+=d);return c};
DvtLinearScaleAxisValueFormatter.prototype._formatFraction=function(a){a=""+a;if(0<this._decimalPlaces){-1==a.indexOf(".")&&(a+=".");for(var b=a.substring(a.indexOf(".")+1).length;b<this._decimalPlaces;)a+="0",b++}return a};DvtLinearScaleAxisValueFormatter.prototype._getPowerOfTen=function(a){var a=0<=a?a:-a,b=0;if(1.0E-15>a)return 0;if(Infinity==a)return Number.MAX_VALUE;if(10<=a)for(;10<=a;)b+=1,a/=10;else if(1>a)for(;1>a;)b-=1,a*=10;return b};var DvtTimeAxisInfo=function(a,b,c){this.Init(a,b,c)};
DvtObj.createSubclass(DvtTimeAxisInfo,DvtAxisInfo,"DvtTimeAxisInfo");DvtTimeAxisInfo.TIME_SECOND=1E3;DvtTimeAxisInfo.TIME_MINUTE=60*DvtTimeAxisInfo.TIME_SECOND;DvtTimeAxisInfo.TIME_HOUR=60*DvtTimeAxisInfo.TIME_MINUTE;DvtTimeAxisInfo.TIME_DAY=24*DvtTimeAxisInfo.TIME_HOUR;DvtTimeAxisInfo.TIME_MONTH_MIN=28*DvtTimeAxisInfo.TIME_DAY;DvtTimeAxisInfo.TIME_MONTH=365/12*DvtTimeAxisInfo.TIME_DAY;DvtTimeAxisInfo.TIME_YEAR=365*DvtTimeAxisInfo.TIME_DAY;DvtTimeAxisInfo.AM_INDEX=12;DvtTimeAxisInfo.PM_INDEX=13;
DvtTimeAxisInfo.AMPM_BEFORE_INDEX=14;DvtTimeAxisInfo.DMY_ORDER_INDEX=15;DvtTimeAxisInfo.YEAR_TRAILING_CHAR_INDEX=16;DvtTimeAxisInfo.DAY_TRAILING_CHAR_INDEX=17;
DvtTimeAxisInfo.prototype.Init=function(a,b,c){DvtTimeAxisInfo.superclass.Init.call(this,a,b,c);"top"==this.Position||"bottom"==this.Position?(!b._isOverview&&"on"==b.tickLabel.rendered&&(this.StartOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.leftBuffer,0),this.EndOverflow=Math.max(DvtAxis.MINIMUM_AXIS_BUFFER-b.rightBuffer,0)),DvtAgent.isRightToLeft(a)?(this._minCoord=this.EndCoord-this.EndOverflow,this._maxCoord=this.StartCoord+this.StartOverflow):(this._minCoord=this.StartCoord+this.StartOverflow,
this._maxCoord=this.EndCoord-this.EndOverflow)):(this._minCoord=this.StartCoord,this._maxCoord=this.EndCoord);this._converter=null;null!=b.tickLabel&&(this._converter=b.tickLabel.converter);this._groups=b.groups;this.DataMin=b.dataMin;this.DataMax=b.dataMax;this._averageInterval=0<this._groups.length?(this.DataMax-this.DataMin)/(this._groups.length-1):0;a=0<b.endGroupOffset?b.endGroupOffset*this._averageInterval:0;c=0<b.startGroupOffset?b.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=
b.min?b.min:this.DataMin-c;this.GlobalMax=null!=b.max?b.max:this.DataMax+a;this.MinValue=null==b.viewportMin?this.GlobalMin:b.viewportMin;this.MaxValue=null==b.viewportMax?this.GlobalMax:b.viewportMax;null!=b.viewportStartGroup&&(this.MinValue=b.viewportStartGroup-c);null!=b.viewportEndGroup&&(this.MaxValue=b.viewportEndGroup+a);this._timeZoneOffset=0;this._timeRange=this.MaxValue-this.MinValue;this._level2Coords=this._level1Coords=this._level2Labels=this._level1Labels=null;this._isOneLevel=!0;a=
new DvtUtilBundle;this._timeAxisResources=[a.getTranslatedString("MONTH_SHORT_JANUARY",null),a.getTranslatedString("MONTH_SHORT_FEBRUARY",null),a.getTranslatedString("MONTH_SHORT_MARCH",null),a.getTranslatedString("MONTH_SHORT_APRIL",null),a.getTranslatedString("MONTH_SHORT_MAY",null),a.getTranslatedString("MONTH_SHORT_JUNE",null),a.getTranslatedString("MONTH_SHORT_JULY",null),a.getTranslatedString("MONTH_SHORT_AUGUST",null),a.getTranslatedString("MONTH_SHORT_SEPTEMBER",null),a.getTranslatedString("MONTH_SHORT_OCTOBER",
null),a.getTranslatedString("MONTH_SHORT_NOVEMBER",null),a.getTranslatedString("MONTH_SHORT_DECEMBER",null)];this._renderGridAtLabels=b._renderGridAtLabels};DvtTimeAxisInfo.prototype.formatLabel=function(a){a=this._formatAxisLabel(new Date(a+this._timeZoneOffset),null);return null!=a[1]?a[0]+" "+a[1]:a[0]};
DvtTimeAxisInfo.prototype._formatAxisLabel=function(a,b){var c=null,d=null;if(this._converter&&this._converter.getAsString)c=this._converter.getAsString(a);else if(this._converter&&this._converter.format)c=this._converter.format(a);else if(this._averageInterval>=DvtTimeAxisInfo.TIME_YEAR)c=this._formatDate(a,!1,!1,!0);else if(this._timeRange>=DvtTimeAxisInfo.TIME_YEAR||this._averageInterval>=DvtTimeAxisInfo.TIME_MONTH_MIN){if(null==b||b.getMonth()!=a.getMonth())c=this._formatDate(a,!1,!0,!1);if(null==
b||b.getYear()!=a.getYear())d=this._formatDate(a,!1,!1,!0)}else if(this._timeRange>=DvtTimeAxisInfo.TIME_MONTH_MIN||this._averageInterval>=DvtTimeAxisInfo.TIME_DAY){if(null==b||b.getDate()!=a.getDate())c=this._formatDate(a,!0,!1,!1);null==b||b.getYear()!=a.getYear()?d=this._formatDate(a,!1,!0,!0):b.getMonth()!=a.getMonth()&&(d=this._formatDate(a,!1,!0,!1))}else{if(this._timeRange>=DvtTimeAxisInfo.TIME_HOUR||this._averageInterval>=DvtTimeAxisInfo.TIME_MINUTE){if(null==b||b.getHours()!=a.getHours()||
b.getMinutes()!=a.getMinutes())c=this._formatTime(a,!1)}else if(null==b||b.getSeconds()!=a.getSeconds())c=this._formatTime(a,!0);null==b||b.getMonth()!=a.getMonth()?d=this._formatDate(a,!0,!0,!1):b.getDate()!=a.getDate()&&(d="left"==this.Position||"right"==this.Position?this._formatDate(a,!0,!0,!1):this._formatDate(a,!0,!1,!1))}return[c,d]};
DvtTimeAxisInfo.prototype._formatDate=function(a,b,c,d){var e=a.getFullYear(),g;g=this._timeAxisResources&&12<=this._timeAxisResources.length?this._timeAxisResources[a.getMonth()]:a.toString().split(" ")[1];a=a.getDate();if(this._timeAxisResources&&this._timeAxisResources.length>DvtTimeAxisInfo.DAY_TRAILING_CHAR_INDEX)var h=this._timeAxisResources[DvtTimeAxisInfo.DAY_TRAILING_CHAR_INDEX],e=e+this._timeAxisResources[DvtTimeAxisInfo.YEAR_TRAILING_CHAR_INDEX],a=a+h;h="DMY";this._timeAxisResources&&this._timeAxisResources.length>
DvtTimeAxisInfo.DMY_ORDER_INDEX&&(h=this._timeAxisResources[DvtTimeAxisInfo.DMY_ORDER_INDEX]);for(var k="",m=0;m<h.length;m++)b&&"D"==h[m]?k+=a+" ":c&&"M"==h[m]?k+=g+" ":d&&"Y"==h[m]&&(k+=e+" ");return 0<k.length?k.slice(0,k.length-1):k};
DvtTimeAxisInfo.prototype._formatTime=function(a,b){var c=a.getHours(),d=a.getMinutes(),e=a.getSeconds(),g="",h="",k=!1;null!=this._timeAxisResources&&this._timeAxisResources>DvtTimeAxisInfo.AMPM_BEFORE_INDEX&&(g=this._timeAxisResources[DvtTimeAxis.AM_INDEX],h=this._timeAxisResources[DvtTimeAxis.PM_INDEX],k="t"==this._timeAxisResources[DvtTimeAxisInfo.AMPM_BEFORE_INDEX]);var m=""!=g&&""!=h,n;m&&(n=h,12<c?(c-=12,n=h):0==c?(n=g,c=12):12>c&&(n=g));c=this._doubleDigit(c)+":"+this._doubleDigit(d);b&&(c+=
":"+this._doubleDigit(e));return m?k?n+" "+c:c+" "+n:c};DvtTimeAxisInfo.prototype._doubleDigit=function(a){return 10>a?"0"+a:""+a};
DvtTimeAxisInfo.prototype._getMixedFrequencyInterval=function(){return this._averageInterval>=DvtTimeAxisInfo.TIME_YEAR?DvtTimeAxisInfo.TIME_YEAR:this._averageInterval>=DvtTimeAxisInfo.TIME_MONTH?DvtTimeAxisInfo.TIME_MONTH:this._averageInterval>=DvtTimeAxisInfo.TIME_DAY?DvtTimeAxisInfo.TIME_DAY:this._averageInterval>=DvtTimeAxisInfo.TIME_HOUR?DvtTimeAxisInfo.TIME_HOUR:this._averageInterval>=DvtTimeAxisInfo.TIME_MINUTE?DvtTimeAxisInfo.TIME_MINUTE:DvtTimeAxisInfo.TIME_SECOND};
DvtTimeAxisInfo.prototype._generateLabels=function(a){var b=[],c=[],d=[],e=[],g=null,h=0,k=0,m=a.getStage(a),k=DvtAgent.isRightToLeft(a),n="left"==this.Position||"right"==this.Position,o="off"!=this.Options.zoomAndScroll;if(o)var s=!0;h=0;n&&DvtAgent.isBrowserChrome()&&(h=0.2*parseInt(this.Options.tickLabel.style.getStyle("font-size")));var t=[],u=0;if("mixedFrequency"==this.Options.timeAxisType){for(var v=this.MinValue,u=this._getMixedFrequencyInterval();v<=this.MaxValue;)t.push(v),v+=u;u=Math.floor(this._averageInterval/
u)-1}else t=this._groups;for(var w=0;w<t.length;w++){var v=t[w],z=this.getCoordAt(v);if(null!=z){var v=new Date(v+this._timeZoneOffset),A=this._formatAxisLabel(v,g),g=A[0],A=A[1];null!=g?(null!=A?b.push(this.CreateLabel(a,g,z+h)):b.push(this.CreateLabel(a,g,z)),d.push(z)):(b.push(null),d.push(null));o&&s&&(z=this.MinValue?this.getCoordAt(this.MinValue):z,s=!1);null!=A?(g=null,g=null!=A?this.CreateLabel(a,A,z-h):this.CreateLabel(a,A,z),e.push(z),n||(k?g.alignRight():g.alignLeft()),c.push(g),this._isOneLevel=
!1):(c.push(null),e.push(null));g=v}}h=this._skipLabelsUniform(b,this.GetLabelDims(b,m),u);k=this._skipLabelsGreedy(c,this.GetLabelDims(c,m));if(!o)if(h<=1.5*k&&1<k){b=c;c=null;for(a=0;a<b.length;a++)null!=b[a]&&b[a].alignCenter()}else 2>k&&(c=null);2>k&&(this._isOneLevel=!0);n&&null!=c&&this._skipVertLabels(b,c,m);this._level1Labels=b;this._level2Labels=c;this._level1Coords=d;this._level2Coords=e};DvtTimeAxisInfo._isOverlapping=function(a,b,c,d,e){return c>=a&&c-e<b||c<a&&d+e>a?!0:!1};
DvtTimeAxisInfo.prototype._skipLabelsGreedy=function(a,b){if(!b||0>=b.length)return!1;var c="left"==this.Position||"right"==this.Position,d=c?this.Options.layout.verticalAxisGap:this.Options.layout.horizontalAxisGap,e=0,g,h,k,m;if(null==b[0])return e;c?(g=b[0].y,h=b[0].y+b[0].h):(g=b[0].x,h=b[0].x+b[0].w);e++;for(var n=1;n<b.length;n++)null!=b[n]&&(c?(k=b[n].y,m=b[n].y+b[n].h):(k=b[n].x,m=b[n].x+b[n].w),DvtTimeAxisInfo._isOverlapping(g,h,k,m,d)&&(a[n]=null),null!=a[n]&&(g=k,h=m,e++));return e};
DvtAxisInfo.prototype._skipLabelsUniform=function(a,b,c){for(var d=[],e=0;e<b.length;e++)null!=b[e]&&d.push(b[e]);b=c;for(e=this.IsOverlapping(d,b);e;)b++,e=this.IsOverlapping(d,b);d=d.length;if(0<b)for(e=c=0;e<a.length;e++)null!=a[e]&&(0!=c%(b+1)&&(a[e]=null,d--),c++);return d};
DvtTimeAxisInfo.prototype._skipVertLabels=function(a,b){for(var c=0.1*parseInt(this.Options.tickLabel.style.getStyle("font-size")),d=function(a,b){return DvtTimeAxisInfo._isOverlapping(a.y,a.y+a.h,b.y,b.y+b.h,c)},e=null,g=!1,h=0;h<a.length;h++)if(a[h]&&b[h])if(a[h].alignTop(),b[h].alignBottom(),e&&d(e,a[h].measureDimensions())){g=!0;break}else if(a[h+1]&&d(a[h].measureDimensions(),a[h+1].measureDimensions())){g=!0;break}else e=b[h].measureDimensions();else if(a[h]||b[h]){var k=a[h]?a[h]:b[h];if(e&&
d(e,k.measureDimensions())){g=!0;break}else e=k.measureDimensions()}if(g)for(var k=g=e=null,m,h=0;h<a.length;h++)b[h]?(a[h]=null,b[h].alignMiddle(),m=b[h].measureDimensions(),g&&d(g,m)&&(a[e]=null),k=m):a[h]&&(m=a[h].measureDimensions(),k&&d(k,m)?a[h]=null:(g=m,e=h))};DvtTimeAxisInfo.prototype.getLabels=function(a,b){if(b&&1<b)return null;this._level1Labels||this._generateLabels(a);return 1==b?this._level2Labels:this._level1Labels};
DvtTimeAxisInfo.prototype.getAxisLine=function(a){var b=this.Options.axisLine;return"on"==b.rendered?(b=new DvtSolidStroke(b.lineColor,1,b.lineWidth),this.CreateGridLine(a,b,10)):null};DvtTimeAxisInfo.prototype._getGridLineShift=function(a){if(this._renderGridAtLabels)return 0;for(var b=this._level1Coords[a],c=null,a=a-1;0<=a;a--)if(null!=this._level1Coords[a]){c=this._level1Coords[a];break}return null==c?Infinity:(b-c)/2};
DvtTimeAxisInfo.prototype.getMajorGridLines=function(a){var b=this.Options.majorTick;if("on"!=b.rendered)return[];var c=[];if(this._isOneLevel)for(var d=0;d<this._level1Coords.length;d++)null!=this._level1Coords[d]&&null!=this._level1Labels[d]&&c.push(this._level1Coords[d]-this._getGridLineShift(d));else for(d=1;d<this._level2Coords.length;d++)null!=this._level2Coords[d]&&c.push(this._level2Coords[d]-this._getGridLineShift(d));var e=new DvtSolidStroke(b.lineColor,1,b.lineWidth);b.lineStyle&&e.setStyle(DvtStroke.convertTypeString(b.lineStyle));
b=[];for(d=0;d<c.length;d++)c[d]>=this._minCoord&&c[d]<=this._maxCoord&&b.push(this.CreateGridLine(a,e,c[d]));return b};
DvtTimeAxisInfo.prototype.getMinorGridLines=function(a){var b=this.Options.minorTick;if("on"!=b.rendered||this._isOneLevel)return[];for(var c=[],d=0;d<this._level1Coords.length;d++)null!=this._level1Coords[d]&&null!=this._level1Labels[d]&&c.push(this._level1Coords[d]-this._getGridLineShift(d));var e=new DvtSolidStroke(b.lineColor,1,b.lineWidth);b.lineStyle&&e.setStyle(DvtStroke.convertTypeString(b.lineStyle));b=[];for(d=0;d<c.length;d++)c[d]>=this._minCoord&&c[d]<=this._maxCoord&&b.push(this.CreateGridLine(a,
e,c[d]));return b};DvtTimeAxisInfo.prototype.getValueAt=function(a){var b=Math.min(this._minCoord,this._maxCoord),c=Math.max(this._minCoord,this._maxCoord);return a<b||a>c?null:this.getUnboundedValueAt(a)};DvtTimeAxisInfo.prototype.getCoordAt=function(a){return a<this.MinValue||a>this.MaxValue?null:this.getUnboundedCoordAt(a)};DvtTimeAxisInfo.prototype.getBoundedValueAt=function(a){var b=Math.min(this._minCoord,this._maxCoord),c=Math.max(this._minCoord,this._maxCoord);a<b?a=b:a>c&&(a=c);return this.getUnboundedValueAt(a)};
DvtTimeAxisInfo.prototype.getBoundedCoordAt=function(a){a<this.MinValue?a=this.MinValue:a>this.MaxValue&&(a=this.MaxValue);return this.getUnboundedCoordAt(a)};DvtTimeAxisInfo.prototype.getUnboundedValueAt=function(a){return this.MinValue+(a-this._minCoord)/(this._maxCoord-this._minCoord)*(this.MaxValue-this.MinValue)};DvtTimeAxisInfo.prototype.getUnboundedCoordAt=function(a){return this._minCoord+(a-this.MinValue)/(this.MaxValue-this.MinValue)*(this._maxCoord-this._minCoord)};
DvtTimeAxisInfo.prototype.getGroupWidth=function(){return Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))};DvtTimeAxisInfo.prototype.getMinimumExtent=function(){return this._averageInterval};DvtTimeAxisInfo.prototype.getStartOverflow=function(){return("top"==this.Position||"bottom"==this.Position)&&DvtAgent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow};
DvtTimeAxisInfo.prototype.getEndOverflow=function(){return("top"==this.Position||"bottom"==this.Position)&&DvtAgent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow};