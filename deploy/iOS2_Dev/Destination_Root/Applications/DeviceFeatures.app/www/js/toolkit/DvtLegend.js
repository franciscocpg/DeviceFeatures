var DvtLegend=function(){};DvtObj.createSubclass(DvtLegend,DvtBaseComponent,"DvtLegend");DvtLegend.newInstance=function(a,b,c){var d=new DvtLegend;d.Init(a,b,c);return d};DvtLegend.getDefaults=function(a){return(new DvtLegendDefaults).getDefaults(a)};
DvtLegend.prototype.Init=function(a,b,c){DvtLegend.superclass.Init.call(this,a,b,c);this.setId("legend1000"+Math.floor(1E9*Math.random()));this.Defaults=new DvtLegendDefaults;this._eventManager=new DvtLegendEventManager(this);this._eventManager.addListeners(this);this._peers=[];this._scrollableSections=[]};DvtLegend.prototype.SetOptions=function(a){a?this.Options=this.Defaults.calcOptions(a):this.Options||(this.Options=this.GetDefaults())};
DvtLegend.prototype.getPreferredSize=function(a,b,c){this.SetOptions(a);this.__getOptions().isLayout=!0;a=new DvtRectangle(0,0,b,c);a=DvtLegendRenderer.render(this,a);this.__getOptions().isLayout=!1;return a};DvtLegend.prototype.render=function(a,b,c){this.SetOptions(a);this.__getOptions().isLayout=!1;this.removeChildren();a=new DvtRectangle(0,0,b,c);DvtLegendRenderer.render(this,a)};DvtLegend.prototype.highlight=function(a){DvtCategoryRolloverHandler.highlight(a,this.__getObjects())};
DvtLegend.prototype.processEvent=function(a,b){var c=a.getType();if(c==DvtCategoryRolloverEvent.TYPE_OVER||c==DvtCategoryRolloverEvent.TYPE_OUT){"dim"==this.__getOptions().hoverBehavior&&DvtCategoryRolloverHandler.processEvent(a,this.__getObjects());for(var d=0;d<this._scrollableSections.length;d++)this._scrollableSections[d].processCategoryRollover(a)}(this==b||c==DvtShowPopupEvent.TYPE||c==DvtHidePopupEvent.TYPE)&&this.__dispatchEvent(a)};DvtLegend.prototype.__getOptions=function(){return this.Options};
DvtLegend.prototype.__getEventManager=function(){return this._eventManager};DvtLegend.prototype.__registerObject=function(a){this._peers.push(a)};DvtLegend.prototype.__getObjects=function(){return this._peers};DvtLegend.prototype.__registerScrollableSection=function(a){this._scrollableSections.push(a)};var DvtLegendConstants={};DvtObj.createSubclass(DvtLegendConstants,DvtObj,"DvtLegendConstants");DvtLegendConstants.BACKGROUND="background";DvtLegendConstants.LEGEND_ITEM="legendItem";
DvtLegendConstants.TITLE="title";var DvtLegendDefaults=function(){this.Init({skyros:DvtLegendDefaults.VERSION_1,alta:DvtLegendDefaults.SKIN_ALTA})};DvtObj.createSubclass(DvtLegendDefaults,DvtBaseComponentDefaults,"DvtLegendDefaults");
DvtLegendDefaults.SKIN_ALTA={skin:DvtCSSStyle.SKIN_ALTA,textStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"),titleStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px; color: #333333;"),colors:DvtCSSStyle.COLORS_ALTA};
DvtLegendDefaults.VERSION_1={skin:DvtCSSStyle.SKIN_SKYROS,orientation:"vertical",position:null,backgroundColor:null,borderColor:null,textStyle:new DvtCSSStyle("font-size: 11px; color: #333333;"),titleStyle:new DvtCSSStyle("font-size: 12px; color: #003d5b;"),titleHalign:"start",hideAndShowBehavior:"none",hoverBehavior:"none",scrolling:"asNeeded",colors:DvtCSSStyle.COLORS_SKYROS,markerShape:"square",lineWidth:3,layout:{gapRatio:1,outerGapWidth:3,outerGapHeight:3,titleGap:3,markerSize:10,markerGap:5,
rowGap:0,columnGap:8,sectionGap:6},isLayout:!1};DvtLegendDefaults.getGapSize=function(a,b){return Math.ceil(b*a.layout.gapRatio)};var DvtLegendEventManager=function(a){this.Init(a.getCtx(),a.processEvent,a);this._legend=a};DvtObj.createSubclass(DvtLegendEventManager,DvtEventManager,"DvtLegendEventManager");DvtLegendEventManager.getUIEventParams=function(a,b){return{type:a,id:b}};
DvtLegendEventManager.prototype.FireUIEvent=function(a,b){var c=null;b instanceof DvtSimpleObjPeer&&null!=b.getParams()?c=b.getParams():b instanceof DvtLegendObjPeer&&(c=DvtLegendEventManager.getUIEventParams(DvtLegendConstants.LEGEND_ITEM,b.getId()));this.FireEvent(new DvtComponentUIEvent(a,c),this._legend)};
DvtLegendEventManager.prototype.OnClick=function(a){DvtLegendEventManager.superclass.OnClick.call(this,a);var b=this.GetLogicalObject(a.target);if(b){var c=this._processHideShowEvent(b),b=this._processActionEvent(b);(c||b)&&a.stopPropagation()}};DvtLegendEventManager.prototype.OnMouseOver=function(a){DvtLegendEventManager.superclass.OnMouseOver.call(this,a);var b=this.GetLogicalObject(a.target);b&&this._processRolloverEvent(b,!0)&&a.stopPropagation()};
DvtLegendEventManager.prototype.OnMouseOut=function(a){DvtLegendEventManager.superclass.OnMouseOut.call(this,a);var b=this.GetLogicalObject(a.target);b&&this._processRolloverEvent(b,!1)&&a.stopPropagation()};DvtLegendEventManager.prototype.HandleTouchClickInternal=function(a){var b=this.GetLogicalObject(a.target);if(b){var a=a.touchEvent,c=this._processHideShowEvent(b),b=this._processActionEvent(b);(c||b)&&a&&a.preventDefault()}};
DvtLegendEventManager.prototype.HandleTouchHoverStartInternal=function(a){this._processRolloverEvent(this.GetLogicalObject(a.target),!0)&&a.stopPropagation()};DvtLegendEventManager.prototype.HandleTouchHoverEndInternal=function(a){this._processRolloverEvent(this.GetLogicalObject(a.target),!1)&&a.stopPropagation()};DvtLegendEventManager.prototype.HandleTouchHoverOverInternal=function(a){this._processRolloverEvent(this.GetLogicalObject(a.target),!0)&&a.stopPropagation()};
DvtLegendEventManager.prototype.HandleTouchHoverOutInternal=function(a){this._processRolloverEvent(this.GetLogicalObject(a.target),!1)&&a.stopPropagation()};
DvtLegendEventManager.prototype._processHideShowEvent=function(a){if("none"==this._legend.__getOptions().hideAndShowBehavior)return!1;var b=a.getCategories?a.getCategories():null;if(!b||0>=b.length)return!1;for(var c=a.getDisplayables(),d=0;d<c.length;d++){var e=c[d];e instanceof DvtMarker&&e.setHollow(a.getColor())}b=b[0];a=a.getData();"hidden"==a.categoryVisibility?(a.categoryVisibility="visible",this.FireEvent(new DvtCategoryHideShowEvent(DvtCategoryHideShowEvent.TYPE_SHOW,b),this._legend)):(a.categoryVisibility=
"hidden",this.FireEvent(new DvtCategoryHideShowEvent(DvtCategoryHideShowEvent.TYPE_HIDE,b),this._legend));return!0};DvtLegendEventManager.prototype._processActionEvent=function(a){return a&&a.getAction&&a.getAction()?(this.FireEvent(new DvtActionEvent(DvtActionEvent.SUBTYPE_ACTION,a.getAction(),a.getId()),this._legend),!0):!1};
DvtLegendEventManager.prototype._processRolloverEvent=function(a,b){if("none"==this._legend.__getOptions().hoverBehavior)return!1;var c=a&&a.getCategories?a.getCategories():null;if(!c||0>=c.length)return!1;this.FireEvent(new DvtCategoryRolloverEvent(b?DvtCategoryRolloverEvent.TYPE_OVER:DvtCategoryRolloverEvent.TYPE_OUT,c[0]),this._legend);return!0};var DvtLegendObjPeer=function(a,b,c,d){this.Init(a,b,c,d)};DvtObj.createSubclass(DvtLegendObjPeer,DvtObj,"DvtLegendObjPeer");
DvtLegendObjPeer.prototype.Init=function(a,b,c,d){this._legend=a;this._displayables=b;this._item=c;this._id=c.id?c.id:c.text;this._action=c.action;this._spb=c._spb;this._tooltip=d;if(this._action)for(a=0;a<this._displayables.length;a++)this._displayables[a].setCursor(DvtSelectionEffectUtils.getSelectingCursor())};DvtLegendObjPeer.associate=function(a,b,c,d){if(!a||!c)return null;c=new DvtLegendObjPeer(b,a,c,d);b.__registerObject(c);for(d=0;d<a.length;d++)b.__getEventManager().associate(a[d],c);return c};
DvtLegendObjPeer.prototype.getData=function(){return this._item};DvtLegendObjPeer.prototype.getColor=function(){return this._item.color};DvtLegendObjPeer.prototype.getId=function(){return this._id};DvtLegendObjPeer.prototype.getDisplayables=function(){return this._displayables};DvtLegendObjPeer.prototype.getCategories=function(){return[this._id]};DvtLegendObjPeer.prototype.getTooltip=function(){return this._tooltip};DvtLegendObjPeer.prototype.getAction=function(){return this._action};
DvtLegendObjPeer.prototype.getShowPopupBehaviors=function(){return this._spb};var DvtLegendRenderer={};DvtObj.createSubclass(DvtLegendRenderer,DvtObj,"DvtLegendRenderer");DvtLegendRenderer._DEFAULT_ITEM_WIDTH=10;DvtLegendRenderer._MAX_LINE_WIDTH=5;DvtLegendRenderer._MAX_LINE_WIDTH_WITH_MARKER=2;DvtLegendRenderer._LINE_MARKER_SIZE=6;
DvtLegendRenderer.render=function(a,b){var c=a.__getOptions(),d=DvtLegendDefaults.getGapSize(c,c.layout.outerGapWidth),e=DvtLegendDefaults.getGapSize(c,c.layout.outerGapHeight),g=new DvtRectangle(b.x+d,b.y+e,b.w-2*d,b.h-2*e);if(0>=g.w)return new DvtDimension(0,0);var h;c.isLayout||(h=DvtLegendRenderer._createBackground(a,b));var k="vertical"==c.orientation?!1:!0,m=DvtLegendRenderer._renderTitle(a,c.title,g,null);g.y+=m.h;g.h-=Math.floor(m.h);var n=DvtLegendRenderer._getRowHeight(a),o="off"!==c.scrolling,
g=k?DvtLegendRenderer._renderHorizontalSections(a,g,n):DvtLegendRenderer._renderVerticalSections(a,g,n,o),k=m.getUnion(g);if(0>=a._scrollableSections.length){for(n=new DvtContainer(a.getCtx());0<a.getNumChildren();)n.addChild(a.getChildAt(0));a.addChild(n);n.setTranslateX((b.w-k.w)/2-k.x)}h&&a.addChildAt(h,0);return c.isLayout?new DvtDimension(Math.max(m.w,g.w)+2*d,k.h+2*e):new DvtDimension(k.w+2*d,k.h+2*e)};
DvtLegendRenderer._createBackground=function(a,b){var c=a.__getOptions(),d;c.backgroundColor&&(d=d?d:new DvtRect(a.getCtx(),b.x,b.y,b.w,b.h),d.setSolidFill(c.backgroundColor));c.borderColor&&(d=d?d:new DvtRect(a.getCtx(),b.x,b.y,b.w,b.h),d.setSolidStroke(c.borderColor),d.setPixelHinting(!0));d&&(c=DvtLegendEventManager.getUIEventParams(DvtLegendConstants.BACKGROUND),a.__getEventManager().associate(d,new DvtSimpleObjPeer(null,null,null,c)));return d};
DvtLegendRenderer._renderTitle=function(a,b,c,d){var e=a.__getOptions();if(!b)return new DvtRectangle(c.x,c.y,0,0);var b=new DvtOutputText(a.getCtx(),b,c.x,c.y),g=d&&d.titleStyle?new DvtCSSStyle(d.titleStyle):e.titleStyle;b.setCSSStyle(g);if(DvtTextUtils.fitText(b,c.w,c.h,a)){g=DvtLegendEventManager.getUIEventParams(DvtLegendConstants.TITLE);a.__getEventManager().associate(b,new DvtSimpleObjPeer(b.getUntruncatedTextString(),null,null,g));var g=b.measureDimensions(),h=DvtLegendDefaults.getGapSize(e,
e.layout.titleGap);e.isLayout?a.removeChild(b):DvtLayoutUtils.align(c,d&&d.titleHalign?d.titleHalign:e.titleHalign,b,g.w);g.h+=h;return g}return new DvtRectangle(c.x,c.y,0,0)};DvtLegendRenderer._getLegendSections=function(a,b){var c=a.sections;b.push(a);if(c)for(var d=0;d<c.length;d++)DvtLegendRenderer._getLegendSections(c[d],b)};
DvtLegendRenderer._renderVerticalSections=function(a,b,c,d){for(var e=a.__getOptions(),g=DvtLegendRenderer._calcSectionHeights(a,b,c,d),h=[],k=0;k<e.sections.length;k++)DvtLegendRenderer._getLegendSections(e.sections[k],h);for(var m=h.length,e=DvtLegendDefaults.getGapSize(e,e.layout.sectionGap),b=b.clone(),n=null,o,k=0;k<h.length;k++)b.h=g[k],o=DvtLegendRenderer._renderSection(a,h[k],k,b,c,d),k!=m-1&&h[k].items&&(b.y+=o.h+e),n=n?n.getUnion(o):o;return n};
DvtLegendRenderer._renderHorizontalSections=function(a,b,c){for(var d=a.__getOptions(),e=DvtAgent.isRightToLeft(a.getCtx()),g=0,h=[],k=0;k<d.sections.length;k++)DvtLegendRenderer._getLegendSections(d.sections[k],h);for(var m=h.length,n=0,k=0;k<h.length;k++)h[k].items&&(n+=h[k].items.length);var o=DvtLegendDefaults.getGapSize(d,d.layout.sectionGap),s=b.w-o*(m-1),t,u;if(d.sections)for(var v=0,w=0,k=0;k<m;k++)d=b.clone(),(t=h[k].items)?(t=Math.round(t.length/n*s),d.w=t,d.x=e?b.x+b.w-g-d.w:b.x+g,0<v&&
(d.y+=w,d.h-=w),t=DvtLegendRenderer._renderSection(a,h[k],k,d,c,!1),0<v&&(d.h+=w,v--),g+=t.w,k!=m-1&&(g+=o)):(d.w=b.w-g,d.x=e?b.x:b.x+g,t=DvtLegendRenderer._renderSection(a,h[k],k,d,c,!1),w=t.h,v=h[k].sections.length),u=u?u.getUnion(t):t;return u};
DvtLegendRenderer._renderSection=function(a,b,c,d,e,g){if(b){var h=d.clone(),k=a.__getOptions(),m=a.getCtx(),n=h.y,o=k.layout.markerSize,s=DvtLegendDefaults.getGapSize(k,k.layout.markerGap),t=DvtLegendDefaults.getGapSize(k,k.layout.rowGap),u=DvtLegendDefaults.getGapSize(k,k.layout.columnGap),v=DvtLegendRenderer._renderTitle(a,b.title,h,b);h.y+=v.h;if(b.items){h.h-=v.h;var n=n+v.h,w=DvtLegendRenderer._calcSectionSpace(a,h,e,b.items,g),z=w.numCols,A=w.numRows,C=w.width;h.h=Math.ceil(Math.min(h.h,A*
(e+t)-t)+v.h);h.w=C*z+u*(z-1);if(k.isLayout){if(1==A){for(c=d=0;c<b.items.length;c++)g=b.items[c],C=Math.ceil(DvtLegendRenderer._getTextWidth(a,g.text)),d+=C+o+s+u;h.w=d-u}return h}if(0==A||0==z)return h;var D=null,B=a,E=A*(e+t)-t+v.h,w=b.items.length;"vertical"===k.orientation&&g&&E>h.h&&(B=DvtLegendRenderer._createHandle(a,m,h,c),D=DvtLegendRenderer._createScrollableLegend(a,m,h,B,E,w),a.__registerScrollableSection(D));var E=C-o-s,G=DvtAgent.isRightToLeft(a.getCtx()),F=0,K=1;if(1==A){for(c=D=0;c<
w;c++)g=b.items[c],C=Math.ceil(DvtLegendRenderer._getTextWidth(a,g.text)),C<E&&(D+=E-C);for(c=0;c<w;c++){var g=b.items[c],J=G?h.x+h.w-o:h.x,I=G?h.x+h.w-o-s:h.x+o+s,H=DvtLegendRenderer._createLegendMarker(a,J,h.y,e,o,g,c),M=g.text,C=Math.ceil(DvtLegendRenderer._getTextWidth(a,g.text)),L=null;M&&(C<E?L=DvtLegendRenderer._createLegendText(a,m,h,E,M,k.textStyle):(L=DvtLegendRenderer._createLegendText(a,m,h,E+D,M,k.textStyle),null!=L&&(C=Math.ceil(DvtLegendRenderer._getTextWidth(a,L.getTextString())),
D-=E-C)),C=null!=L?Math.ceil(DvtLegendRenderer._getTextWidth(a,L.getTextString())):0,L&&(L.setX(I),L.setY(h.y+e/2),G&&L.alignRight()));a.addChild(H);C=C+o+s;J=Math.min(J,I);I=K==z?C:C+u;J=new DvtRect(m,J,h.y,I,e);J.setInvisibleFill();B.addChild(J);I=null!=L?L.getUntruncatedTextString():null;L=DvtLegendObjPeer.associate([J,H,L],a,g,I);"hidden"==g.categoryVisibility&&L&&H.setHollow(L.getColor());h.y+=e+t;F++;F===A&&K!==z&&(h.y=n,G?h.w-=C+u:h.x+=C+u,F=0,K++)}}else for(c=0;c<w;c++){g=b.items[c];J=G?h.x+
h.w-o:h.x;I=G?h.x+h.w-o-s:h.x+o+s;H=DvtLegendRenderer._createLegendMarker(a,J,h.y,e,o,g,c);M=g.text;L=null;if(M&&(L=DvtLegendRenderer._createLegendText(B,m,h,E,M,k.textStyle)))L.setX(I),L.setY(h.y+e/2),G&&L.alignRight();B.addChild(H);J=Math.min(J,I);I=K==z?C:C+u;J=new DvtRect(m,J,h.y,I,e);J.setInvisibleFill();B.addChild(J);I=null!=L?L.getUntruncatedTextString():null;L=DvtLegendObjPeer.associate([J,H,L],a,g,I);D&&L instanceof DvtLegendObjPeer&&D.__registerObject(L);"hidden"==g.categoryVisibility&&
L&&H.setHollow(L.getColor());h.y+=e+t;F++;F===A&&K!==z&&(h.y=n,G?h.w-=C+u:h.x+=C+u,F=0,K++)}h.y=n+h.h-v.height;return new DvtRectangle(d.x,n-v.height,d.w,h.h)}h.h=v.h}};
DvtLegendRenderer._calcSectionHeights=function(a,b,c,d){var e=a.__getOptions(),g=e.isLayout;e.isLayout=!0;for(var h=0,k=0,m=b.x,n=b.y,o=[],s=0;s<e.sections.length;s++)DvtLegendRenderer._getLegendSections(e.sections[s],o);for(var t=o.length,u=DvtLegendDefaults.getGapSize(e,e.layout.sectionGap),v=b.h-u*(t-1),w=b.w,z=[],A,s=0;s<t;s++)b.h=v,b.w=w,A=DvtLegendRenderer._renderSection(a,o[s],s,b,c,d),z[s]=A.h;arSectionSpaceNeeded=[];extraSpace=numShortSections=0;A=v/t;for(s=0;s<t;s++)v=z[s]-A,0>=v?(arSectionSpaceNeeded[s]=
0,extraSpace-=v):(z[s]=A,arSectionSpaceNeeded[s]=v,numShortSections++);for(;0<extraSpace&&0<numShortSections;){A=extraSpace/numShortSections;for(s=0;s<t;s++)0<arSectionSpaceNeeded[s]&&(v=arSectionSpaceNeeded[s]-A,0>=v?(z[s]+=arSectionSpaceNeeded[s],arSectionSpaceNeeded[s]=0,extraSpace-=A+v,numShortSections--):(z[s]+=A,extraSpace-=A,arSectionSpaceNeeded[s]=v))}b.x=m;b.y=n;b.w=w;for(s=0;s<t;s++)b.h=z[s],DvtLegendRenderer._renderSection(a,o[s],s,b,c,d),b.x=m,k=Math.max(b.w,k),h+=b.h,s!=t-1&&(b.y=b.h+
n+u,h+=u);b.w=k;b.h=h;b.x=m;b.y=n;e.isLayout=g;return z};
DvtLegendRenderer._calcSectionSpace=function(a,b,c,d,e){for(var g=a.__getOptions(),h=0,k=0;k<d.length;k++){var m=DvtLegendRenderer._getTextWidth(a,d[k].text);m>h&&(h=m)}var a=g.layout.markerSize,n=DvtLegendDefaults.getGapSize(g,g.layout.markerGap),k=DvtLegendDefaults.getGapSize(g,g.layout.rowGap),m=DvtLegendDefaults.getGapSize(g,g.layout.columnGap),h=g.isLayout?Math.ceil(a+n+h):b.w;"vertical"==g.orientation?e?(g=1,e=d.length):(e=Math.min(Math.floor((b.h+k)/(c+k)),d.length),g=Math.ceil(d.length/e)):
(g=Math.min(Math.floor(b.w/h),d.length),e=Math.ceil(((h+m)*d.length-m)/b.w),e*(c+k)-k>b.h&&(e=Math.floor(Math.ceil(b.h+k)/(c+k)),g=Math.ceil(d.length/e)));b=Math.min(h,(b.w-m*(g-1))/g);return b<a?{width:0,height:0,numCols:0,numRows:0}:{width:b,numCols:g,numRows:e}};DvtLegendRenderer._getRowHeight=function(a){var b=a.__getOptions(),a=new DvtOutputText(a.getCtx(),"Test");a.setCSSStyle(b.textStyle);a.alignMiddle();a=DvtTextUtils.guessTextDimensions(a);return Math.ceil(Math.max(a.h,b.layout.markerSize))};
DvtLegendRenderer._getTextWidth=function(a,b){var c=a.__getOptions(),d=new DvtOutputText(a.getCtx(),b);d.setCSSStyle(c.textStyle);return d.measureDimensions().w};DvtLegendRenderer._createLegendText=function(a,b,c,d,e,g){b=new DvtOutputText(b,e);b.alignMiddle();b.setCSSStyle(g);return b=DvtTextUtils.fitText(b,d,c.h,a)?b:null};
DvtLegendRenderer._createLegendMarker=function(a,b,c,d,e,g,h){var k=a.__getOptions();g.markerShape||(g.markerShape=k.markerShape);if(!g.color){var m=k.colors;g.color=m[h%m.length]}g.lineWidth||(g.lineWidth=k.lineWidth);"line"==g.type?(g.lineWidth=Math.min(g.lineWidth,DvtLegendRenderer._MAX_LINE_WIDTH),e=DvtLegendRenderer._createLine(a.getCtx(),b,c,d,g)):"lineWithMarker"==g.type?(g.lineWidth=Math.min(g.lineWidth,DvtLegendRenderer._MAX_LINE_WIDTH_WITH_MARKER),e=DvtLegendRenderer._createLine(a.getCtx(),
b,c,d,g),"hidden"!=g.categoryVisibility&&e.addChild(DvtLegendRenderer._createMarker(a,b,c,d,DvtLegendRenderer._LINE_MARKER_SIZE,g))):e=DvtLegendRenderer._createMarker(a,b,c,d,e,g);return e};
DvtLegendRenderer._createMarker=function(a,b,c,d,e,g){var h=a.getCtx(),k=a.__getOptions(),a=g.markerShape,m=g.markerColor?g.markerColor:g.color,n=g.pattern,c=c+(d-e)/2,b="lineWithMarker"==g.type?b+(DvtLegendRenderer._DEFAULT_ITEM_WIDTH-e)/2:b;n?(e=new DvtMarker(h,a,k.skin,0,0,e,e),e.setFill(new DvtPatternFill(n,m,"#FFFFFF")),e.setTranslate(b,c)):(e=new DvtMarker(h,a,k.skin,b,c,e,e),e.setSolidFill(m));g.borderColor&&e.setSolidStroke(g.borderColor,null,g._borderWidth?g._borderWidth:1);"square"==a&&
e.setPixelHinting(!0);return e};DvtLegendRenderer._createLine=function(a,b,c,d,e){c+=d/2;a=new DvtLine(a,b,c,b+DvtLegendRenderer._DEFAULT_ITEM_WIDTH,c);b=new DvtSolidStroke(e.color,1,e.lineWidth);e=e.lineStyle;"dashed"==e?b.setType(DvtStroke.convertTypeString(e),"4,2,4"):"dotted"==e&&b.setType(DvtStroke.convertTypeString(e),"2");a.setStroke(b);a.setPixelHinting(!0);return a};
DvtLegendRenderer._createHandle=function(a,b,c,d){var e=[c.x,c.y,c.x+c.w,c.y+c.h],c=c.clone(),d=a.getId()+"_"+d,b=new DvtHandle(b,"legendHandler",e,c,d);a.addChild(b);return b};DvtLegendRenderer._createScrollableLegend=function(a,b,c,d,e,g){b=new DvtScrollableLegend(b,c.x,c.y,c.w,c.h,e,d,g);b.setTouchManager(a.__getEventManager().getTouchManager());a.addChild(b);d.render();return b};