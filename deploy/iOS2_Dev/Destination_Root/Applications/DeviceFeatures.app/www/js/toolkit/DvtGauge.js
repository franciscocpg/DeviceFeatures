var DvtGauge=function(){};DvtObj.createSubclass(DvtGauge,DvtBaseComponent,"DvtGauge");DvtGauge._DEFAULT_MIN_VALUE=0;DvtGauge._DEFAULT_MAX_VALUE=100;
DvtGauge.prototype.Init=function(a,b,c,d){DvtGauge.superclass.Init.call(this,a,b,c);this.Bundle=new DvtGaugeBundle;d||(this._eventHandler=this.CreateEventHandler(),this._eventHandler.addListeners(this),this.setId("gauge1000"+Math.floor(1E9*Math.random())),this._editingOverlay=new DvtRect(a,0,0),this._editingOverlay.setInvisibleFill(),this.addChild(this._editingOverlay));this._bEditing=!1;this._oldValue=null};
DvtGauge.prototype.SetOptions=function(a){this.Options=a;DvtAgent.isEnvironmentBrowser()||(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")};
DvtGauge.prototype.render=function(a,b,c){a?this.SetOptions(a):this.Options||this.SetOptions(null);this.Options.thresholds&&(this.Options.thresholds=this.Options.thresholds.sort(DvtGauge._thresholdComparator));!isNaN(b)&&!isNaN(c)&&(this.Width=b,this.Height=c);b=this.__shapes;this.__shapes=[];c=new DvtContainer(this.getCtx());this.addChildAt(c,0);this.Render(c,this.Width,this.Height);this._setAnimation(c,null!=a,b,this.Width,this.Height);this._editingOverlay&&(!1===this.Options.readOnly&&DvtAgent.isTouchDevice()?
(this._editingOverlay.setWidth(this.Width),this._editingOverlay.setHeight(this.Height)):(this._editingOverlay.setWidth(0),this._editingOverlay.setHeight(0)));c.setAriaRole("img");c.setAriaProperty("label",this.Options.shortDesc)};DvtGauge.prototype.Render=function(){};
DvtGauge.prototype._setAnimation=function(a,b,c,d,e){this._animation&&this._animation.stop();var g=!1,h=this._bEditing?"none":this.__getOptions().animationOnDataChange,k=this._bEditing?"none":this.__getOptions().animationOnDisplay,m=this.__getOptions().animationDuration/1E3;if(k||h)d=new DvtRectangle(0,0,d,e),e=this.getCtx(),!this._container&&"none"!==k?(this._animation=DvtBlackBoxAnimationHandler.getInAnimation(e,k,a,d,m),this._animation||(this._animation=this.CreateAnimationOnDisplay(this.__shapes,
k,m))):this._container&&"none"!=h&&b&&((this._animation=DvtBlackBoxAnimationHandler.getCombinedAnimation(e,h,this._container,a,d,m))?g=!0:this._animation=this.CreateAnimationOnDataChange(c,this.__shapes,k,m)),g||this.removeChild(this._container),this._animation&&(this._animation.play(),this._animation.setOnEnd(this._onAnimationEnd,this)),g&&(this._oldContainer=this._container),this._container=a};DvtGauge.prototype.CreateAnimationOnDisplay=function(){return null};
DvtGauge.prototype.CreateAnimationOnDataChange=function(a,b,c,d){for(var c=[],e=0;e<a.length;e++){var g=b[e],h=a[e].getAnimationParams(),k=g.getAnimationParams();g.setAnimationParams(h);h=new DvtCustomAnimation(this.getCtx(),g,d);h.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,g,g.getAnimationParams,g.setAnimationParams,k);c.push(h)}return new DvtParallelPlayable(this.getCtx(),c)};DvtGauge.prototype.GetValueAt=function(){return null};
DvtGauge.prototype._onAnimationEnd=function(){this._oldContainer&&(this.removeChild(this._oldContainer),this._oldContainer=null);this._animation=null};DvtGauge.prototype.__getBundle=function(){return this.Bundle};DvtGauge.prototype.__getOptions=function(){return this.Options};DvtGauge.prototype.__getEventManager=function(){return this._eventHandler};DvtGauge.prototype.__processValueChangeStart=function(a,b){this._bEditing=!0;this._oldValue=this.Options.value;this.__processValueChangeMove(a,b)};
DvtGauge.prototype.__processValueChangeMove=function(a,b){this.Options.value=DvtGaugeRenderer.adjustForStep(this.Options,this.GetValueAt(a,b));this.render();this.__dispatchEvent(new DvtValueChangeEvent(this._oldValue,this.Options.value,!1))};DvtGauge.prototype.__processValueChangeEnd=function(a,b){this.__processValueChangeMove(a,b);this.__dispatchEvent(new DvtValueChangeEvent(this._oldValue,this.Options.value,!0));this._bEditing=!1;this._oldValue=null};DvtGauge.prototype.CreateEventHandler=function(){return new DvtGaugeEventManager(this)};
DvtGauge._thresholdComparator=function(a,b){return a.max&&b.max?a.max-b.max:a.max?-Infinity:Infinity};var DvtGaugeBundle=function(){};DvtObj.createSubclass(DvtGaugeBundle,DvtBundle,"DvtGaugeBundle");DvtGaugeBundle._defaults={EMPTY_TEXT:"No data to display"};DvtGaugeBundle.prototype.GetDefaultStringForKey=function(a){return DvtGaugeBundle._defaults[a]};DvtGaugeBundle.prototype.GetBundlePrefix=function(){return"DvtGaugeBundle"};var DvtGaugeDefaults=function(){};
DvtObj.createSubclass(DvtGaugeDefaults,DvtBaseComponentDefaults,"DvtGaugeDefaults");DvtGaugeDefaults.SKIN_ALTA={skin:DvtCSSStyle.SKIN_ALTA,color:"#393737",metricLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")}};
DvtGaugeDefaults.VERSION_1={skin:DvtCSSStyle.SKIN_SKYROS,min:0,max:100,color:"#313842",borderColor:null,visualEffects:"auto",emptyText:null,animationOnDataChange:"none",animationOnDisplay:"none",animationDuration:1E3,readOnly:"true",metricLabel:{rendered:"off",scaling:"auto",style:new DvtCSSStyle,textType:"number"},__layout:{outerGap:1,labelGap:3}};
DvtGaugeDefaults.prototype.Init=function(a){a={skyros:DvtJSONUtils.merge(a.skyros,DvtGaugeDefaults.VERSION_1),alta:DvtJSONUtils.merge(a.alta,DvtGaugeDefaults.SKIN_ALTA)};DvtGaugeDefaults.superclass.Init.call(this,a)};DvtGaugeDefaults.isSkyrosSkin=function(a){return a.__getOptions().skin==DvtCSSStyle.SKIN_SKYROS};var DvtGaugeDataUtils={};DvtObj.createSubclass(DvtGaugeDataUtils,DvtObj,"DvtGaugeDataUtils");
DvtGaugeDataUtils.hasData=function(a){a=a.__getOptions();return!a||isNaN(a.value)||null===a.value?!1:!0};DvtGaugeDataUtils.getValueThresholdIndex=function(a){var b=a.__getOptions(),a=b.value,b=b.thresholds;if(!b)return-1;for(var c=0;c<b.length;c++)if(a<=b[c].max)return c;return b.length-1};DvtGaugeDataUtils.getThreshold=function(a,b){var c=a.__getOptions().thresholds;return c&&0<=b&&b<c.length?c[b]:null};
DvtGaugeDataUtils.getReferenceObject=function(a,b){var c=a.__getOptions().referenceLines;return c&&0<=b&&b<c.length?c[b]:null};var DvtGaugeEventManager=function(a){this.Init(a.getCtx(),a.__dispatchEvent,a);this._gauge=a;this.isEditing=!1};DvtObj.createSubclass(DvtGaugeEventManager,DvtEventManager,"DvtGaugeEventManager");
DvtGaugeEventManager.prototype.OnMouseDown=function(a){!1===this._gauge.__getOptions().readOnly?(this.isEditing=!0,this.hideTooltip(),a=this.GetRelativePosition(a.pageX,a.pageY),this._gauge.__processValueChangeStart(a.x,a.y)):DvtGaugeEventManager.superclass.OnMouseDown.call(this,a)};
DvtGaugeEventManager.prototype.OnMouseUp=function(a){this.isEditing?(this.isEditing=!1,a=this.GetRelativePosition(a.pageX,a.pageY),this._gauge.__processValueChangeEnd(a.x,a.y)):DvtGaugeEventManager.superclass.OnMouseUp.call(this,a)};
DvtGaugeEventManager.prototype.OnMouseMove=function(a){if(this.isEditing){var b=this.GetRelativePosition(a.pageX,a.pageY);this._gauge.__processValueChangeMove(b.x,b.y)}(this.IsShowingTooltipWhileEditing()||!this.isEditing)&&DvtGaugeEventManager.superclass.OnMouseMove.call(this,a)};DvtGaugeEventManager.prototype.IsShowingTooltipWhileEditing=function(){return!1};
DvtGaugeEventManager.prototype.PreEventBubble=function(a){if(DvtTouchEvent.TOUCHSTART===a.type&&!1===this._gauge.__getOptions().readOnly){this.isEditing=!0;var b=this.GetRelativePosition(a.touches[0].pageX,a.touches[0].pageY);this._gauge.__processValueChangeStart(b.x,b.y);a.preventDefault()}else DvtTouchEvent.TOUCHMOVE===a.type&&this.isEditing?(b=this.GetRelativePosition(a.touches[0].pageX,a.touches[0].pageY),this._gauge.__processValueChangeMove(b.x,b.y),a.preventDefault()):DvtTouchEvent.TOUCHEND===
a.type&&this.isEditing?(this.isEditing=!1,b=this.GetRelativePosition(a.changedTouches[0].pageX,a.changedTouches[0].pageY),this._gauge.__processValueChangeEnd(b.x,b.y),a.preventDefault()):DvtGaugeEventManager.superclass.PreEventBubble.call(this,a)};DvtGaugeEventManager.prototype.GetRelativePosition=function(a,b){return this._gauge.stageToLocal(this.getCtx().pageToStageCoords(a,b))};var DvtGaugeStyleUtils={};DvtObj.createSubclass(DvtGaugeStyleUtils,DvtObj,"DvtGaugeStyleUtils");
DvtGaugeStyleUtils._THRESHOLD_COLOR_RAMP=["#ed6647","#fad55c","#68c182"];DvtGaugeStyleUtils._SKYROS_THRESHOLD_COLOR_RAMP=["#D62800","#FFCF21","#84AE31"];DvtGaugeStyleUtils.getColor=function(a){var b=a.__getOptions(),c=DvtGaugeDataUtils.getValueThresholdIndex(a),d=DvtGaugeDataUtils.getThreshold(a,c);return d&&(!(a instanceof DvtStatusMeterGauge)||a instanceof DvtStatusMeterGauge&&"onIndicator"==b.thresholdDisplay)?DvtGaugeStyleUtils.getThresholdColor(a,d,c):b.color};
DvtGaugeStyleUtils.getBorderColor=function(a){var b=a.__getOptions(),c=DvtGaugeDataUtils.getValueThresholdIndex(a);return(c=DvtGaugeDataUtils.getThreshold(a,c))&&c.borderColor&&(!(a instanceof DvtStatusMeterGauge)||a instanceof DvtStatusMeterGauge&&"onIndicator"==b.thresholdDisplay)?c.borderColor:b.borderColor};
DvtGaugeStyleUtils.getPlotAreaColor=function(a){var b=a.__getOptions(),c=DvtGaugeDataUtils.getValueThresholdIndex(a),d=DvtGaugeDataUtils.getThreshold(a,c);return d&&(!(a instanceof DvtStatusMeterGauge)||a instanceof DvtStatusMeterGauge&&"onIndicator"!=b.thresholdDisplay)?DvtGaugeStyleUtils.getThresholdColor(a,d,c):b.plotArea.color};
DvtGaugeStyleUtils.getThresholdColor=function(a,b,c){if(b.color)return b.color;if(c<DvtGaugeStyleUtils._THRESHOLD_COLOR_RAMP.length)return DvtGaugeDefaults.isSkyrosSkin(a)?DvtGaugeStyleUtils._SKYROS_THRESHOLD_COLOR_RAMP[c]:DvtGaugeStyleUtils._THRESHOLD_COLOR_RAMP[c]};var DvtGaugeRenderer={};DvtObj.createSubclass(DvtGaugeRenderer,DvtObj,"DvtGaugeRenderer");DvtGaugeRenderer._EMPTY_TEXT_GAP_WIDTH=2;DvtGaugeRenderer._EMPTY_TEXT_GAP_HEIGHT=1;
DvtGaugeRenderer.renderEmptyText=function(a,b,c){var d=a.__getOptions(),e=d.emptyText;e||(e=a.__getBundle().getTranslatedString("EMPTY_TEXT",null));var g=c.x+c.w/2,h=c.y+c.h/2,k=c.w-2*DvtGaugeRenderer._EMPTY_TEXT_GAP_WIDTH,c=c.h-2*DvtGaugeRenderer._EMPTY_TEXT_GAP_HEIGHT,g=new DvtOutputText(a.getCtx(),e,g,h);d.metricLabel.style.getStyle("font-size")||d.metricLabel.style.setStyle("font-size","13px");g.setCSSStyle(d.metricLabel.style);g.alignCenter();g.alignMiddle();DvtTextUtils.fitText(g,k,c,b)&&g.isTruncated()&&
a.__getEventManager().associate(g,new DvtSimpleObjPeer(e))};
DvtGaugeRenderer.getFormattedMetricLabel=function(a,b){var c=b.__getOptions(),d="percent"==c.metricLabel.textType;d&&(a=100*DvtGaugeRenderer.getFillPercentage(c,c.min,c.max,a));var e=null;"on"==c.metricLabel.rendered&&c.metricLabel.converter&&(e=c.metricLabel.converter);var g=null;"on"==c.metricLabel.rendered&&c.metricLabel.scaling&&(g=c.metricLabel.scaling);return DvtGaugeRenderer._formatLabelValue(a,b,e,g,c.metricLabel.autoPrecision?c.metricLabel.autoPrecision:"on",d)};
DvtGaugeRenderer.formatTickLabelValue=function(a,b){var c=b.__getOptions(),d="percent"==c.tickLabel.textType;d&&(a=100*DvtGaugeRenderer.getFillPercentage(c,c.min,c.max,a));var e=null;"on"==c.tickLabel.rendered&&c.tickLabel.converter&&(e=c.tickLabel.converter);var g=null;"on"==c.tickLabel.rendered&&c.tickLabel.scaling&&(g=c.tickLabel.scaling);return DvtGaugeRenderer._formatLabelValue(a,b,e,g,c.tickLabel.autoPrecision?c.tickLabel.autoPrecision:"on",d)};
DvtGaugeRenderer._formatLabelValue=function(a,b,c,d,e,g){var h=b.__getOptions(),b=a,b=h.min,h=h.max,k=h-b,m=1E3>k?100:1E3,n=null;isNaN(k)||(n=k/m);d=new DvtLinearScaleAxisValueFormatter(b,h,n,d,e);if(c&&c.getAsString)b=d.format(a,c);else{if(c&&c.format)return d.format(a,c);b=d.format(a)}return g?""+b+"%":b};DvtGaugeRenderer.getFillPercentage=function(a,b,c,d){a=(d-b)/(a.max-a.min);return a=Math.min(Math.max(0,a),1)};
DvtGaugeRenderer.renderLabel=function(a,b,c,d){var e=a.__getOptions();if("on"==e.metricLabel.rendered){var g=DvtGaugeRenderer.getFormattedMetricLabel(e.value,a),h=c.w,k=c.h,m=new DvtOutputText(a.getCtx(),g,c.x+c.w/2,c.y+c.h/2);m.setCSSStyle(e.metricLabel.style);var n=e.metricLabel.style.getStyle("font-size");n&&parseInt(n);if(!e.metricLabel.style.getStyle("font-size")){var n=Math.max(e.max.toString().length,e.min.toString().length,g.length),o="";"percent"==e.metricLabel.textType&&(n=Math.max(3,g.length),
o+="%");for(e=0;e<n;e++)o+="0";m.setTextString(o);n=m.getOptimalFontSize(c);m.setTextString(g);m.setFontSize(n)}m.alignMiddle();m.alignCenter();null!=d&&m.setSolidFill(d);DvtTextUtils.fitText(m,h,k,b)&&m.isTruncated()&&a.__getEventManager().associate(m,new DvtSimpleObjPeer(g))}};DvtGaugeRenderer.adjustForStep=function(a,b){var c=Number(a.step);if(c&&0<c){var d=(b-a.min)/c;return 0.5<d?(c=Math.ceil(d)*c+a.min,Math.max(Math.min(a.max,c),a.min)):a.min}return b};var DvtLedGauge=function(){};
DvtObj.createSubclass(DvtLedGauge,DvtGauge,"DvtLedGauge");DvtLedGauge.newInstance=function(a,b,c,d){var e=new DvtLedGauge;e.Init(a,b,c,d);return e};DvtLedGauge.prototype.Init=function(a,b,c,d){DvtLedGauge.superclass.Init.call(this,a,b,c,d);this.Defaults=new DvtLedGaugeDefaults};
DvtLedGauge.prototype.SetOptions=function(a){DvtLedGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a));"auto"==this.Options.animationOnDisplay&&(this.Options.animationOnDisplay="zoom");"auto"==this.Options.animationOnDataChange&&(this.Options.animationOnDataChange="alphaFade");this.Options.readOnly=!0};DvtLedGauge.prototype.Render=function(a,b,c){DvtLedGaugeRenderer.render(this,a,b,c)};var DvtLedGaugeDefaults=function(){this.Init({skyros:DvtLedGaugeDefaults.VERSION_1,alta:{}})};
DvtObj.createSubclass(DvtLedGaugeDefaults,DvtGaugeDefaults,"DvtLedGaugeDefaults");DvtLedGaugeDefaults.VERSION_1={type:"circle"};var DvtLedGaugeRenderer={};DvtObj.createSubclass(DvtLedGaugeRenderer,DvtObj,"DvtLedGaugeRenderer");DvtLedGaugeRenderer.__RECTANGLE_CORNER_RADIUS=1/6;DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_CMDS="M8,86.6Q0,86.6,3.46,78.6L46,6.93Q50,0,54,6.93L96.54,78.6Q100,86.6,92,86.6Z";DvtLedGaugeRenderer._SHAPE_TRIANGLE_CMDS="M0,86.6L50,0L100,86.6Z";
DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_INNER_CMDS="M0,86.6L50,0L100,86.6Z";DvtLedGaugeRenderer._SKYROS_SHAPE_STAR_CMDS=[-13.05,-12.94,-50,-11.13,-21.06,11.9,-30.74,47.6,0.1,27.18,31.06,47.44,21.17,11.79,50,-11.39,13.05,-13.01,-0.06,-47.59];DvtLedGaugeRenderer._SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8];DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_CMDS="M50,95L71,95Q74.414,94.414,75,91L75,60L92,60Q98.5,59.1,95,54L52,12Q50,11,48,12L5,54Q1.5,59.1,8,60L25,60L25,91Q25.586,94.414,29,95Z";
DvtLedGaugeRenderer._SHAPE_ARROW_CMDS="M75,98L75,58L97.5,58L50,11L2.5,58L25,58L25,98Z";DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_INNER_CMDS="M75,98L75,58L97.5,58L50,11L2.5,58L25,58L25,98Z";
DvtLedGaugeRenderer.render=function(a,b,c,d){if(DvtGaugeDataUtils.hasData(a)){var e=a.__getOptions(),g=e.__layout.outerGap,h=e&&(0<=e.size||1>e.size)?Math.sqrt(e.size):1,c=new DvtRectangle(g+(c-2*g)*(1-h)/2,g+(d-2*g)*(1-h)/2,(c-2*g)*h,(d-2*g)*h);DvtLedGaugeRenderer._renderShape(a,b,c);DvtLedGaugeRenderer._renderVisualEffects(a,b,c);"on"==e.metricLabel.rendered&&(null!=e.metricLabel.style.getStyle("color")?DvtGaugeRenderer.renderLabel(a,b,DvtLedGaugeRenderer._getLabelBounds(a,b,c)):(d=DvtGaugeStyleUtils.getColor(a),
d=DvtColorUtils.getContrastingTextColor(d),e.metricLabel.style.setStyle("color",d),DvtGaugeRenderer.renderLabel(a,b,DvtLedGaugeRenderer._getLabelBounds(a,b,c),d)))}else DvtGaugeRenderer.renderEmptyText(a,b,new DvtRectangle(0,0,c,d))};
DvtLedGaugeRenderer._renderShape=function(a,b,c){var d=a.getCtx(),e=a.__getOptions(),g=e.type,h=DvtGaugeStyleUtils.getColor(a),k=DvtGaugeStyleUtils.getBorderColor(a),m=c.x+c.w/2,n=c.y+c.h/2,o=Math.min(c.w,c.h)/2,s=DvtGaugeDefaults.isSkyrosSkin(a);"rectangle"==g?d=new DvtRect(d,c.x,c.y,c.w,c.h):"diamond"==g?d=new DvtPolygon(d,[m-o,n,m,n-o,m+o,n,m,n+o]):"triangle"==g?(m=s?DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_CMDS:DvtLedGaugeRenderer._SHAPE_TRIANGLE_CMDS,d=new DvtPath(d,m)):"star"==g?(m=s?DvtLedGaugeRenderer._SKYROS_SHAPE_STAR_CMDS:
DvtLedGaugeRenderer._SHAPE_STAR_CMDS,n=Math.min(c.w/100,c.h/100),m=DvtPolygonUtils.scale(m,n,n),m=DvtPolygonUtils.translate(m,c.x+c.w/2,c.y+c.h/2),d=new DvtPolygon(d,m)):"arrow"==g?(m=s?DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_CMDS:DvtLedGaugeRenderer._SHAPE_ARROW_CMDS,d=new DvtPath(d,m)):d=new DvtCircle(d,m,n,o);s||"none"==e.visualEffects?d.setSolidFill(h):(s=[DvtColorUtils.adjustHSL(h,0,-0.09,0.04),DvtColorUtils.adjustHSL(h,0,-0.04,-0.05)],m=e&&0==e.rotation%90?e.rotation:0,d.setFill(new DvtLinearGradientFill("arrow"==
g||"star"==g||"triangle"==g?360-m:270,s,[1,1],[0,1])));k&&d.setSolidStroke(k);(e=e.shortDesc)&&a.__getEventManager().associate(d,new DvtSimpleObjPeer(null,e,h));d=DvtLedGaugeRenderer._scaleAndRotate(a,b,d,c);b.addChild(d)};
DvtLedGaugeRenderer._scaleAndRotate=function(a,b,c,d){var e=a.__getOptions(),g=e.type;if("triangle"==g||"arrow"==g){var h=new DvtContainer(a.getCtx()),a=new DvtContainer(a.getCtx());b.addChild(h);h.addChild(a);a.addChild(c);e=e&&0==e.rotation%90?e.rotation:0;e="star"==g?0:e;g=new DvtMatrix;g.rotate(Math.PI*(90-e)/180);c.setMatrix(g);g=a.getDimensions();g=Math.min(d.w/g.w,d.h/g.h);e=new DvtMatrix;e.scale(g,g);a.setMatrix(e);e=h.getDimensions();a=d.x+d.w/2-(e.x+e.w/2);d=d.y+d.h/2-(e.y+e.h/2);e=new DvtMatrix;
e.translate(a,d);h.setMatrix(e);b.removeChild(h);if(b=c.getStroke())b=b.clone(),b.setWidth(b.getWidth()/g),c.setStroke(b);return h}return c};
DvtLedGaugeRenderer._renderVisualEffects=function(a,b,c){var d=a.__getOptions(),e=d.type;"none"!=d.visualEffects&&DvtGaugeDefaults.isSkyrosSkin(a)&&("rectangle"==e?DvtLedGaugeRenderer._renderOverlayRectangle(a,b,c):"diamond"==e?DvtLedGaugeRenderer._renderOverlayDiamond(a,b,c):"triangle"==e?DvtLedGaugeRenderer._renderOverlayTriangle(a,b,c):"star"==e?DvtLedGaugeRenderer._renderOverlayStar(a,b,c):"arrow"==e?DvtLedGaugeRenderer._renderOverlayArrow(a,b,c):DvtLedGaugeRenderer._renderOverlayCircle(a,b,c))};
DvtLedGaugeRenderer._renderOverlayRectangle=function(a,b,c){var d=0.05*c.w,e=0.05*c.h,c=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),a=new DvtRect(a.getCtx(),c.x,c.y,c.w,c.h);a.setMouseEnabled(!1);b.addChild(a);b=new DvtLinearGradientFill(270,"#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF".split(","),[0.75,0.5,0.15,0,0.2,0.4,0.2],[0,0.05,0.4,0.6,0.8,0.9,1]);a.setFill(b)};
DvtLedGaugeRenderer._renderOverlayDiamond=function(a,b,c){var d=0.05*c.w,e=0.05*c.h,e=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),c=e.x+e.w/2,d=e.y+e.h/2,e=Math.min(e.w,e.h)/2,a=new DvtPolygon(a.getCtx(),[c-e,d,c,d-e,c+e,d,c,d+e]);a.setMouseEnabled(!1);b.addChild(a);b=new DvtLinearGradientFill(270,"#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF".split(","),[0.75,0.5,0.15,0,0.2,0.4,0.2],[0,0.05,0.4,0.6,0.8,0.9,1]);a.setFill(b)};
DvtLedGaugeRenderer._renderOverlayTriangle=function(a,b,c){var d=0.05*c.w,e=0.05*c.h,c=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),d=new DvtPath(a.getCtx(),DvtLedGaugeRenderer._SKYROS_SHAPE_TRIANGLE_INNER_CMDS),e=a.__getOptions(),e=new DvtLinearGradientFill(360-(e&&0==e.rotation%90?e.rotation:0),["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0.3,0.55,0,0.25,0.1],[0,0.05,0.4,0.9,1]);d.setFill(e);d=DvtLedGaugeRenderer._scaleAndRotate(a,b,d,c);d.setMouseEnabled(!1);b.addChild(d)};
DvtLedGaugeRenderer._renderOverlayArrow=function(a,b,c){var d=0.05*c.w,e=0.05*c.h,c=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),d=new DvtPath(a.getCtx(),DvtLedGaugeRenderer._SKYROS_SHAPE_ARROW_INNER_CMDS),e=a.__getOptions(),e=new DvtLinearGradientFill(360-(e&&0==e.rotation%90?e.rotation:0),["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0.3,0.55,0,0.25,0.1],[0,0.05,0.4,0.9,1]);d.setFill(e);d=DvtLedGaugeRenderer._scaleAndRotate(a,b,d,c);d.setMouseEnabled(!1);b.addChild(d)};
DvtLedGaugeRenderer._renderOverlayStar=function(a,b,c){var d=0.05*c.w,e=0.05*c.h,c=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),d=new DvtPath(a.getCtx(),DvtLedGaugeRenderer._SKYROS_SHAPE_STAR_CMDS),e=a.__getOptions(),e=360-(e&&0==e.rotation%90?e.rotation:0),g=DvtGaugeStyleUtils.getColor(a),g=[DvtColorUtils.getDarker(g,0.9),g,DvtColorUtils.getBrighter(g,0.7)],e=new DvtLinearGradientFill(e,g,[1,1,1],[0.1,0.4,0.8]);d.setFill(e);d=DvtLedGaugeRenderer._scaleAndRotate(a,b,d,c);d.setMouseEnabled(!1);b.addChild(d)};
DvtLedGaugeRenderer._renderOverlayCircle=function(a,b,c){var d=0.05*c.w,e=0.05*c.h,c=new DvtRectangle(c.x+d,c.y+e,c.w-2*d,c.h-2*e),d=c.x+c.w/2,e=c.y+c.h/2,g=Math.min(c.w,c.h)/2,h=new DvtCircle(a.getCtx(),d,e,g);h.setMouseEnabled(!1);b.addChild(h);var k=new DvtRadialGradientFill(["#FFFFFF","#FFFFFF","#FFFFFF"],[0,0.25,0.5],[0.15,0.7,0.95],d,e-0.6*g,1.5*g,[c.x,c.y,c.w,c.h]);h.setFill(k);h=0.6*g;g*=0.4;e-=0.3*g;a=new DvtOval(a.getCtx(),d,e-g,h,g);a.setMouseEnabled(!1);b.addChild(a);b=new DvtRadialGradientFill(["#FFFFFF",
"#FFFFFF","#FFFFFF"],[0,0.2,0.5],[0.6,0.8,1],d,e,h,[c.x,c.y,c.w,c.h]);a.setFill(b)};
DvtLedGaugeRenderer._getLabelBounds=function(a,b,c){var b=a.__getOptions(),a=b.type,b=0==b.rotation%90?b.rotation:0,d=Math.min(c.w,c.h),e=c.x+c.w/2-d/2,c=c.y+c.h/2-d/2,g=d,h=d;"triangle"==a?0==b?(e+=0.05*d,c+=0.2*d,g-=0.3*d,h-=0.4*d):90==b?(e+=0.2*d,c+=0.25*d,g-=0.4*d,h-=0.3*d):180==b?(e+=0.25*d,c+=0.2*d,g-=0.3*d,h-=0.4*d):270==b&&(e+=0.2*d,c+=0.05*d,g-=0.4*d,h-=0.3*d):"arrow"==a?0==b?(e+=0.05*d,c+=0.2*d,g-=0.28*d,h-=0.4*d):90==b?(e+=0.2*d,c+=0.2*d,g-=0.4*d,h-=0.4*d):180==b?(e+=0.23*d,c+=0.2*d,g-=
0.28*d,h-=0.4*d):270==b&&(e+=0.2*d,c+=0.2*d,g-=0.4*d,h-=0.4*d):"star"==a?(e+=0.25*d,c+=0.25*d,g-=0.5*d,h-=0.4*d):"diamond"==a?(e+=0.15*d,c+=0.15*d,g-=0.3*d,h-=0.3*d):"rectangle"==a?(e+=0.1*d,c+=0.1*d,g-=0.2*d,h-=0.2*d):"circle"==a&&(e+=0.15*d,c+=0.15*d,g-=0.3*d,h-=0.3*d);return new DvtRectangle(e,c,g,h)};var DvtStatusMeterGauge=function(){};DvtObj.createSubclass(DvtStatusMeterGauge,DvtGauge,"DvtStatusMeterGauge");
DvtStatusMeterGauge.newInstance=function(a,b,c){var d=new DvtStatusMeterGauge;d.Init(a,b,c);return d};DvtStatusMeterGauge.prototype.Init=function(a,b,c){DvtStatusMeterGauge.superclass.Init.call(this,a,b,c);this.Defaults=new DvtStatusMeterGaugeDefaults;this.__axisInfo=null};DvtStatusMeterGauge.prototype.SetOptions=function(a){DvtStatusMeterGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a))};
DvtStatusMeterGauge.prototype.Render=function(a,b,c){DvtStatusMeterGaugeRenderer.render(this,a,b,c)};
DvtStatusMeterGauge.prototype.CreateAnimationOnDisplay=function(a,b,c){for(var b=[],d=0;d<a.length;d++){var e=a[d],g=e.getAnimationParams();"horizontal"==this.Options.orientation?e.setAnimationParams([g[0],g[0],g[2],g[3]]):e.setAnimationParams([g[0],g[1],0,g[3],g[4]]);var h=new DvtCustomAnimation(this.getCtx(),e,c);h.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,g);h.getAnimator().setEasing(function(a){return DvtEasing.backOut(a,0.7)});b.push(h)}return new DvtParallelPlayable(this.getCtx(),
b)};DvtStatusMeterGauge.prototype.GetValueAt=function(a,b){if("horizontal"==this.Options.orientation)return this.__axisInfo.getBoundedValueAt(a);if("circular"==this.Options.orientation){var c=Math.atan2(b-this.Height/2,a-this.Width/2),c=DvtMath.radsToDegrees(c)-270,c=(c+720)%360;0<=c&&360>=c||(c=360<c?360-c<c-360?0:360:0-c<c?0:360);if(DvtAgent.isRightToLeft(this.getCtx()))for(c=360-c;0>c;)c+=360;var d=this.Options.min;return c/360*(this.Options.max-d)+d}};
var DvtStatusMeterGaugeDefaults=function(){this.Init({skyros:DvtStatusMeterGaugeDefaults.VERSION_1,alta:DvtStatusMeterGaugeDefaults.SKIN_ALTA})};DvtObj.createSubclass(DvtStatusMeterGaugeDefaults,DvtGaugeDefaults,"DvtStatusMeterGaugeDefaults");DvtStatusMeterGaugeDefaults.SKIN_ALTA={color:"#393737",metricLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},plotArea:{color:"#f5f6f7",borderColor:"#D6DFE6"}};
DvtStatusMeterGaugeDefaults.VERSION_1={color:"#313842",indicatorSize:1,metricLabel:{style:new DvtCSSStyle("color: #333333;")},orientation:"horizontal",plotArea:{color:"#AAAAAA",borderColor:"#C6C6C6",rendered:"auto"},thresholdDisplay:"onIndicator"};var DvtStatusMeterGaugeRenderer={};DvtObj.createSubclass(DvtStatusMeterGaugeRenderer,DvtObj,"DvtStatusMeterGaugeRenderer");
DvtStatusMeterGaugeRenderer.render=function(a,b,c,d){if(DvtGaugeDataUtils.hasData(a)){var e=a.__getOptions(),g=e.__layout.outerGap,c=new DvtRectangle(g,g,c-2*g,d-2*g);"horizontal"==e.orientation?(DvtStatusMeterGaugeRenderer._renderLabel(a,b,c),DvtStatusMeterGaugeRenderer._renderShape(a,b,c)):"circular"==e.orientation&&(e=Math.min(c.w,c.h),e=new DvtRectangle(c.x+c.w/2-0.325*e,c.y+c.h/2-0.25*e,0.65*e,0.5*e),DvtGaugeRenderer.renderLabel(a,b,e),DvtStatusMeterGaugeRenderer._renderCircularShape(a,b,c))}else DvtGaugeRenderer.renderEmptyText(a,
b,new DvtRectangle(0,0,c,d))};
DvtStatusMeterGaugeRenderer._renderCircularShape=function(a,b,c){var d=a.__getOptions(),e=0,g=d.value,h=d.thresholds,k=Math.min(c.w,c.h),m=0.3125*k,n=0.4625*k,o=1.5*Math.PI,e=2*e*Math.PI;if(h&&"off"!=d.plotArea.rendered&&"all"==d.thresholdDisplay)for(var s=0;s<h.length;s++){var t=DvtGaugeStyleUtils.getThresholdColor(a,h[s],s),e=h[s].max?h[s].max:d.max,u=0==s?d.min:h[s-1].max,o=1.5*Math.PI+2*Math.PI*DvtGaugeRenderer.getFillPercentage(d,d.min,e,u),e=DvtGaugeRenderer.getFillPercentage(d,u,e,e),e=2*e*
Math.PI;DvtStatusMeterGaugeRenderer._drawCircularArc(a,b,c,o,e,m,n,t,!1)}else"off"!=d.plotArea.rendered&&!("auto"==d.plotArea.rendered&&"onIndicator"==d.thresholdDisplay)&&"all"!=d.thresholdDisplay&&(t=DvtGaugeStyleUtils.getPlotAreaColor(a),o=1.5*Math.PI,e=2*Math.PI,DvtStatusMeterGaugeRenderer._drawCircularArc(a,b,c,o,e,m,n,t,!0));if((h=d.indicatorSize)&&1!=h)k*=0.075*(1-h),m+=k,n-=k;o=1.5*Math.PI;e=DvtGaugeRenderer.getFillPercentage(d,d.min,d.max,g);e=2*e*Math.PI;DvtStatusMeterGaugeRenderer._drawCircularArc(a,
b,c,o,e,m,n,DvtGaugeStyleUtils.getColor(a),!1);if(m=d.referenceLines)for(n=0;n<m.length;n++)k=m[n].color?m[n].color:"black",h=m[n].lineWidth?m[n].lineWidth:2,o=m[n].lineStyle,g=m[n].value,angle=1.5*Math.PI+2*DvtGaugeRenderer.getFillPercentage(d,d.min,d.max,g)*Math.PI,DvtStatusMeterGaugeRenderer._drawCircularReferenceLine(a,b,c,angle,k,h,o);c=new DvtRect(a.getCtx(),c.x,c.y,c.w,c.h);c.setInvisibleFill();b.addChild(c);((b=d.shortDesc)||!1===a.__getOptions().readOnly)&&a.__getEventManager().associate(c,
new DvtSimpleObjPeer(null,b,DvtGaugeStyleUtils.getColor(a)))};
DvtStatusMeterGaugeRenderer._renderShape=function(a,b,c){var d=a.__getOptions(),e=DvtAgent.isRightToLeft(a.getCtx()),g={layout:{}};g.layout.gapRatio=0;g.timeAxisType="disabled";g.position="bottom";g.min=d.min;g.max=d.max;g.dataMin=d.min;g.dataMax=d.max;g.tickLabel={rendered:"off"};g=DvtAxisInfo.newInstance(a.getCtx(),g,c);a.__axisInfo=g;var h=0;0>=d.max?h=d.max:0<=d.min&&(h=d.min);var k=g.getCoordAt(h);"off"!=d.plotArea.rendered&&!("auto"==d.plotArea.rendered&&"onIndicator"==d.thresholdDisplay)&&
(k=g.getUnboundedCoordAt(d.min));var m=g.getUnboundedCoordAt(d.value),m=Math.max(c.x,Math.min(c.x+c.w,m)),n=0,n=0>d.min&&0>d.value?g.getUnboundedCoordAt(d.min):g.getUnboundedCoordAt(d.max),n=e?Math.min(c.x,Math.max(c.x+c.w,n)):Math.max(c.x,Math.max(c.x+c.w,n)),o=c.y,s=c.y+c.h,t=c.y+(1-d.indicatorSize)/2*c.h,u=c.y+c.h*(1-(1-d.indicatorSize)/2),v=!0;m==k&&(v=!1);var w=DvtGaugeStyleUtils.getBorderColor(a),z=d.plotArea.borderColor,A=d.thresholds;if(A&&"off"!=d.plotArea.rendered&&"all"==d.thresholdDisplay)for(h=
A.length-1;0<=h;h--){var C=h,D=DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),k,n,o,s,!0),B=new DvtClipPath("pacp"+a.getId());h==A.length-1?e?B.addRect(g.getUnboundedCoordAt(d.max),0,c.w+2,s-o+2,0,0):B.addRect(0,0,c.w+2,s-o+2,0,0):e?B.addRect(0,0,1*(d.max-(null==A[A.length-2-C].max?100:A[A.length-2-C].max))/Math.abs(d.min-d.max)*c.w,s-o+2,0,0):B.addRect(0,0,1*Math.abs(A[C].max-d.min)/Math.abs(d.min-d.max)*c.w,s-o+2,0,0);D.setClipPath(B);e&&(C=A.length-1-h);D.setSolidFill(DvtGaugeStyleUtils.getThresholdColor(a,
A[C],C));D.setSolidStroke(z);DvtStatusMeterGaugeRenderer._renderPlotAreaVisualEffects(a,b,D,DvtGaugeStyleUtils.getThresholdColor(a,A[C],C))}else"off"!=d.plotArea.rendered&&!("auto"==d.plotArea.rendered&&"onIndicator"==d.thresholdDisplay)&&"all"!=d.thresholdDisplay&&(D=DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),g.getUnboundedCoordAt(d.min),g.getUnboundedCoordAt(d.max),o,s,!0),h=DvtGaugeStyleUtils.getPlotAreaColor(a),D.setSolidFill(h),D.setSolidStroke(z),DvtStatusMeterGaugeRenderer._renderPlotAreaVisualEffects(a,
b,D,h));h=DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),e?k-0.5:k+0.5,e?m+0.5:m-0.5,t+0.5,u-0.5,!0);a.__shapes.push(h);e=DvtGaugeStyleUtils.getColor(a);!DvtGaugeDefaults.isSkyrosSkin(a)&&"none"!=d.visualEffects?(z=[DvtColorUtils.adjustHSL(e,0,-0.09,0.04),DvtColorUtils.adjustHSL(e,0,-0.04,-0.05)],z=new DvtLinearGradientFill(270,z,[1,1],[0,1]),h.setFill(z)):h.setSolidFill(e);w&&h.setSolidStroke(w);v&&b.addChild(h);h=DvtStatusMeterGaugeRenderer._createShape(a,a.getCtx(),k,m,t,u,!0);DvtStatusMeterGaugeRenderer._renderVisualEffects(a,
b,h,v);if(v=d.referenceLines)for(h=0;h<v.length;h++)e=v[h].color?v[h].color:"white",t=d.indicatorSize,k=((1-t)/2+t)*c.h,m=g.getUnboundedCoordAt(v[h].value),t=c.y+(1-t)/4*c.h,k=new DvtLine(a.getCtx(),m,t,m,t+k),m=new DvtSolidStroke(e,1,v[h].lineWidth?v[h].lineWidth:2),v[h].lineStyle&&m.setStyle(DvtStroke.convertTypeString(v[h].lineStyle)),k.setStroke(m),m=DvtColorUtils.makeRGBA(0,0,0,0.8),m=new DvtShadow(m,0.75,3,3,50,1,2,!1,!1,!1),b.addChild(k),k.addDrawEffect(m);c=new DvtRect(a.getCtx(),c.x,c.y,
c.w,c.h);c.setInvisibleFill();b.addChild(c);((b=d.shortDesc)||!1===d.readOnly)&&a.__getEventManager().associate(c,new DvtSimpleObjPeer(null,b,e))};DvtStatusMeterGaugeRenderer._createShape=function(a,b,c,d,e,g,h){return new DvtStatusMeterGaugeIndicator(a,b,c,d,e,g,h)};
DvtStatusMeterGaugeRenderer._renderVisualEffects=function(a,b,c,d){if("none"!=a.__getOptions().visualEffects&&DvtGaugeDefaults.isSkyrosSkin(a)){var e=new DvtLinearGradientFill(270,["#FFFFFF","#FFFFFF","#FFFFFF"],[0.5,0.3125,0],[0,0.3,1]);c.setFill(e);a.__shapes.push(c);c.setMouseEnabled(!1);d&&b.addChild(c)}};
DvtStatusMeterGaugeRenderer._renderPlotAreaVisualEffects=function(a,b,c,d){var e=a.__getOptions();c.setMouseEnabled(!1);b.addChild(c);"none"!=e.visualEffects&&(DvtGaugeDefaults.isSkyrosSkin(a)?(a=[DvtColorUtils.getDarker(d,0.9),d,DvtColorUtils.getBrighter(d,0.7)],a=new DvtLinearGradientFill(270,a,[1,1,1],[0,0.04,0.73])):(a=[DvtColorUtils.adjustHSL(d,0,-0.04,-0.05),DvtColorUtils.adjustHSL(d,0,-0.09,0.04)],a=new DvtLinearGradientFill(270,a,[1,1],[0,1])),c.setFill(a))};
DvtStatusMeterGaugeRenderer._renderLabel=function(a,b,c){var d=a.__getOptions(),e=DvtAgent.isRightToLeft(a.getCtx());d.metricLabel.style&&!d.metricLabel.style.getStyle("font-size")&&d.metricLabel.style.setStyle("font-size","13px");if("on"==d.metricLabel.rendered){var g=new DvtOutputText(a.getCtx(),"");g.setCSSStyle(d.metricLabel.style);if(!(DvtTextUtils.guessTextDimensions(g).h>c.h)){var h=d.__layout.labelGap,k;if(0<d.max||"off"!=d.plotArea.rendered||!("auto"==d.plotArea.rendered&&"onIndicator"==
d.thresholdDisplay)){k=DvtGaugeRenderer.getFormattedMetricLabel(0<d.max?d.max:d.min,a);k=new DvtOutputText(a.getCtx(),k);k.setCSSStyle(d.metricLabel.style);var m=k.measureDimensions();k=e?c.x+m.w:c.x+c.w;labelSpace=m.w;e&&(c.x+=m.w+h);c.w-=m.w+h}if(0>d.min&&"on"!=d.plotArea.rendered&&!("auto"==d.plotArea.rendered&&"onIndicator"==d.thresholdDisplay)){m=DvtGaugeRenderer.getFormattedMetricLabel(d.min,a);m=new DvtOutputText(a.getCtx(),m);m.setCSSStyle(d.metricLabel.style);m=m.measureDimensions();if(0>
d.value||0>=d.max)k=e?c.x+c.w:c.x+m.w,labelSpace=m.w;e||(c.x+=m.w+h);c.w-=m.w+h}d=DvtGaugeRenderer.getFormattedMetricLabel(d.value,a);g.setTextString(d);g.setX(k);g.setY(c.y+c.h/2);g.alignMiddle();g.alignRight();DvtTextUtils.fitText(g,labelSpace,c.h,b)&&g.isTruncated()&&a.__getEventManager().associate(g,new DvtSimpleObjPeer(d))}}};DvtStatusMeterGaugeRenderer._calcPointOnArc=function(a,b,c){var d=Math.cos(c)*b+a.w/2+a.x,a=Math.sin(c)*b+a.h/2+a.y;return{x:d,y:a}};
DvtStatusMeterGaugeRenderer._drawCircularArc=function(a,b,c,d,e,g,h,k,m){var n=a.getCtx();DvtAgent.isRightToLeft(a.getCtx())&&(d=Math.PI-d-e,d=0<d?d:d+2*Math.PI);c=new DvtStatusMeterGaugeCircularIndicator(n,c,d,e,g,h);a.__shapes.push(c);c.setSolidFill(k);(a=DvtGaugeStyleUtils.getBorderColor(a))&&!m&&c.setSolidStroke(a);b.addChild(c)};
DvtStatusMeterGaugeRenderer._drawCircularReferenceLine=function(a,b,c,d,e,g,h){var k=a.getCtx(),m=Math.min(c.w,c.h),n=0.275*m,m=0.5*m;DvtAgent.isRightToLeft(a.getCtx())&&(d=Math.PI-d,d=0<d?d:d+2*Math.PI);p1=DvtStatusMeterGaugeRenderer._calcPointOnArc(c,n,d);p2=DvtStatusMeterGaugeRenderer._calcPointOnArc(c,m,d);a=new DvtLine(k,p1.x,p1.y,p2.x,p2.y);e=new DvtSolidStroke(e,1,g);h&&e.setStyle(DvtStroke.convertTypeString(h));a.setStroke(e);b.addChild(a)};
DvtStatusMeterGaugeIndicator=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtObj.createSubclass(DvtStatusMeterGaugeIndicator,DvtRect,"DvtStatusMeterGaugeIndicator");DvtStatusMeterGaugeIndicator._MIN_CORNER_RADIUS=2.5;DvtStatusMeterGaugeIndicator.prototype.Init=function(a,b,c,d,e,g,h){DvtStatusMeterGaugeIndicator.superclass.Init.call(this,b);this._gauge=a;this._roundCorners=h;this.setCoords(c,d,e,g)};
DvtStatusMeterGaugeIndicator.prototype.setCoords=function(a,b,c,d){this._baselineCoord=a;this._endCoord=b;this._y1=c;this._y2=d;var e=Math.min(a,b),a=Math.abs(a-b),d=d-c;this.setRect(e,c,a,d);this._roundCorners&&(c=d*(DvtGaugeDefaults.isSkyrosSkin(this._gauge)?0.25:0.15),c>=DvtStatusMeterGaugeIndicator._MIN_CORNER_RADIUS&&this.setCornerRadius(c,c))};DvtStatusMeterGaugeIndicator.prototype.getAnimationParams=function(){return[this._baselineCoord,this._endCoord,this._y1,this._y2]};
DvtStatusMeterGaugeIndicator.prototype.setAnimationParams=function(a){a&&4==a.length&&this.setCoords(a[0],a[1],a[2],a[3])};var DvtStatusMeterGaugeCircularIndicator=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtStatusMeterGaugeCircularIndicator,DvtPath,"DvtStatusMeterGaugeCircularIndicator");DvtStatusMeterGaugeCircularIndicator.prototype.Init=function(a,b,c,d,e,g){DvtStatusMeterGaugeCircularIndicator.superclass.Init.call(this,a);this.setPath(b,c,d,e,g)};
DvtStatusMeterGaugeCircularIndicator.prototype.setPath=function(a,b,c,d,e){var g,h,k;a&&a instanceof DvtRectangle?this._bounds=a:a=this._bounds;this._startAngle=b;this._angleExtent=c;this._innerRadius=d;this._outerRadius=e;c<2*Math.PI?(g=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,e,b),h=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,e,b+c),k=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b+c),a=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b),e=DvtPathUtils.moveTo(g.x,g.y)+DvtPathUtils.arcTo(e,
e,c,1,h.x,h.y)+DvtPathUtils.lineTo(k.x,k.y)+DvtPathUtils.arcTo(d,d,c,0,a.x,a.y)+DvtPathUtils.closePath()):(g=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,e,b),h=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,e,b+c/2),k=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b),a=DvtStatusMeterGaugeRenderer._calcPointOnArc(a,d,b+c/2),e=DvtPathUtils.moveTo(g.x,g.y)+DvtPathUtils.arcTo(e,e,c/2,1,h.x,h.y)+DvtPathUtils.arcTo(e,e,c/2,1,g.x,g.y),0<d&&(e+=DvtPathUtils.moveTo(a.x,a.y)+DvtPathUtils.arcTo(d,d,c/2,0,
k.x,k.y)+DvtPathUtils.arcTo(d,d,c/2,0,a.x,a.y)),e+=DvtPathUtils.closePath());this.setCmds(e)};DvtStatusMeterGaugeCircularIndicator.prototype.getAnimationParams=function(){return[this._bounds,this._startAngle,this._angleExtent,this._innerRadius,this._outerRadius]};DvtStatusMeterGaugeCircularIndicator.prototype.setAnimationParams=function(a){a&&5==a.length&&this.setPath(a[0],a[1],a[2],a[3],a[4])};var DvtDialGauge=function(){};DvtObj.createSubclass(DvtDialGauge,DvtGauge,"DvtDialGauge");
DvtDialGauge.newInstance=function(a,b,c){var d=new DvtDialGauge;d.Init(a,b,c);return d};DvtDialGauge.prototype.Init=function(a,b,c){DvtDialGauge.superclass.Init.call(this,a,b,c);this.Defaults=new DvtDialGaugeDefaults;this.__anchorPt=null};DvtDialGauge.prototype.SetOptions=function(a){DvtDialGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a))};DvtDialGauge.prototype.Render=function(a,b,c){DvtDialGaugeRenderer.render(this,a,b,c)};
DvtDialGauge.prototype.CreateAnimationOnDisplay=function(a,b,c){for(var b=[],d=0;d<a.length;d++){var e=a[d],g=e.getAnimationParams(),h=DvtDialGaugeRenderer.__getStartAngle(this);e.setAngle(h);h=new DvtCustomAnimation(this.getCtx(),e,c);h.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,g);h.getAnimator().setEasing(function(a){return DvtEasing.backOut(a,0.7)});b.push(h)}return new DvtParallelPlayable(this.getCtx(),b)};
DvtDialGauge.prototype.GetValueAt=function(a,b){var c=Math.atan2(b-this.__anchorPt.y,a-this.__anchorPt.x),d=DvtMath.radsToDegrees(c);0>=d&&(d+=360);var c=DvtAgent.isRightToLeft(this.getCtx()),e=this.__getOptions().background,g=c?180+e.startAngle:360-e.startAngle,e=e.angleExtent,h=g+e;if(c){h=g;for(g-=e;0>g;)g+=360,h+=360}d+360>=g&&d+360<=h?d+=360:d>=g&&d<=h||(d=d>h?g+360-d<d-h?g:h:g-d<d+360-h?g:h);d=(d-g)/e;c&&(d=1-d);c=this.Options.min;return d*(this.Options.max-c)+c};
var DvtDialGaugeDefaults=function(){this.Init({skyros:DvtDialGaugeDefaults.VERSION_1,alta:{}})};DvtObj.createSubclass(DvtDialGaugeDefaults,DvtGaugeDefaults,"DvtDialGaugeDefaults");DvtDialGaugeDefaults.VERSION_1={background:{startAngle:180,angleExtent:180,indicatorLength:0.7},metricLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},tickLabel:{scaling:"auto",style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")}};
var DvtDialGaugeRenderer={};DvtObj.createSubclass(DvtDialGaugeRenderer,DvtObj,"DvtDialGaugeRenderer");DvtDialGaugeRenderer.render=function(a,b,c,d){DvtGaugeDataUtils.hasData(a)?(c=new DvtRectangle(0,0,c,d),DvtDialGaugeRenderer._renderShape(a,b,c),DvtDialGaugeRenderer._renderLabel(a,b,c)):DvtGaugeRenderer.renderEmptyText(a,b,new DvtRectangle(0,0,c,d))};
DvtDialGaugeRenderer._renderShape=function(a,b,c){var d=a.__getOptions(),e=DvtDialGaugeRenderer._createBackground(a,c);b.addChild(e);d.background.majorTickCount&&d.background.radius&&DvtDialGaugeRenderer._renderTickLabels(a,b,c);var g=DvtDialGaugeRenderer._createIndicator(a,c),h=new DvtContainer(a.getCtx()),k=new DvtDialGaugeIndicator(a.getCtx());b.addChild(h);h.addChild(k);k.addChild(g);var m=g.getDimensions(),n=DvtDialGaugeRenderer._getRotation(a,d.value),e=DvtDialGaugeRenderer._getBackgroundAnchorPoint(a,
c),o=DvtDialGaugeRenderer._getIndicatorAnchorPoint(a,c,m),c=DvtDialGaugeRenderer._getIndicatorScaleFactor(a,c,m),m=new DvtMatrix;m.translate(-o.x,-o.y);m.scale(c,c);g.setMatrix(m);k.setAngle(n);m=new DvtMatrix;m.translate(e.x,e.y);h.setMatrix(m);a.__shapes.push(k);((d=d.shortDesc)||!1===a.__getOptions().readOnly)&&a.__getEventManager().associate(b,new DvtSimpleObjPeer(null,d));a.__anchorPt=e};
DvtDialGaugeRenderer._createBackground=function(a,b){var c=a.__getOptions().background,d=DvtAgent.isRightToLeft(a.getCtx()),e=DvtAgent.isTouchDevice(),g=e?2*b.w:b.w,h=e?2*b.h:b.h,k=c.images;if(k&&0<k.length){var m,n,o,e=[];for(m=0;m<k.length;m++){var s="rtl"==k[m].dir;d&&s?e.push(k[m]):!d&&!s&&e.push(k[m])}k=0<e.length?e:k;for(m=0;m<k.length;m++){var t=k[m],s=t.src,e=t.width,t=t.height,u=s&&-1<s.search(".svg");0==m&&(n=e,o=t);if(u||e>=g&&t>=h||m==k.length-1){var g=new DvtImage(a.getCtx(),s,0,0,e,
t),v=new DvtMatrix,h=Math.min(b.w/e,b.h/t),k=(b.w-h*e)/2;m=(b.h-h*t)/2;v.scale(h,h);v.translate(k,m);g.setMatrix(v);u&&DvtAgent.isPlatformWebkit()&&(s=DvtImageLoader.loadImage(a.getCtx(),s,DvtObj.createCallback(g,g.__setDimensions)))&&g.__setDimensions(s);b.x+=k;b.y+=m;b.w=h*e;b.h=h*t;!isNaN(c.anchorX)&&!isNaN(c.anchorY)&&(c._anchorX=d?b.x+b.w-b.w*c.anchorX/n:b.x+b.w*c.anchorX/n,c._anchorY=b.y+b.h*c.anchorY/o);c.metricLabelBounds&&(e={},e.width=b.w*c.metricLabelBounds.width/n,e.height=b.h*c.metricLabelBounds.height/
o,e.y=b.y+b.h*c.metricLabelBounds.y/o,e.x=d?b.x+b.w-b.w*c.metricLabelBounds.x/n-e.width:b.x+b.w*c.metricLabelBounds.x/n,c._metricLabelBounds=e);d=Math.min(b.w/n,b.h/o);c._radius=c.radius*d;c._tickLabelHeight=c.tickLabelHeight*b.h/o;c._tickLabelWidth=c.tickLabelWidth*b.w/n;return g}}}return null};
DvtDialGaugeRenderer._createIndicator=function(a,b){var c=a.__getOptions().indicator,d=DvtDialGaugeRenderer._getIndicatorLength(a,b),e=DvtAgent.isTouchDevice()?2*d:d,g,h,k=c.images;if(k&&0<k.length)for(var m=0;m<k.length;m++){var n=k[m],d=n.src,o=n.width,n=n.height,s=d&&-1<d.search(".svg");0==m&&(g=o,h=n);if(s||n>=e||m==k.length-1)return e=new DvtImage(a.getCtx(),d,0,0,o,n),s&&DvtAgent.isPlatformWebkit()&&DvtImageLoader.loadImage(a.getCtx(),d,DvtObj.createCallback(e,e.__setDimensions))&&(e.setWidth(o),
e.setHeight(n)),!isNaN(c.anchorX)&&!isNaN(c.anchorY)&&(c._anchorX=c.anchorX*o/g,c._anchorY=c.anchorY*n/h),e}return null};DvtDialGaugeRenderer.__getStartAngle=function(a){var b=a.__getOptions().background,a=DvtAgent.isRightToLeft(a.getCtx())?180-b.startAngle:b.startAngle;return Math.PI*(90-a)/180};
DvtDialGaugeRenderer._getRotation=function(a,b){var c=a.__getOptions(),d=c.background,e=c.min,c=c.max,b=Math.max(Math.min(b,c),e),e=(b-e)/(c-e),c=DvtAgent.isRightToLeft(a.getCtx());return Math.PI*(90-((c?180-d.startAngle:d.startAngle)-e*(c?-d.angleExtent:d.angleExtent)))/180};DvtDialGaugeRenderer._getBackgroundAnchorPoint=function(a,b){var c=a.__getOptions().background,d=c._anchorX,c=c._anchorY;return!isNaN(d)&&!isNaN(c)?new DvtPoint(d,c):new DvtPoint(b.x+b.w/2,b.y+b.h/2)};
DvtDialGaugeRenderer._getIndicatorLength=function(a,b){var c=Math.min(b.w,b.h)/2;return a.__getOptions().background.indicatorLength*c};DvtDialGaugeRenderer._getIndicatorAnchorPoint=function(a,b,c){b=a.__getOptions().indicator;a=b._anchorX;b=b._anchorY;return!isNaN(a)&&!isNaN(b)?new DvtPoint(a,b):new DvtPoint(c.x+c.w/2,c.y+c.h)};DvtDialGaugeRenderer._getIndicatorScaleFactor=function(a,b,c){return DvtDialGaugeRenderer._getIndicatorLength(a,b)/c.h};
DvtDialGaugeRenderer._renderLabel=function(a,b,c){var d=a.__getOptions();if("on"==d.metricLabel.rendered){var e=DvtGaugeRenderer.getFormattedMetricLabel(d.value,a),g=c.x+c.w/2,h=c.y+c.h/2,k=c.w,m=c.h,n=d.background._metricLabelBounds;n&&(g=n.x+n.width/2,h=n.y+n.height/2,c.w=n.width,c.h=n.height);g=new DvtOutputText(a.getCtx(),e,g,h);!d.metricLabel.style.getStyle("color")&&d.background._isDark&&d.metricLabel.style.setStyle("color","#CCCCCC");g.setCSSStyle(d.metricLabel.style);h=parseInt(d.metricLabel.style.getFontSize());
if(!h){h=Math.max(DvtGaugeRenderer.getFormattedMetricLabel(d.max,a).length,DvtGaugeRenderer.getFormattedMetricLabel(d.min,a).length,e.length);n="";"percent"==d.metricLabel.textType&&(h=Math.max(3,e.length),n+="%");for(d=0;d<h;d++)n+="0";g.setTextString(n);h=g.getOptimalFontSize(c);g.setTextString(e);g.setFontSize(h)}g.alignCenter();g.alignMiddle();DvtTextUtils.fitText(g,k,m,b)&&g.isTruncated()&&a.__getEventManager().associate(g,new DvtSimpleObjPeer(e))}};
DvtDialGaugeRenderer._renderTickLabels=function(a,b,c){var d=a.__getOptions(),e=DvtAgent.isRightToLeft(a.getCtx());if(d.background.radius&&d.background.majorTickCount){var g=d.background._radius,h=d.min,k=d.max,m=d.background.majorTickCount,n=12,o=new DvtRectangle(w,u,c.w,c.h),s=d.metricLabel.style.getStyle("font-size");d.background._tickLabelHeight&&!s&&(o.h=d.background._tickLabelHeight);d.background._tickLabelWidth&&!s&&(o.w=d.background._tickLabelWidth);if(!s){var t=new DvtOutputText(a.getCtx(),
"",w,u),n=Math.max(DvtGaugeRenderer.formatTickLabelValue(d.max,a).length,DvtGaugeRenderer.formatTickLabelValue(d.min,a).length),s="";"percent"==d.tickLabel.textType&&(n=Math.max(3,DvtGaugeRenderer.formatTickLabelValue(100,a).length-1),s+="%");for(w=0;w<n;w++)s+="0";t.setTextString(s);n=t.getOptimalFontSize(o)}for(s=0;s<m;s++){w=h+Math.abs(k-h)*s/(m-1);e&&(w=h+Math.abs(k-h)*(m-1-s)/(m-1));var t=DvtGaugeRenderer.formatTickLabelValue(w,a),u=DvtDialGaugeRenderer._getRotation(a,w),v=DvtDialGaugeRenderer._getBackgroundAnchorPoint(a,
c),w=v.x+g*Math.cos(u-Math.PI/2),u=v.y+g*Math.sin(u-Math.PI/2),t=new DvtOutputText(a.getCtx(),t,w,u);!d.tickLabel.style.getStyle("color")&&d.background._isDark&&d.tickLabel.style.setStyle("color","#CCCCCC");t.setCSSStyle(d.tickLabel.style);d.tickLabel.style.getStyle("font-size")||t.setFontSize(n);t.alignCenter();t.alignMiddle();DvtTextUtils.fitText(t,o.w,o.h,b)&&t.isTruncated()&&a.__getEventManager().associate(t,new DvtSimpleObjPeer(t.getUntruncatedTextString()))}}};var DvtDialGaugeIndicator=function(a){this.Init(a)};
DvtObj.createSubclass(DvtDialGaugeIndicator,DvtContainer,"DvtDialGaugeIndicator");DvtDialGaugeIndicator.prototype.setAngle=function(a){var b=new DvtMatrix;b.rotate(a);this.setMatrix(b);this._angleRads=a};DvtDialGaugeIndicator.prototype.getAnimationParams=function(){return[this._angleRads]};DvtDialGaugeIndicator.prototype.setAnimationParams=function(a){a&&1==a.length&&this.setAngle(a[0])};var DvtRatingGauge=function(){};DvtObj.createSubclass(DvtRatingGauge,DvtGauge,"DvtRatingGauge");
DvtRatingGauge.newInstance=function(a,b,c){var d=new DvtRatingGauge;d.Init(a,b,c);return d};DvtRatingGauge.prototype.Init=function(a,b,c){DvtRatingGauge.superclass.Init.call(this,a,b,c);this.Defaults=new DvtRatingGaugeDefaults};DvtRatingGauge.prototype.SetOptions=function(a){DvtRatingGauge.superclass.SetOptions.call(this,this.Defaults.calcOptions(a))};
DvtRatingGauge.prototype.Render=function(a,b,c){var d=this.__getOptions().__layout.outerGap,e=this.Options.max;this._size=Math.min(c-2*d,(b-2*d)/e);this._bounds=new DvtRectangle((this.Width-this._size*e)/2,d,this._size*e,this.Height-2*d);DvtRatingGaugeRenderer.render(this,a,b,c)};
DvtRatingGauge.prototype.GetValueAt=function(a){if(DvtGaugeDataUtils.hasData(this)){a=Math.max(Math.min(a,this._bounds.x+this._bounds.w),this._bounds.x);this.__getOptions();var b=0,b=DvtAgent.isRightToLeft(this.getCtx())?Math.max((this._bounds.x+this._bounds.w-a)/this._size,this.Options.min):Math.max((a-this._bounds.x)/this._size,this.Options.min);return DvtGaugeRenderer.adjustForStep(this.Options,b)}return null};
DvtRatingGauge.prototype.__processHoverStart=function(a,b){this.__updateClipRects(this.GetValueAt(a,b),"hover")};DvtRatingGauge.prototype.__processHoverEnd=function(){this.__updateClipRects(this.Options.value,"render")};DvtRatingGauge.prototype.__processValueChangeStart=function(a,b){this.__processHoverStart(a,b)};
DvtRatingGauge.prototype.__processValueChangeMove=function(a,b){var c=this.GetValueAt(a,b);this.__updateClipRects(c,"hover");this.__dispatchEvent(new DvtValueChangeEvent(this.Options.value,c,!1))};DvtRatingGauge.prototype.__processValueChangeEnd=function(a,b){var c=this.Options.value;this.Options.value=this.GetValueAt(a,b);this.Options.changed=!0;this.render();this.__dispatchEvent(new DvtValueChangeEvent(c,this.Options.value,!1));this.__dispatchEvent(new DvtValueChangeEvent(c,this.Options.value,!0))};
DvtRatingGauge.prototype.__updateClipRects=function(a,b,c){if(DvtGaugeDataUtils.hasData(this)){c||(c=this._container);var d=DvtAgent.isRightToLeft(this.getCtx()),a=Math.max(Math.min(a,this.Options.max),0),e=0,g=a*this._size,h=a*this._size;"render"==b&&(e=a*this._size,g=0);d?(a=c.getChildAt(0),b=new DvtClipPath("unsel"+this.getId()),b.addRect(this._bounds.x,this._bounds.y,this._bounds.w-h,this._bounds.h),a.setClipPath(b),a=c.getChildAt(1),b=new DvtClipPath("sel"+this.getId()),b.addRect(this._bounds.x+
this._bounds.w-h,this._bounds.y,e,this._bounds.h),a.setClipPath(b),c=c.getChildAt(2),e=new DvtClipPath("hover"+this.getId()),e.addRect(this._bounds.x+this._bounds.w-h,this._bounds.y,g,this._bounds.h)):(a=c.getChildAt(0),b=new DvtClipPath("unsel"+this.getId()),b.addRect(this._bounds.x+h,this._bounds.y,this._bounds.w-h,this._bounds.h),a.setClipPath(b),a=c.getChildAt(1),b=new DvtClipPath("sel"+this.getId()),b.addRect(this._bounds.x,this._bounds.y,e,this._bounds.h),a.setClipPath(b),c=c.getChildAt(2),
e=new DvtClipPath("hover"+this.getId()),e.addRect(this._bounds.x,this._bounds.y,g,this._bounds.h));c.setClipPath(e)}};DvtRatingGauge.prototype.CreateEventHandler=function(){return new DvtRatingGaugeEventManager(this)};var DvtRatingGaugeDefaults=function(){this.Init({skyros:DvtRatingGaugeDefaults.VERSION_1,alta:DvtRatingGaugeDefaults.SKIN_ALTA})};DvtObj.createSubclass(DvtRatingGaugeDefaults,DvtGaugeDefaults,"DvtRatingGaugeDefaults");
DvtRatingGaugeDefaults.SKIN_ALTA={unselectedState:{shape:"star",color:"#C4CED7",borderColor:null},selectedState:{shape:"star",color:"#F8C15A",borderColor:null},hoverState:{shape:"star",color:"#007CC8",borderColor:null},changedState:{shape:"star",color:"#ED2C02",borderColor:null}};
DvtRatingGaugeDefaults.VERSION_1={min:0,max:5,unselectedState:{shape:"star",color:"#F2F2F2",borderColor:"#B6B6B6"},selectedState:{shape:"star",color:"#F8C15A",borderColor:"#F5A700"},hoverState:{shape:"star",color:"#66A7DA",borderColor:"#4A86C5"},changedState:{shape:"star",color:"#F8C15A",borderColor:"#959595"},step:1};var DvtRatingGaugeRenderer={};DvtObj.createSubclass(DvtRatingGaugeRenderer,DvtObj,"DvtRatingGaugeRenderer");DvtRatingGaugeRenderer._VALID_SHAPES=["circle","diamond","rectangle","star"];
DvtRatingGaugeRenderer.render=function(a,b,c,d){if(DvtGaugeDataUtils.hasData(a)){var e=a.__getOptions(),g=e.__layout.outerGap,h=e.max,k=Math.min(d-2*g,(c-2*g)/h),c=new DvtRectangle((c-k*h)/2,g,k*h,d-2*g),d={value:0,type:e.unselectedState.shape,color:e.unselectedState.color,borderColor:e.unselectedState.borderColor,visualEffects:e.visualEffects},g={value:0,type:e.selectedState.shape,color:e.selectedState.color,borderColor:e.selectedState.borderColor,visualEffects:e.visualEffects},m={value:0,type:e.changedState.shape,
color:e.changedState.color,borderColor:e.changedState.borderColor,visualEffects:e.visualEffects},n={value:0,type:e.hoverState.shape,color:e.hoverState.color,borderColor:e.hoverState.borderColor,visualEffects:e.visualEffects};"dot"==e.unselectedState.shape&&(d.type="circle",d.visualEffects="none",d.size=0.05);var o=new DvtContainer(a.getCtx());b.addChild(o);var s=new DvtContainer(a.getCtx());b.addChild(s);var t=new DvtContainer(a.getCtx());b.addChild(t);a.__updateClipRects(e.value,"render",b);for(var u=
0;u<h;u++){if("none"!=e.unselectedState.shape){var v=DvtLedGauge.newInstance(a.getCtx(),null,null,!0);o.addChild(v);v.setTranslate(c.x+u*k,c.y+c.h/2-k/2);-1==DvtArrayUtils.getIndex(DvtRatingGaugeRenderer._VALID_SHAPES,d.type)&&(d.type="star");v.render(d,k,k)}e.changed?(v=DvtLedGauge.newInstance(a.getCtx(),null,null,!0),s.addChild(v),v.setTranslate(c.x+u*k,c.y+c.h/2-k/2),-1==DvtArrayUtils.getIndex(DvtRatingGaugeRenderer._VALID_SHAPES,m.type)&&(m.type="star"),v.render(m,k,k)):(v=DvtLedGauge.newInstance(a.getCtx(),
null,null,!0),s.addChild(v),v.setTranslate(c.x+u*k,c.y+c.h/2-k/2),-1==DvtArrayUtils.getIndex(DvtRatingGaugeRenderer._VALID_SHAPES,g.type)&&(g.type="star"),v.render(g,k,k));v=DvtLedGauge.newInstance(a.getCtx(),null,null,!0);t.addChild(v);v.setTranslate(c.x+u*k,c.y+c.h/2-k/2);-1==DvtArrayUtils.getIndex(DvtRatingGaugeRenderer._VALID_SHAPES,n.type)&&(n.type="star");v.render(n,k,k)}h=new DvtRect(a.getCtx(),c.x,c.y,c.w,c.h);h.setInvisibleFill();b.addChild(h);(b=e.shortDesc)&&a.__getEventManager().associate(h,
new DvtSimpleObjPeer(null,b))}else DvtGaugeRenderer.renderEmptyText(a,b,new DvtRectangle(0,0,c,d))};var DvtRatingGaugeEventManager=function(a){this.Init(a.getCtx(),a.__dispatchEvent,a);this._gauge=a;this._bValueChanged=this.isEditing=!1;this._isIE=DvtAgent.isPlatformIE();this._stopAutoMouseOut=!1};DvtObj.createSubclass(DvtRatingGaugeEventManager,DvtGaugeEventManager,"DvtRatingGaugeEventManager");
DvtRatingGaugeEventManager.prototype.OnMouseOver=function(a){if(!1===this._gauge.__getOptions().readOnly&&!this._bValueChanged){var b=this.GetRelativePosition(a.pageX,a.pageY);this._gauge.__processHoverStart(b.x,b.y);this.isEditing=!0}DvtGaugeEventManager.superclass.OnMouseOver.call(this,a)};
DvtRatingGaugeEventManager.prototype.OnMouseOut=function(a){if(!1===this._gauge.__getOptions().readOnly){if(this._isIE&&this._bValueChanged&&this._stopAutoMouseOut){this._stopAutoMouseOut=!1;return}var b=this.GetRelativePosition(a.pageX,a.pageY);this._gauge.__processHoverEnd(b.x,b.y);this._bValueChanged=!1}DvtGaugeEventManager.superclass.OnMouseOut.call(this,a)};
DvtRatingGaugeEventManager.prototype.OnMouseDown=function(a){this._bValueChanged||(!1===this._gauge.__getOptions().readOnly?(this.isEditing=!0,this.hideTooltip(),a=this.GetRelativePosition(a.pageX,a.pageY),this._gauge.__processValueChangeStart(a.x,a.y)):DvtGaugeEventManager.superclass.OnMouseDown.call(this,a))};
DvtRatingGaugeEventManager.prototype.OnMouseUp=function(a){this.isEditing&&(!1===this._gauge.__getOptions().readOnly?(this.isEditing=!1,a=this.GetRelativePosition(a.pageX,a.pageY),this._gauge.__processValueChangeEnd(a.x,a.y),this._gauge.__processHoverEnd(a.x,a.y),this._bValueChanged=!0,this._isIE&&(this._stopAutoMouseOut=!0)):DvtGaugeEventManager.superclass.OnMouseUp.call(this,a))};DvtRatingGaugeEventManager.prototype.IsShowingTooltipWhileEditing=function(){return!0};