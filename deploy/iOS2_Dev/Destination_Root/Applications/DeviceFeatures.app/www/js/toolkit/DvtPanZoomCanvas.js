var DvtComboBox=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtComboBox,DvtContainer,"DvtComboBox");DvtComboBox._HIDE_DROPDOWN_DELAY=100;DvtComboBox._DROPDOWN_OUTOFFOCUS_CHECK=100;
DvtComboBox.prototype.Init=function(a,b,c){DvtComboBox.superclass.Init.call(this,a,null,b);this._styleMap=c;this._itemButtonStates=[];this._items=[];this._tooltips=[];this._selectedIndex=0;this._bRemoveDropdown=this._bStaticButtonStates=!1;this._maxItemDim=new DvtRectangle(0,0,0,0);this._dim=new DvtRectangle(0,0,0,0);this._tooltipManager=a.getTooltipManager();this._isTouchDevice=DvtAgent.isTouchDevice();this._button=this.createButton(b+"_cl");this.addChild(this._button);this._contentArea=new DvtContainer(a);
this._contentArea.setMouseEnabled(!1);this.addChild(this._contentArea);this._hideDropdownTimer=new DvtTimer(a,DvtComboBox._HIDE_DROPDOWN_DELAY,this.HandleHideDropdownTimer,this,1);this._outOfFocusCheckTimer=new DvtTimer(a,DvtComboBox._DROPDOWN_OUTOFFOCUS_CHECK,this.HandleOutOfFocusCheckTimer,this,1);this._dropdownItemClickEvent=!1};DvtComboBox.prototype._stopHideDropdownTimer=function(){this._hideDropdownTimer&&(this._hideDropdownTimer.stop(),this._hideDropdownTimer=null)};
DvtComboBox.prototype.getSelectedIndex=function(){return this._selectedIndex};DvtComboBox.prototype.setSelectedIndex=function(a){this._selectedIndex=a;this._bStaticButtonStates||this.UpdateContentArea();this.FireChangeEvent(a)};
DvtComboBox.prototype.createButton=function(a){a=new DvtButton(this.getCtx(),this.createUpState(a),this.createDownState(a),this.createOverState(a),null,a);a.setCallback(this.HandleExpandClick,this);a.setCursor(DvtSelectionEffectUtils.getSelectingCursor());this._isTouchDevice||a.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandleButtonDown,!1,this);a.setToggleEnabled(!0);return a};
DvtComboBox.prototype.createUpState=function(a){var b=this.getCtx(),c=this.getDimensions(),a=new DvtRect(b,0,0,c.w,c.h,a+"_up");a.setCornerRadius(DvtButtonLAFUtils.ROUND_RECT_ELLIPSE);a.setInvisibleFill();a.addChild(DvtComboBox.DrawArrow(b,a.getWidth(),a.getHeight()));return a};
DvtComboBox.prototype.createOverState=function(a){var b=this.getCtx(),c=this.getDimensions(),a=new DvtRect(b,0,0,c.w,c.h,a+"_up");a.setCornerRadius(DvtButtonLAFUtils.ROUND_RECT_ELLIPSE);a.setSolidStroke(DvtButtonLAFUtils.BORDER_COLOR);a.setFill(new DvtLinearGradientFill(0,[DvtButtonLAFUtils.GRADIENT_DARK,DvtButtonLAFUtils.GRADIENT_LIGHT]));a.addChild(DvtComboBox.DrawArrow(b,a.getWidth(),a.getHeight()));return a};
DvtComboBox.prototype.createDownState=function(a){var b=this.getCtx(),c=this.getDimensions(),a=new DvtRect(b,0,0,c.w,c.h,a+"_up");a.setSolidStroke(DvtButtonLAFUtils.BORDER_COLOR);a.setFill(new DvtLinearGradientFill(0,[DvtButtonLAFUtils.GRADIENT_LIGHT,DvtButtonLAFUtils.GRADIENT_DARK]));a.setCornerRadius(DvtButtonLAFUtils.ROUND_RECT_ELLIPSE);a.addChild(DvtComboBox.DrawArrow(b,a.getWidth(),a.getHeight()));return a};
DvtComboBox.prototype.setStaticButtonStates=function(a,b,c){this._button.setUpState(a);this._button.setDownState(c);this._button.setOverState(b);this._bStaticButtonStates=!0};
DvtComboBox.prototype.addItem=function(a,b,c,d,e){a.setMouseEnabled(!1);this._items.push(a);this._tooltips.push(b);var b=DvtButtonLAFUtils._getDimForced(this.getCtx(),c?c:a),g=this._getMaxItemDim(),h=this.getDimensions();this.getCtx();b.w>g.w&&(g.w=b.w,h.w=b.w+16);b.h>g.h&&(g.h=b.h,h.h=b.h);this._maxItemDim=g;b=null;c&&d&&e&&(b=[],b[DvtButton.STATE_ENABLED]=c,b[DvtButton.STATE_OVER]=d,b[DvtButton.STATE_DOWN]=e);this._itemButtonStates.push(b);this._bStaticButtonStates||(this.removeChild(this._button),
this._button=this.createButton(a.getId()),this.addChildAt(this._button,0),this.UpdateContentArea())};DvtComboBox.prototype.getItem=function(a){return this._items[a]};DvtComboBox.prototype.getItemCount=function(){return this._items.length};DvtComboBox.prototype.getItemIndex=function(a){for(var b=0;b<this.getItemCount();b++)if(this.getItem(b)===a)return b;return-1};DvtComboBox.prototype.getSelectedItem=function(){var a=this.getSelectedIndex();return 0>a||a>this._items.length-1?null:this._items[a]};
DvtComboBox.prototype.FireChangeEvent=function(a){a=new DvtComboBoxEvent(DvtComboBoxEvent.SUBTYPE_ITEM_CHANGE,a,this._event);this._event=null;this.FireListener(a);return!0};
DvtComboBox.prototype.HandleExpandClick=function(a){DvtEventManager.consumeEvent(a);this._bRemoveDropdown&&this.RemoveDropdown();a=this.getCtx();this._dropdown=this.createDropdown();var b=DvtButtonLAFUtils._getDimForced(a,this._dropdown);this.addChild(this._dropdown);var c=this._button.getDimensions();this._dropdown.setTranslate(DvtAgent.isRightToLeft(a)?-b.w+1*c.w/4:3*c.w/4,3*c.h/4);this._button.setMouseEnabled(!1);this._button.setToggled(!0);this.FireListener(new DvtComboBoxEvent(DvtComboBoxEvent.SUBTYPE_SHOW_DROPDOWN));
(a=a.getStage())&&(this._isTouchDevice?a.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleStageMouseFocusChange,!0,this):a.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandleStageMouseFocusChange,!0,this))};DvtComboBox.prototype.HandleHideDropdownTimer=function(){this.HideDropdown();this._bStaticButtonStates||this.UpdateContentArea()};DvtComboBox.prototype.HandleStageMouseFocusChange=function(){this._dropdownItemClickEvent=!1;this._outOfFocusCheckTimer.reset();this._outOfFocusCheckTimer.start()};
DvtComboBox.prototype.HandleOutOfFocusCheckTimer=function(){this._dropdownItemClickEvent||(this._hideDropdownTimer.reset(),this._hideDropdownTimer.start())};
DvtComboBox.prototype.createDropdown=function(){for(var a=this._styleMap?this._styleMap.comboBox:null,b=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_PADDING_TOP,0),c=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_PADDING_LEFT,0),d=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_PADDING_BOTTOM,0),e=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_PADDING_RIGHT,0),g=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_PADDING_INNER,0),h=b,k=this.getCtx(),m,n,o,b=new DvtContainer(k,"__dd"),
s=0;s<this._items.length;s++)o=this._items[s],m=DvtButtonLAFUtils._getDimForced(k,o),n=new DvtContainer(k,"__it"+s),n.setTranslate(c,h),n.addChild(o),o.setMouseEnabled(!0),o.setCursor(DvtSelectionEffectUtils.getSelectingCursor()),h+=m.h+g,this._eventManager&&(m=new DvtPanZoomControlPanelEventHandlerProxy(this,this.HandleDropdownItemClick,this.HandleButtonDown,null,null,null,this._tooltips[s]),this._eventManager.associate(o,m)),b.addChild(n);a=DvtButtonLAFUtils.drawDropdownShape(k,this._getMaxItemDim().w+
c+e,h+d-g,a);a.addChild(b);c=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_COLOR,null);d=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA,1);e=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BACKGROUND_COLOR,null);g=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.BG_ALPHA,1);a.setSolidStroke(c,d);e&&a.setSolidFill(e,g);return a};DvtComboBox.prototype.HandleButtonDown=function(){DvtEventManager.consumeEvent()};
DvtComboBox.prototype.HandleDropdownItemClick=function(a){this._dropdownItemClickEvent=!0;this._hideDropdownTimer.stop();DvtEventManager.consumeEvent(a);var b=DvtComboBox.getRootDropdownItemSprite(a.target),c;if(this._dropdown&&b){var d=this._dropdown.getChildAt(0);d&&(c=d.getChildIndex(b))}this.HideDropdown();this._event=a;this.setSelectedIndex(c)};DvtComboBox.getRootDropdownItemSprite=function(a){for(var b,c;a;){if((c=a.getId())&&a instanceof DvtContainer&&"__it"==c.substr(0,4)){b=a;break}a=a.getParent()}return b};
DvtComboBox.prototype.HideDropdown=function(){this._dropdown&&(this._dropdown.setVisible(!1),this._button.setToggled(!1),this.FireListener(new DvtComboBoxEvent(DvtComboBoxEvent.SUBTYPE_HIDE_DROPDOWN)),this._bRemoveDropdown=!0);var a=this.getCtx().getStage();a&&(this._isTouchDevice?a.removeEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleStageMouseFocusChange,!0,this):a.removeEvtListener(DvtMouseEvent.MOUSEUP,this.HandleStageMouseFocusChange,!0,this));this._button.setMouseEnabled(!0)};
DvtComboBox.prototype.RemoveDropdown=function(){this._bRemoveDropdown=!1;this._dropdown&&(this._dropdown.setVisible(!1),this._dropdown.getParent().removeChild(this._dropdown),this._dropdown=null)};DvtComboBox.prototype._getMaxItemDim=function(){return this._maxItemDim};DvtComboBox.prototype.getDimensions=function(){return this._dim};
DvtComboBox.prototype.UpdateContentArea=function(){var a=!0,b=this.getSelectedIndex();if(this._itemButtonStates&&this._itemButtonStates.length>b&&(b=this._itemButtonStates[b])&&2<b.length)this._button.setUpState(b[DvtButton.STATE_ENABLED]),this._button.setOverState(b[DvtButton.STATE_OVER]),this._button.setDownState(b[DvtButton.STATE_DOWN]),a=!1;a&&(0<this._contentArea.getNumChildren()&&this._contentArea.removeChildAt(0),this._contentArea.addChild(this.getSelectedItem()))};
DvtComboBox.DrawArrow=function(a,b,c){var d=[];d.push(b-12,c/2-2);d.push(b-4,c/2-2);d.push(b-8,c/2+2);d.push(b-12,c/2-2);a=new DvtPolygon(a,d,null);a.setSolidStroke(DvtButtonLAFUtils.BORDER_COLOR);a.setSolidFill(DvtButtonLAFUtils.BORDER_COLOR);a.setMouseEnabled(!1);return a};DvtComboBox.prototype.closeDropdown=function(){this.HideDropdown()};DvtComboBox.prototype.setEventManager=function(a){this._eventManager=a};var DropdownItemSprite=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};
DvtObj.createSubclass(DropdownItemSprite,DvtRect,"DropdownItemSprite");DropdownItemSprite.prototype.Init=function(a){DvtRect.superclass.Init.call(this,a)};var DvtComboBoxEvent=function(a,b,c){this.Init(a,b,c)};DvtComboBoxEvent.TYPE="comboBoxEvent";DvtComboBoxEvent.SUBTYPE_ITEM_CHANGE="cbItemChange";DvtComboBoxEvent.SUBTYPE_SHOW_DROPDOWN="cbShowDropdown";DvtComboBoxEvent.SUBTYPE_HIDE_DROPDOWN="cbHideDropdown";DvtObj.createSubclass(DvtComboBoxEvent,DvtBaseEvent,"DvtComboBoxEvent");
DvtComboBoxEvent.prototype.Init=function(a,b,c){DvtComboBoxEvent.superclass.Init.call(this,DvtComboBoxEvent.TYPE);void 0===b&&(b=-1);this.subtype=a;this._index=b;this._evt=c};DvtComboBoxEvent.prototype.getIndex=function(){return this._index};var DvtBasePanZoomControl=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtBasePanZoomControl,DvtContainer,"DvtBasePanZoomControl");
DvtBasePanZoomControl.prototype.Init=function(a,b,c){DvtBasePanZoomControl.superclass.Init.call(this,a);this._panZoomCanvas=b;this._context=a;this._tooltipManager=a.getTooltipManager();this._resources=c};DvtBasePanZoomControl.prototype.setTooltipManager=function(a){this._tooltipManager=a};DvtBasePanZoomControl.prototype.getTooltipManager=function(){return this._tooltipManager};DvtBasePanZoomControl.prototype.setResources=function(a){this._resources=a};
DvtBasePanZoomControl.prototype.getResources=function(){null==this._resources&&(this._resources=new DvtPanZoomControlPanelResources);return this._resources};DvtBasePanZoomControl.prototype.ShowTooltip=function(a,b){this.getTooltipManager().showTooltip(a.pageX,a.pageY,b,a.target)};DvtBasePanZoomControl.prototype.HideTooltip=function(){this.getTooltipManager().hideTooltip()};DvtBasePanZoomControl.prototype._logEvent=function(){};var DvtZoomInButton=function(a,b,c,d,e){this.Init(a,b,c,d,e)};
DvtZoomInButton._ZOOM_INCR_TIMER_INTERVAL=100;DvtZoomInButton._ZOOM_START_TIMER_INTERVAL=250;DvtObj.createSubclass(DvtZoomInButton,DvtBasePanZoomControl,"DvtZoomInButton");
DvtZoomInButton.prototype.Init=function(a,b,c,d,e){DvtZoomInButton.superclass.Init.call(this,a,c,d);this._bZoomInMouseDown=!1;this._zoomInTimer=new DvtTimer(a,DvtZoomInButton._ZOOM_INCR_TIMER_INTERVAL,this.HandleZoomInTimer,this);this._zoomStartTimer=new DvtTimer(a,DvtZoomInButton._ZOOM_START_TIMER_INTERVAL,this.HandleZoomStartTimer,this,1);this._zoomInButton=b;this._zoomInButton.setCallback(this.HandleZoomInClick,this);this._eventManager=e;this._eventManager.associate(this._zoomInButton,new DvtPanZoomControlPanelEventHandlerProxy(this,
null,this.HandleZoomInMouseDown,this.HandleZoomInMouseUp,this.HandleZoomInMouseUp,null,this.getResources().getZoomInTooltip()));this.addChild(this._zoomInButton)};DvtZoomInButton.prototype.HandleZoomInClick=function(a){this._logEvent(a);if(!this._zoomInTimer.isRunning()){var a=this._panZoomCanvas.getNextZoomLevel(this._panZoomCanvas.getZoom()),b=new DvtAnimator(this.getCtx(),this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomTo(a,void 0,void 0,b);b.play()}};
DvtZoomInButton.prototype.HandleZoomInMouseDown=function(a){this._logEvent(a);this._bZoomInMouseDown=!0;this._zoomInTimer.stop();this._zoomStartTimer.stop();this._zoomStartTimer.start()};DvtZoomInButton.prototype.HandleZoomInMouseUp=function(a){this._bZoomInMouseDown&&(this._logEvent(a),this._bZoomInMouseDown=!1,this._zoomInTimer.stop(),this._zoomStartTimer.stop())};DvtZoomInButton.prototype.HandleZoomStartTimer=function(){this._zoomInTimer.start()};DvtZoomInButton.prototype.HandleZoomInTimer=function(){this._panZoomCanvas.zoomTo(this._panZoomCanvas.getNextZoomLevel(this._panZoomCanvas.getZoom()))};
DvtZoomInButton.prototype._stopTimer=function(){this._zoomInTimer&&(this._zoomInTimer.stop(),this._zoomInTimer=null);this._zoomStartTimer&&(this._zoomStartTimer.stop(),this._zoomStartTimer=null)};DvtZoomInButton.prototype.setEnabled=function(a){this._zoomInButton.setCursor(a?DvtSelectionEffectUtils.getSelectingCursor():null);this._zoomInButton.setEnabled(a);this._zoomInButton.initState()};var DvtZoomOutButton=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtZoomOutButton._ZOOM_INCR_TIMER_INTERVAL=100;
DvtZoomOutButton._ZOOM_START_TIMER_INTERVAL=250;DvtObj.createSubclass(DvtZoomOutButton,DvtBasePanZoomControl,"DvtZoomOutButton");
DvtZoomOutButton.prototype.Init=function(a,b,c,d,e){DvtZoomOutButton.superclass.Init.call(this,a,c,d);this._bZoomOutMouseDown=!1;this._zoomOutTimer=new DvtTimer(a,DvtZoomOutButton._ZOOM_INCR_TIMER_INTERVAL,this.HandleZoomOutTimer,this);this._zoomStartTimer=new DvtTimer(a,DvtZoomOutButton._ZOOM_START_TIMER_INTERVAL,this.HandleZoomStartTimer,this,1);this._zoomOutButton=b;this._zoomOutButton.setCallback(this.HandleZoomOutClick,this);this._eventManager=e;this._eventManager.associate(this._zoomOutButton,
new DvtPanZoomControlPanelEventHandlerProxy(this,null,this.HandleZoomOutMouseDown,this.HandleZoomOutMouseUp,this.HandleZoomOutMouseUp,null,this.getResources().getZoomOutTooltip()));this.addChild(this._zoomOutButton)};
DvtZoomOutButton.prototype.HandleZoomOutClick=function(a){this._logEvent(a);if(!this._zoomOutTimer.isRunning()){var a=this._panZoomCanvas.getPrevZoomLevel(this._panZoomCanvas.getZoom()),b=this.getCtx(),b=new DvtAnimator(b,this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomTo(a,void 0,void 0,b);b.play()}};DvtZoomOutButton.prototype.HandleZoomOutMouseDown=function(a){this._logEvent(a);this._bZoomOutMouseDown=!0;this._zoomOutTimer.stop();this._zoomStartTimer.stop();this._zoomStartTimer.start()};
DvtZoomOutButton.prototype.HandleZoomOutMouseUp=function(a){this._bZoomOutMouseDown&&(this._logEvent(a),this._bZoomOutMouseDown=!1,this._zoomOutTimer.stop(),this._zoomStartTimer.stop())};DvtZoomOutButton.prototype.HandleZoomStartTimer=function(){this._zoomOutTimer.start()};DvtZoomOutButton.prototype.HandleZoomOutTimer=function(){this._panZoomCanvas.zoomTo(this._panZoomCanvas.getPrevZoomLevel(this._panZoomCanvas.getZoom()))};
DvtZoomOutButton.prototype._stopTimer=function(){this._zoomOutTimer&&(this._zoomOutTimer.stop(),this._zoomOutTimer=null);this._zoomStartTimer&&(this._zoomStartTimer.stop(),this._zoomStartTimer=null)};DvtZoomOutButton.prototype.setEnabled=function(a){this._zoomOutButton.setCursor(a?DvtSelectionEffectUtils.getSelectingCursor():null);this._zoomOutButton.setEnabled(a);this._zoomOutButton.initState()};var DvtZoomToFitButton=function(a,b,c,d,e){this.Init(a,b,c,d,e)};
DvtObj.createSubclass(DvtZoomToFitButton,DvtBasePanZoomControl,"DvtZoomToFitButton");
DvtZoomToFitButton.prototype.Init=function(a,b,c,d,e){DvtZoomToFitButton.superclass.Init.call(this,a,c,d);this._zoomToFitButton=b;this._zoomToFitButton.setCallback(this.HandleZoomToFitClick,this);this._zoomToFitButton.setCursor(DvtSelectionEffectUtils.getSelectingCursor());this._eventManager=e;this._eventManager.associate(this._zoomToFitButton,new DvtPanZoomControlPanelEventHandlerProxy(this,null,null,null,null,null,this.getResources().getZoomToFitTooltip()));this.addChild(this._zoomToFitButton)};
DvtZoomToFitButton.prototype.HandleZoomToFitClick=function(a){this._logEvent(a);a=new DvtAnimator(this.getCtx(),this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomToFit(a);a.play()};var DvtZoomSlider=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtZoomSlider.DEFAULT_ZOOM_LEVELS=[0,0.25,0.5,0.75,1];DvtZoomSlider.ZOOM_SLIDER_HEIGHT=76;DvtZoomSlider.ZOOM_SLIDER_WIDTH=15;DvtObj.createSubclass(DvtZoomSlider,DvtBasePanZoomControl,"DvtZoomSlider");
DvtZoomSlider.prototype.Init=function(a,b,c,d,e,g,h){DvtZoomSlider.superclass.Init.call(this,a,b,c);this._zoomLevels=DvtZoomSlider.DEFAULT_ZOOM_LEVELS;this._bZoomSliderThumbMouseDown=!1;this._panZoomCanvas.addEvtListener(ZoomEvent.ZOOM,this.HandleZoomEvent,!1,this);d||(d=DvtZoomSlider.DEFAULT_ZOOM_LEVELS);this._zoomLevels=d;this._zoomLevelsTooltips=e;g||(g=0);h||(h=1);this._minScale=g;this._maxScale=h;this.Render()};DvtZoomSlider.prototype.getZoomLevels=function(){return this._zoomLevels};
DvtZoomSlider.prototype.setZoomLevelsTooltips=function(a){this._zoomLevelsTooltips=a;this.AddZoomSliderCrosslinesTooltipListeners()};DvtZoomSlider.prototype.getZoomLevelsTooltips=function(){return this._zoomLevelsTooltips};
DvtZoomSlider.prototype.AddZoomSliderCrosslinesTooltipListeners=function(){var a=this.getZoomLevelsTooltips(),b=0;a&&(b=a.length);var c,d,e=0;this._zoomSliderCrosslines&&(e=this._zoomSliderCrosslines.length);for(var g=0;g<e;g++)g<b&&(c=this._zoomSliderCrosslines[g],d=a[g],null!=d&&0<d.length&&(c.hasEventListener(DvtMouseEvent.MOUSEOVER)||c.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleZoomSliderCrosslineRollOver,!1,0,!0),c.hasEventListener(DvtMouseEvent.MOUSEOUT)||c.addEvtListener(DvtMouseEvent.MOUSEOUT,
this.HandleZoomSliderCrosslineRollOut,!1,0,!0)))};
DvtZoomSlider.prototype.Render=function(){this._zoomSliderCrosslines=[];var a=this.getZoomLevels(),b=0;null!=a&&(b=a.length);var c=ZOOM_SLIDER_WIDTH,d=graphics;d.lineStyle(0,0,0);d.DvtPathUtils.moveTo(0,0);d.DvtPathUtils.lineTo(c,ZOOM_SLIDER_HEIGHT);this._zoomSliderStartY=8;this._zoomSliderEndY=height-8;for(var e,g=0;g<b;g++)e=new Sprite,e.buttonMode=!0,e.y=this._zoomSliderEndY-(a[g]-this._minScale)/(this._maxScale-this._minScale)*(this._zoomSliderEndY-this._zoomSliderStartY),addChild(e),d=e.graphics,
PanZoomDvtButtonLAFUtilsPanelLAFUtils.drawZoomSliderCrossLine(e,4,0,c),d.lineStyle(5,0,0),d.DvtPathUtils.moveTo(4,0),d.DvtPathUtils.lineTo(4+c,0),this._zoomSliderCrosslines.push(e),e.addEvtListener(DvtMouseEvent.CLICK,this.HandleZoomSliderCrosslineClick,!1,0,!0);this.addZoomSliderCrosslinesTooltipListeners();this._zoomSliderThumb=this._createZoomSliderThumb();this._positionZoomSliderThumb();this.addChild(this._zoomSliderThumb)};
DvtZoomSlider.prototype._createZoomSliderThumb=function(){var a=this.getCtx(),b=new DvtContainer(a),c=DvtStyleUtils.isLocaleL2R()?0:ZOOM_SLIDER_WIDTH-2,a=new DvtButton(a,DvtButtonLAFUtils.createZoomSliderButtonState(a,DvtButton.STATE_ENABLED,c),DvtButtonLAFUtils.createZoomSliderButtonState(DvtButton.STATE_OVER,c),DvtButtonLAFUtils.createZoomSliderButtonState(DvtButton.STATE_DOWN,c));b.addChild(a);b.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandleZoomSliderThumbMouseDown,!1,this);b.addEvtListener(DvtMouseEvent.CLICK,
DvtEventManager.consumeEvent,!1,this);return b};DvtZoomSlider.prototype._positionZoomSliderThumb=function(){if(this._panZoomCanvas&&this._zoomSliderThumb){var a=this._panZoomCanvas.getCurrentZoom(),a=Number(this._zoomSliderEndY)-(a-this._minScale)/(this._maxScale-this._minScale)*Number(this._zoomSliderEndY-this._zoomSliderStartY);a>this._zoomSliderEndY?a=this._zoomSliderEndY:a<this._zoomSliderStartY&&(a=this._zoomSliderStartY);this._zoomSliderThumb.y=a-this._zoomSliderThumb.height/2}};
DvtZoomSlider.prototype.HandleZoomEvent=function(a){a.getSubType()==ZoomEvent.SUBTYPE_ZOOMED&&this._positionZoomSliderThumb()};DvtZoomSlider.prototype.HandleZoomSliderBodyClick=function(a){DvtEventManager.consumeEvent(a);a=this._zoomSliderEndY-a.localY;0>a&&(a=0);var a=this._minScale+a/(this._zoomSliderEndY-this._zoomSliderStartY)*(this._maxScale-this._minScale),b=new DvtAnimator(this.getCtx(),this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomTo(a,void 0,void 0,b);b.play()};
DvtZoomSlider.prototype.HandleZoomSliderCrosslineClick=function(a){DvtEventManager.consumeEvent(a);var b,c=0;null!=this._zoomSliderCrosslines&&(c=this._zoomSliderCrosslines.length);for(b=0;b<c&&!(a.target==this._zoomSliderCrosslines[b]);b++);a=this._zoomLevels[b];b=new DvtAnimator(this.getCtx(),this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomTo(a,void 0,void 0,b);b.play()};
DvtZoomSlider.prototype.HandleZoomSliderCrosslineRollOver=function(a){var b,c=0;null!=this._zoomSliderCrosslines&&(c=this._zoomSliderCrosslines.length);for(b=0;b<c&&!(a.target==this._zoomSliderCrosslines[b]);b++);c=null;b<this._zoomLevelsTooltips.length&&(c=this._zoomLevelsTooltips[b]);c&&this.getTooltipManager()&&this.getTooltipManager().showTooltip(c,a.target)};DvtZoomSlider.prototype.HandleZoomSliderCrosslineRollOut=function(){null!=this.getTooltipManager()&&this.getTooltipManager().hideTooltip()};
DvtZoomSlider.prototype.HandleZoomSliderThumbMouseDown=function(a){DvtEventManager.consumeEvent(a);this._bZoomSliderThumbMouseDown=!0;stage.addEvtListener(DvtMouseEvent.MOUSEMOVE,this.HandleZoomSliderThumbMouseMove,!1,0,!0);stage.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandleZoomSliderThumbMouseUp,!1,0,!0);this._zoomSliderThumb.startDrag(!1,new Rectangle(this._zoomSliderThumb.x,this._zoomSliderStartY-this._zoomSliderThumb.height/2,0,this._zoomSliderEndY-this._zoomSliderStartY))};
DvtZoomSlider.prototype.HandleZoomSliderThumbMouseMove=function(a){this._bZoomSliderThumbMouseDown&&a.updateAfterEvent()};
DvtZoomSlider.prototype.HandleZoomSliderThumbMouseUp=function(a){stage.removeEvtListener(DvtMouseEvent.MOUSEMOVE,this.HandleZoomSliderThumbMouseMove);stage.removeEvtListener(DvtMouseEvent.MOUSEUP,this.HandleZoomSliderThumbMouseUp);if(this._bZoomSliderThumbMouseDown){DvtEventManager.consumeEvent(a);this._bZoomSliderThumbMouseDown=!1;this._zoomSliderThumb.stopDrag();a=this._zoomSliderEndY-(this._zoomSliderThumb.y+this._zoomSliderThumb.height/2);0>a&&(a=0);var a=this._minScale+a/(this._zoomSliderEndY-
this._zoomSliderStartY)*(this._maxScale-this._minScale),b=new DvtAnimator(this.getCtx(),this._panZoomCanvas.getAnimationDuration());this._panZoomCanvas.zoomTo(a,void 0,void 0,b);b.play()}};var DvtPanControl=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};DvtPanControl.PAN_TIMER_INTERVAL=50;DvtPanControl.PAN_TIMER_ACCELERATE_COUNT=2*(1E3/DvtPanControl.PAN_TIMER_INTERVAL);DvtObj.createSubclass(DvtPanControl,DvtBasePanZoomControl,"DvtPanControl");
DvtPanControl.prototype.Init=function(a,b,c,d,e,g,h){DvtPanControl.superclass.Init.call(this,a,d,e);this._panTimer=new DvtTimer(a,DvtPanControl.PAN_TIMER_INTERVAL,this.HandlePanTimer,this);this._bPanMouseDown=!1;this._panCenter=new DvtPoint(20,20);this._controls=g?g:DvtPanZoomControlPanel.CONTROLS_ALL;b.addChild(c);c&&(this._panCenterSprite=c,this._panCenterSprite.setVisible(!1),this._panCenterSprite.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandlePanCenterClick,!1,this),DvtAgent.isTouchDevice()||
(this._panCenterSprite.addEvtListener(DvtMouseEvent.CLICK,this.HandlePanCenterClick,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandlePanCenterDown,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandlePanCenterUp,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandlePanCenterRollOver,!1,this),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandlePanCenterRollOut,!1,this)),this._panCenterSprite.addEvtListener(DvtMouseEvent.MOUSEMOVE,
this.HandlePanCenterMouseMove,!1,this));this._panButton=b;this._panButton.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandlePanClick,!1,this);DvtAgent.isTouchDevice()||(this._panButton.addEvtListener(DvtMouseEvent.CLICK,this.HandlePanClick,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEDOWN,this.HandlePanMouseDown,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEUP,this.HandlePanMouseUp,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandlePanRollOver,!1,
this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandlePanRollOut,!1,this),this._panButton.addEvtListener(DvtMouseEvent.MOUSEMOVE,this.HandlePanMouseMove,!1,this));this._panControl=DvtButtonLAFUtils.createPanButtonBackground(a,h);this._panControl.addChild(this._panButton);this.addChild(this._panControl)};DvtPanControl.prototype.HandlePanClick=function(a){DvtEventManager.consumeEvent(a)};
DvtPanControl.prototype.HandlePanMouseDown=function(a){DvtEventManager.consumeEvent(a);this._bPanMouseDown=!0;this._panCenterSprite&&this._panCenterSprite.setVisible(!1);a=this._panButton.stageToLocal(this._panZoomCanvas.GetRelativeMousePosition(a));this._rotatePanControlDirectionalArrow(a.x,a.y,this._panButton.downState);this._panMousePoint=new DvtPoint(a.x,a.y);this._panTimer.start();this._panTimerCount=0};
DvtPanControl.prototype.HandlePanMouseUp=function(a){this._bPanMouseDown&&(DvtEventManager.consumeEvent(a),this._bPanMouseDown=!1,this._panCenterSprite&&this._panCenterSprite.setVisible(!0),this._panTimer.stop());this._panButton._mouseOutHandler(a);this.HideTooltip()};DvtPanControl.prototype.HandlePanRollOver=function(a){this._panCenterSprite&&this._panCenterSprite.setVisible(!0);this.ShowTooltip(a,this.getResources().getPanControlTooltip())};
DvtPanControl.prototype.HandlePanRollOut=function(a){this.HandlePanMouseUp(a);this._panCenterSprite&&this._panCenterSprite.setVisible(!1)};DvtPanControl.prototype.HandlePanMouseMove=function(a){DvtEventManager.consumeEvent(a);a=this._panButton.stageToLocal(this._panZoomCanvas.GetRelativeMousePosition(a));this._bPanMouseDown?(this._rotatePanControlDirectionalArrow(a.x,a.y,this._panButton.downState),this._panMousePoint=new DvtPoint(a.x,a.y)):this._rotatePanControlDirectionalArrow(a.x,a.y,this._panButton.overState)};
DvtPanControl.prototype.HandlePanTimer=function(){if(this._bPanMouseDown){var a=Math.atan2(this._panCenter.y-this._panMousePoint.y,this._panCenter.x-this._panMousePoint.x),b=Math.cos(a),a=Math.sin(a),c=15;this._panTimerCount++;this._panTimerCount>DvtPanControl.PAN_TIMER_ACCELERATE_COUNT&&(c*=3);this._panZoomCanvas.panBy(c*b,c*a)}};DvtPanControl.prototype.HandlePanCenterClick=function(a){DvtEventManager.consumeEvent(a);this._logEvent(a);this._panZoomCanvas.zoomAndCenter()};
DvtPanControl.prototype.HandlePanCenterDown=function(a){DvtEventManager.consumeEvent(a);this._logEvent(a)};DvtPanControl.prototype.HandlePanCenterUp=function(a){DvtEventManager.consumeEvent(a);this._logEvent(a);this.HideTooltip()};DvtPanControl.prototype.HandlePanCenterRollOver=function(a){this._logEvent(a);this.ShowTooltip(a,this.getResources().getPanControlCenterTooltip());this._panCenterSprite.setVisible(!0);DvtEventManager.consumeEvent(a)};
DvtPanControl.prototype.HandlePanCenterRollOut=function(a){this._logEvent(a);this.HideTooltip();DvtEventManager.consumeEvent(a)};DvtPanControl.prototype.HandlePanCenterMouseMove=function(a){DvtEventManager.consumeEvent(a);this._logEvent(a)};DvtPanControl.prototype._rotatePanControlDirectionalArrow=function(a,b,c){a=Math.atan2(b-this._panCenter.y,a-this._panCenter.x);c.setRotation(a-Math.PI/4)};var DvtPanZoomControlPanelEvent=function(a){this.Init(DvtPanZoomControlPanelEvent.TYPE);this._subtype=a};
DvtObj.createSubclass(DvtPanZoomControlPanelEvent,DvtBaseComponentEvent,"DvtPanZoomControlPanelEvent");DvtPanZoomControlPanelEvent.TYPE="dvtPZCPExpand";DvtPanZoomControlPanelEvent.SUBTYPE_SHOW="show";DvtPanZoomControlPanelEvent.SUBTYPE_HIDE="hide";DvtPanZoomControlPanelEvent.prototype.getSubType=function(){return this._subtype};var DvtPanZoomControlPanel=function(a,b,c,d,e,g){this.Init(a,b,c,d,e,g)};DvtObj.createSubclass(DvtPanZoomControlPanel,DvtContainer,"DvtPanZoomControlPanel");
DvtPanZoomControlPanel.STATE_COLLAPSED=1;DvtPanZoomControlPanel.STATE_EXPANDED=2;DvtPanZoomControlPanel.CONTROLS_ALL=16777215;DvtPanZoomControlPanel.CONTROLS_ZOOM_SLIDER=1;DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON=16;DvtPanZoomControlPanel.CONTROLS_ZOOM_TO_FIT_BUTTON=256;DvtPanZoomControlPanel.CONTROLS_ZOOM=4097;DvtPanZoomControlPanel.CONTROL_PANEL_BEHAVIOR_KEY="controlPanelBehavior";DvtPanZoomControlPanel.BG_ALPHA="backgroundAlpha";DvtPanZoomControlPanel.BG_ROLLOVER_ALPHA="backgroundHoverAlpha";
DvtPanZoomControlPanel.BG_DRAG_ALPHA="backgroundDragAlpha";DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA="borderAlpha";DvtPanZoomControlPanel.FRAME_ROLLOVER_ALPHA="borderHoverAlpha";DvtPanZoomControlPanel.FRAME_DRAG_ALPHA="borderDragAlpha";DvtPanZoomControlPanel.CP_BUTTON_WIDTH="buttonWidth";DvtPanZoomControlPanel.CP_BUTTON_HEIGHT="buttonHeight";DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH="openCloseButtonWidth";DvtPanZoomControlPanel.CP_TAB_SIZE="tabSize";
DvtPanZoomControlPanel.CP_PADDING_TOP="paddingTop";DvtPanZoomControlPanel.CP_PADDING_SIDE="paddingSide";DvtPanZoomControlPanel.CP_PADDING_BOTTOM="paddingBottom";DvtPanZoomControlPanel.CP_PADDING_LEFT="paddingLeft";DvtPanZoomControlPanel.CP_PADDING_RIGHT="paddingRight";DvtPanZoomControlPanel.CP_PADDING_INNER="paddingInner";DvtPanZoomControlPanel.CP_PANEL_DRAWER_STYLES="panelDrawerStyles";DvtPanZoomControlPanel.CP_IMAGE_WIDTH="imageWidth";DvtPanZoomControlPanel.CP_IMAGE_HEIGHT="imageHeight";
DvtPanZoomControlPanel.CP_CENTER_BUTTON_DISPLAYED="centerButtonDisplayed";
DvtPanZoomControlPanel.prototype.Init=function(a,b,c,d,e,g){DvtPanZoomControlPanel.superclass.Init.call(this,a,null,"_controlPanel");this._bMouseOver=this._bMouseDragPanning=!1;this._panZoomCanvas=b;this._tooltipManager=a.getTooltipManager();this._resources=new DvtPanZoomControlPanelResources(d);this._controls=null==e?DvtPanZoomControlPanel.CONTROLS_ALL:e;this._styleMap=null;if(this._view=g)this._styleMap=this._view.getControlPanelStyleMap(),this._styleMap[DvtPanZoomControlPanel.CP_CENTER_BUTTON_DISPLAYED]||
(this._controls&=~DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON,this._view.setDisplayedControls(this._controls));this._zoomLevels=DvtZoomSlider.DEFAULT_ZOOM_LEVELS;this._zoomSliderMinScale=0;this._zoomSliderMaxScale=1;this._state=DvtPanZoomControlPanel.STATE_COLLAPSED;this._bTransition=!1;this._buttonImages=c;this._bgAlpha=this._styleMap[DvtPanZoomControlPanel.BG_ALPHA];this._eventManager=new DvtPanZoomControlPanelEventManager(a,null,g);this._eventManager.addRolloverType(DvtPanZoomControlPanel);this._eventManager.addListeners(this);
this._eventManager.associate(this,this);a=this.RenderCollapsed();this._background.setAlpha(this._bgAlpha);this._frame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA]);this.addChild(a);this.tabChildren=!1;this.setPixelHinting(!0)};DvtPanZoomControlPanel.prototype.setState=function(a){this._state!=a&&(this.toggleExpandCollapse(),this._state=a,this._applyAlphasRollout())};DvtPanZoomControlPanel.prototype.getState=function(){return this._state};
DvtPanZoomControlPanel.prototype.setZoomLevels=function(a){a||(a=ZoomSlider.DEFAULT_ZOOM_LEVELS);this._zoomLevels=a;this.replaceZoomSlider()};DvtPanZoomControlPanel.prototype.getZoomLevels=function(){return this._zoomLevels};DvtPanZoomControlPanel.prototype.setZoomLevelsTooltips=function(a){this._zoomLevelsTooltips=a;this._zoomSlider&&this._zoomSlider.setZoomLevelsTooltips(a)};DvtPanZoomControlPanel.prototype.getZoomLevelsTooltips=function(){return this._zoomLevelsTooltips};
DvtPanZoomControlPanel.prototype.setTooltipManager=function(a){this._tooltipManager=a;this._zoomSlider&&this._zoomSlider.setTooltipManager(a);this._zoomInButton&&this._zoomInButton.setTooltipManager(a);this._zoomOutButton&&this._zoomOutButton.setTooltipManager(a);this._zoomToFitButton&&this._zoomToFitButton.setTooltipManager(a)};DvtPanZoomControlPanel.prototype.getTooltipManager=function(){return this._tooltipManager};
DvtPanZoomControlPanel.prototype.setResources=function(a){this._resources=a;this._zoomSlider&&this._zoomSlider.setResources(a);this._zoomInButton&&this._zoomInButton.setResources(a);this._zoomOutButton&&this._zoomOutButton.setResources(a);this._zoomToFitButton&&this._zoomToFitButton.setResources(a)};DvtPanZoomControlPanel.prototype.getResources=function(){return this._resources};DvtPanZoomControlPanel.prototype.setZoomSliderMinScale=function(a){this._zoomSliderMinScale=a;this.replaceZoomSlider()};
DvtPanZoomControlPanel.prototype.getZoomSliderMinScale=function(){return this._zoomSliderMinScale};DvtPanZoomControlPanel.prototype.setZoomSliderMaxScale=function(a){this._zoomSliderMaxScale=a;this.replaceZoomSlider()};DvtPanZoomControlPanel.prototype.getZoomSliderMaxScale=function(){return this._zoomSliderMaxScale};
DvtPanZoomControlPanel.prototype.mouseDragPanningStarted=function(){this._bMouseDragPanning=!0;this._background.setMouseEnabled(!1);this._frame.setMouseEnabled(!1);this._background.setAlpha(this._styleMap[DvtPanZoomControlPanel.BG_DRAG_ALPHA]);this._frame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_DRAG_ALPHA])};
DvtPanZoomControlPanel.prototype.mouseDragPanningEnded=function(){this._bMouseDragPanning=!1;this._background.setMouseEnabled(!0);this._frame.setMouseEnabled(!0);this._bMouseOver?this.HandleRollOver(null):this.HandleRollOut(null)};DvtPanZoomControlPanel.prototype.rotateControlPanelDisplayObject=function(a){a.setRotation(Math.PI);var b=DvtButtonLAFUtils._getDimForced(this._context,a);a.setTranslate(a.getTranslateX()+b.w,a.getTranslateY()+b.h)};DvtPanZoomControlPanel.prototype.isSingleHorzRow=function(){return!0};
DvtPanZoomControlPanel.prototype.getViewPanelHeight=function(){var a=0,a=this.isSingleHorzRow()?DvtPanZoomControlPanelLAFUtils.getViewPanelHalfHeight():DvtPanZoomControlPanelLAFUtils.getViewPanelHeight(),b=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_TAB_SIZE,0);return Math.max(b,a)};DvtPanZoomControlPanel.prototype.getViewPanelWidth=function(){return DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_TAB_SIZE,0)};
DvtPanZoomControlPanel.prototype.RenderCollapsed=function(){var a=this.getCtx(),b=new DvtContainer(a),c=this.getViewPanelHeight(),d=DvtAgent.isRightToLeft(a);this._background=DvtPanZoomControlPanelLAFUtils.createEmptyViewClosedShape(a,c,this._styleMap,d);this._frame=DvtPanZoomControlPanelLAFUtils.createEmptyViewClosedFrame(a,c,this._styleMap,d);this._collapsedDim=DvtButtonLAFUtils._getDimForced(a,this._frame);this._expandButton=DvtButtonLAFUtils.createExpandButton(this.getCtx(),this._buttonImages,
this.getViewPanelHeight(),this._styleMap,d);this._expandButton.setCallback(this.HandleExpandClick,this);this._expandButton.setCursor(DvtSelectionEffectUtils.getSelectingCursor());this._eventManager.associate(this._expandButton,new DvtPanZoomControlPanelEventHandlerProxy(this,null,null,null,null,null,this.getResources().getControlPanelExpandTooltip()));this._frame.addChild(this._expandButton);b.addChild(this._background);b.addChild(this._frame);return b};
DvtPanZoomControlPanel.prototype._addZoomToFitButton=function(a,b){if(0!=(this._controls&DvtPanZoomControlPanel.CONTROLS_ZOOM_TO_FIT_BUTTON)){var c=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtPanZoomControlPanel.CP_PADDING_INNER,0),d=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtPanZoomControlPanel.CP_PADDING_LEFT,0);this._zoomToFitButton=DvtButtonLAFUtils.createZoomToFitButton(this.getCtx(),this._panZoomCanvas,this.getResources(),this._eventManager,this._buttonImages,this._styleMap);this._zoomToFitButton.setTranslate(d,
this._zoomToFitButton.getTranslateY()+b);d=DvtButtonLAFUtils._getDimForced(this.getCtx(),this._zoomToFitButton);a.addChild(this._zoomToFitButton);b+=d.h;b+=c}return b};
DvtPanZoomControlPanel.prototype._addZoomControls=function(a,b){var c=null,d=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtPanZoomControlPanel.CP_PADDING_INNER,0),e=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtPanZoomControlPanel.CP_PADDING_LEFT,0);0!=(this._controls&DvtPanZoomControlPanel.CONTROLS_ZOOM)&&(this._zoomInButton=DvtButtonLAFUtils.createZoomInButton(this.getCtx(),this._panZoomCanvas,this.getResources(),this._eventManager,this._buttonImages,this._styleMap),this._zoomInButton.setTranslate(e,
this._zoomInButton.getTranslateY()+b),c=DvtButtonLAFUtils._getDimForced(this.getCtx(),this._zoomInButton),a.addChild(this._zoomInButton),b+=c.h+d,this.isZoomSliderShown()&&(this._zoomSlider=this.createZoomSlider(),this._zoomSlider.setTranslate(e,this._zoomSlider.getTranslateY()+b),c=DvtButtonLAFUtils._getDimForced(this.getCtx(),this._zoomSlider),a.addChild(this._zoomSlider),b+=c.h+d),this._zoomOutButton=DvtButtonLAFUtils.createZoomOutButton(this.getCtx(),this._panZoomCanvas,this.getResources(),this._eventManager,
this._buttonImages,this._styleMap),this._zoomOutButton.setTranslate(e,this._zoomOutButton.getTranslateY()+b),c=DvtButtonLAFUtils._getDimForced(this.getCtx(),this._zoomOutButton),a.addChild(this._zoomOutButton),b+=c.h,this.enableZoomControls());return b};
DvtPanZoomControlPanel.prototype._createVBarBackground=function(a,b,c,d){var e=this.getCtx();if(b){var g=b.getNumChildren(),g=1<g||null==this._zoomToFitButton||1<c||0<c&&1==g,h=null;this._styleMap&&this._styleMap[DvtPanZoomControlPanel.CP_PANEL_DRAWER_STYLES]&&(h=0<c?DvtPanZoomControlPanelLAFUtils.OPEN_TOP:DvtPanZoomControlPanelLAFUtils.OPEN_RIGHT);a=DvtButtonLAFUtils._getDimForced(e,a);d+=4;a=g?d:Math.max(a.h,d);c=DvtStyleUtils.getStyle(this._styleMap.vbar,DvtPanZoomControlPanel.CP_PADDING_BOTTOM,
0);a+=c;c=DvtPanZoomControlPanelLAFUtils.renderEmptyZoomShape(e,a,this._styleMap,h,this.getViewPanelHeight());e=DvtPanZoomControlPanelLAFUtils.renderEmptyZoomFrame(e,a,g,this._styleMap,h,this.getViewPanelHeight());c.setTranslate(b.getTranslateX(),b.getTranslateY());this._background.addChild(c);b.addChildAt(e,0)}return d};
DvtPanZoomControlPanel.prototype._positionVBarElements=function(a,b){var c=this.getCtx(),d=DvtAgent.isRightToLeft(c),e=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);!this._additionalContent&&0==(this._controls&DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON)?d?(a.setTranslateX(0-a.getTranslateX()),a.setTranslateY(0),b&&(DvtButtonLAFUtils._getDimForced(c,b),a.setTranslateX(a.getTranslateX()-e),b.setTranslateY(0))):b?(c=this.getViewPanelWidth(),b.setTranslate(0,
0),a.setTranslate(a.getTranslateX()+c,0)):a.setTranslate(a.getTranslateX(),0):d&&b&&(c=DvtButtonLAFUtils._getDimForced(c,a),d=this.getViewPanelWidth(),a.setTranslateX(0),b.setTranslateX(c.w+c.x-d))};
DvtPanZoomControlPanel.prototype._createHBarPanControl=function(a,b){var c=this.getCtx(),d=this.isSingleHorzRow();0!=(this._controls&DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON)&&(this._panControl=DvtButtonLAFUtils.createPanControl(c,this._panZoomCanvas,this.getResources(),this._controls,this._buttonImages,this._styleMap),d&&(this._panControlUnderlay=DvtButtonLAFUtils.createPanButtonUnderlay(c,this._styleMap),this._panControlUnderlay2=DvtButtonLAFUtils.createPanButtonUnderlay(c,this._styleMap),
a.addChild(this._panControlUnderlay2),a.addChild(this._panControlUnderlay)),a.addChild(this._panControl),b++);return b};DvtPanZoomControlPanel.prototype._createHBarAdditionalContent=function(a,b){var c=this.getCtx();this._additionalContent=new DvtContainer(c);this.PopulateHorzContentBar(this._additionalContent);0<this._additionalContent.getNumChildren()?(a.addChild(this._additionalContent),b++):this._additionalContent=null;return b};
DvtPanZoomControlPanel.prototype._createHBarCollapseButton=function(a){this._collapseButton=DvtButtonLAFUtils.createCollapseButton(this.getCtx(),this._buttonImages,this.getViewPanelHeight(),this._styleMap,DvtAgent.isRightToLeft(this.getCtx()));this._collapseButton.setCallback(this.HandleCollapseClick,this);this._collapseButton.setCursor(DvtSelectionEffectUtils.getSelectingCursor());this._eventManager.associate(this._collapseButton,new DvtPanZoomControlPanelEventHandlerProxy(this,null,null,null,null,
null,this.getResources().getControlPanelCollapseTooltip()));a.addChild(this._collapseButton)};
DvtPanZoomControlPanel.prototype._positionHBarElements=function(a,b){var c=this._context,d=null,e=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),g=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_BUTTON_WIDTH,0),h=this.getViewPanelWidth(),k=this.getViewPanelHeight(),m=DvtStyleUtils.getStyle(this._styleMap.hbar,DvtPanZoomControlPanel.CP_PADDING_LEFT,0),n=DvtStyleUtils.getStyle(this._styleMap.hbar,DvtPanZoomControlPanel.CP_PADDING_INNER,0);
a?(this._collapseButton.setTranslateX(0),b+=e,this._additionalContent&&(d=DvtButtonLAFUtils._getDimForced(c,this._additionalContent),b+=n,this._additionalContent.setTranslate(b,(k-d.h)/2),b+=Math.max(d.w,g)),this._panControl&&(b+=n,d=3.5,this._panControl.setTranslate(b,d),this._panControlUnderlay&&this._panControlUnderlay.setTranslate(b,d),this._panControlUnderlay2&&this._panControlUnderlay2.setTranslate(b,d),d=DvtButtonLAFUtils._getDimForced(c,this._panControl),b+=d.w),b+=m):(this._panControl&&(b+=
m,d=3.5,this._panControl.setTranslate(m,d),this._panControlUnderlay&&this._panControlUnderlay.setTranslate(m,d),this._panControlUnderlay2&&this._panControlUnderlay2.setTranslate(m,d),d=DvtButtonLAFUtils._getDimForced(c,this._panControl),b+=n+d.w,b+=1),this._additionalContent&&(d=DvtButtonLAFUtils._getDimForced(c,this._additionalContent),0==b&&(b+=m),this._additionalContent.setTranslate(b,(k-d.h)/2),b+=d.w,b=Math.max(b+n,h)),this._collapseButton.setTranslateX(b),b+=e);return b};
DvtPanZoomControlPanel.prototype._createHBarBackground=function(a,b,c,d){var e=this._context,g=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),h=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_TAB_SIZE,0),k=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_PANEL_DRAWER_STYLES,null),m=k?d:d-g,n=this.getViewPanelHeight(),o=0,d=0;k?k&&0==b&&(d=c?-h:h):(o=c?g:0,d=c?g:0);if(0<b||k)g=null,g=parseInt(DvtStyleUtils.getStyle(this._styleMap,
DvtCSSStyle.BORDER_RADIUS,0)),g=k?DvtPanZoomControlPanelLAFUtils.makeViewOpenShapeHelperOpenSide(e,g,m,n,0<b?DvtPanZoomControlPanelLAFUtils.OPEN_BOTTOM:DvtPanZoomControlPanelLAFUtils.OPEN_LEFT,h):DvtPanZoomControlPanelLAFUtils.makeViewOpenShapeHelper(e,g,m-2*g,n-2*g,0,0,!c),g.setSolidStroke(DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_COLOR,null)),g.setFill(null),g.setTranslateX(a.getTranslateX()+o),a.addChildAt(g,0),b=DvtPanZoomControlPanelLAFUtils.createEmptyViewOpenShape(e,m,this.getViewPanelHeight(),
!c,this._styleMap),b.setTranslate(a.getTranslateX()+d,a.getTranslateY()),this._background.addChild(b)};
DvtPanZoomControlPanel.prototype.RenderExpanded=function(){var a=this.getCtx(),b=new DvtContainer(a);this._background=new DvtContainer(a);this._frame=new DvtContainer(a);b.addChild(this._background);b.addChild(this._frame);var c=DvtAgent.isRightToLeft(a),d=0,e=new DvtContainer(a),g;g=this._createHBarPanControl(e,0);this._createHBarCollapseButton(e);g=this._createHBarAdditionalContent(e,g);var d=this._positionHBarElements(c,d),h=null,k=this._getVBarButtonsOffsetY(g);this.isSingleHorzRow()&&0!=(this._controls&
DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON)&&(k+=DvtPanZoomControlPanelLAFUtils.getViewPanelHeight()-this.getViewPanelHeight());if(0!=(this._controls&DvtPanZoomControlPanel.CONTROLS_ZOOM_TO_FIT_BUTTON)||0!=(this._controls&DvtPanZoomControlPanel.CONTROLS_ZOOM))h=new DvtContainer(a),h.setTranslateY(e.getTranslateY()+this.getViewPanelHeight()),k=this._addZoomToFitButton(h,k),k=this._addZoomControls(h,k),this._frame.addChild(h);this._createHBarBackground(e,g,c,d);this._frame.addChild(e);this._positionVBarElements(e,
h,k);this._createVBarBackground(e,h,g,k);this._expandedDim=DvtButtonLAFUtils._getDimForced(a,b);return b};DvtPanZoomControlPanel.prototype.PopulateHorzContentBar=function(){};DvtPanZoomControlPanel.prototype.toggleExpandCollapse=function(){this._bTransition||(this._state===DvtPanZoomControlPanel.STATE_EXPANDED?this._doCollapse():this._state===DvtPanZoomControlPanel.STATE_COLLAPSED&&this._doExpand())};DvtPanZoomControlPanel.prototype.getCollapsedDim=function(){return this._collapsedDim};
DvtPanZoomControlPanel.prototype.getExpandedDim=function(){return this._expandedDim};DvtPanZoomControlPanel.prototype.HandleExpandClick=function(a){DvtEventManager.consumeEvent(a);this._bTransition||(this._doExpand(),this.getTooltipManager()&&this.getTooltipManager().hideTooltip())};
DvtPanZoomControlPanel.prototype._doExpand=function(){this._bTransition=!0;this.setMouseEnabled(!1);var a=this.RenderExpanded();this.addChild(a);this._applyAlphasForMouse();this.transitionExpand(this.getChildAt(0),a);this._state=DvtPanZoomControlPanel.STATE_EXPANDED;this.fireExpandEvent()};DvtPanZoomControlPanel.prototype._applyAlphasForMouse=function(){var a=!1;this.getCtx().getStage()&&(a=!0);a?this._applyAlphasRollover():this._applyAlphasRollout()};
DvtPanZoomControlPanel.prototype.HandleCollapseClick=function(a){DvtEventManager.consumeEvent(a);this._bTransition||this._doCollapse()};DvtPanZoomControlPanel.prototype._doCollapse=function(){this._bTransition=!0;var a=this.RenderCollapsed();this.addChild(a);this._applyAlphasForMouse();this.transitionCollapse(this.getChildAt(0),a);this._state=DvtPanZoomControlPanel.STATE_COLLAPSED;this.fireCollapseEvent()};
DvtPanZoomControlPanel.prototype.transitionExpand=function(a,b){var c=a.getDimensions(),d=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);if(c&&0!=c.w){var e=b.getDimensions(),g=new DvtAnimator(this.getCtx(),0.25);a.setAlpha(1);b.setAlpha(0);g.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,0);g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getAlpha,b.setAlpha,1);b.setScaleX(c.w/e.w);g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getScaleX,b.setScaleX,1);if(DvtAgent.isRightToLeft(this.getCtx())){b.setTranslateX(a.getTranslateX());
var h=e.w+e.x;g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getTranslateX,b.setTranslateX,a.getTranslateX()+d-h)}b.setScaleY(c.h/e.h);g.addProp(DvtAnimator.TYPE_NUMBER,b,b.getScaleY,b.setScaleY,1);g.setOnEnd(function(){a.getParent().removeChild(a);this._bTransition=!1;this.setMouseEnabled(!0)},this);g.play()}else a.getParent().removeChild(a),DvtAgent.isRightToLeft(this.getCtx())?(e=DvtDisplayableUtils._getDimForced(this.getCtx(),b),h=Math.floor(e.w+e.x),c=d-h):c=0,b.setTranslate(c,0)};
DvtPanZoomControlPanel.prototype.transitionCollapse=function(a,b){var c=new DvtAnimator(this.getCtx(),0.25);a.setAlpha(1);b.setAlpha(0);c.addProp(DvtAnimator.TYPE_NUMBER,a,a.getAlpha,a.setAlpha,0);c.addProp(DvtAnimator.TYPE_NUMBER,b,b.getAlpha,b.setAlpha,1);var d=this.getCollapsedDim(),e=this.getExpandedDim();c.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleX,a.setScaleX,d.w/e.w);DvtAgent.isRightToLeft(this.getCtx())&&c.addProp(DvtAnimator.TYPE_NUMBER,a,a.getTranslateX,a.setTranslateX,b.getTranslateX());
c.addProp(DvtAnimator.TYPE_NUMBER,a,a.getScaleY,a.setScaleY,d.h/e.h);c.setOnEnd(function(){a.getParent().removeChild(a);this._bTransition=!1},this);c.play()};DvtPanZoomControlPanel.prototype.fireExpandEvent=function(){this.FireListener(new DvtPanZoomControlPanelEvent(DvtPanZoomControlPanelEvent.SUBTYPE_SHOW));return!0};DvtPanZoomControlPanel.prototype.fireCollapseEvent=function(){this.FireListener(new DvtPanZoomControlPanelEvent(DvtPanZoomControlPanelEvent.SUBTYPE_HIDE));return!0};
DvtPanZoomControlPanel.prototype.adjustArrowsIconForBiDi=function(a,b){var c=this.findLoader(a);c&&c.setTranslateX(c.getTranslateX()+b)};DvtPanZoomControlPanel.prototype.findLoader=function(a){for(var b=a.getNumChildren(),c,d=0;d<b;d++){c=a.getChildAt(d);if(c instanceof DvtImage)return c;if(c instanceof DvtContainer)return this.findLoader(c)}return null};DvtPanZoomControlPanel.prototype.HandleRollOver=function(){this._bMouseOver=!0;this._bMouseDragPanning||this._applyAlphasRollover()};
DvtPanZoomControlPanel.prototype.HandleRollOut=function(){this._bMouseOver=!1;this._bMouseDragPanning||this._applyAlphasRollout()};DvtPanZoomControlPanel.prototype._applyAlphasRollover=function(){this._background.setAlpha(this._styleMap[DvtPanZoomControlPanel.BG_ROLLOVER_ALPHA]);this._frame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOVER_ALPHA]);this._panControlUnderlay&&this._panControlUnderlay.setAlpha(this._styleMap[DvtPanZoomControlPanel.BG_ROLLOVER_ALPHA])};
DvtPanZoomControlPanel.prototype._applyAlphasRollout=function(){this._background.setAlpha(this._bgAlpha);this._frame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA]);this._panControlUnderlay&&this._panControlUnderlay.setAlpha(this._bgAlpha)};DvtPanZoomControlPanel.prototype.isZoomSliderShown=function(){return!1};DvtPanZoomControlPanel.prototype.isPanControlShown=function(){return 0<(this._controls&DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON)};
DvtPanZoomControlPanel.prototype.getDimensions=function(){this._dim||(this._dim=DvtPanZoomControlPanel.superclass.getDimensions.call(this));return this._dim};DvtPanZoomControlPanel.prototype.renderComponent=function(){};DvtPanZoomControlPanel.prototype.getButtonImages=function(){return this._buttonImages};
DvtPanZoomControlPanel.prototype._getVBarButtonsOffsetY=function(a){return this._controls&DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON||this._styleMap&&this._styleMap[DvtPanZoomControlPanel.CP_PANEL_DRAWER_STYLES]&&0==a?DvtStyleUtils.getStyle(this._styleMap.vbar,DvtPanZoomControlPanel.CP_PADDING_TOP,0):0};
DvtPanZoomControlPanel.prototype.enableZoomControls=function(){var a=this._panZoomCanvas.getZoom(),b=this._panZoomCanvas.getNextZoomLevel(a),c=this._panZoomCanvas.getPrevZoomLevel(a);this._zoomInButton&&this._zoomInButton.setEnabled(a!=b);this._zoomOutButton&&this._zoomOutButton.setEnabled(a!=c)};DvtPanZoomControlPanel.prototype.enableZoomInControl=function(a){this._zoomInButton&&this._zoomInButton.setEnabled(a)};
DvtPanZoomControlPanel.prototype.enableZoomOutControl=function(a){this._zoomOutButton&&this._zoomOutButton.setEnabled(a)};var DvtPanZoomControlPanelDefaults={};DvtObj.createSubclass(DvtPanZoomControlPanelDefaults,DvtObj,"DvtPanZoomControlPanelDefaults");
DvtPanZoomControlPanelDefaults.SKIN_ALTA={"fill-type":"solid",backgroundAlpha:1,backgroundDragAlpha:1,borderDragAlpha:1,panelDrawerStyles:!0,buttonWidth:42,buttonHeight:42,buttonRadius:0,openCloseButtonWidth:42,tabSize:42,paddingTop:15,paddingSide:-1,imageWidth:24,imageHeight:24,centerButtonDisplayed:!1,scrollbarBackground:"linear-gradient(bottom, #dce2e7 0%, #f8f8f8 8%)",scrollbarBorderColor:"#dce2e7",scrollbarHandleColor:"#abb0b4",scrollbarHandleHoverColor:"#333333",scrollbarHandleActiveColor:"#333333",
comboBox:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:0,itemHeight:30,imagePadding:0,itemPadding:10},vbar:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:0},hbar:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:0}};DvtPanZoomControlPanelDefaults.SKIN_SKYROS={"fill-type":"solid"};
DvtPanZoomControlPanelDefaults.DEFAULT={"fill-type":"gradient","border-color":"#ffffff","background-color":"#ffffff","border-radius":6,backgroundAlpha:0.5,backgroundHoverAlpha:1,backgroundDragAlpha:0.5,borderAlpha:1,borderHoverAlpha:1,borderDragAlpha:0.5,tabSize:26,buttonWidth:22,buttonHeight:22,buttonRadius:3,paddingTop:5,paddingSide:5,imageWidth:22,imageHeight:20,openCloseButtonWidth:10,centerButtonDisplayed:!0,comboBox:{paddingTop:2,paddingBottom:6,paddingLeft:3,paddingRight:3,paddingInner:2,itemHeight:22,
radius:4,imagePadding:2,itemPadding:7},vbar:{paddingTop:2.5,paddingBottom:2.5,paddingLeft:2,paddingRight:2,paddingInner:2},hbar:{paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,paddingInner:2}};DvtPanZoomControlPanelDefaults.calcOptions=function(a){var b=DvtPanZoomControlPanelDefaults._getDefaults(a);return a?DvtJSONUtils.merge(a,b):b};
DvtPanZoomControlPanelDefaults._getDefaults=function(a){var b=null;return b=a&&"skyros"===a.skin?DvtJSONUtils.merge(DvtPanZoomControlPanelDefaults.SKIN_SKYROS,DvtPanZoomControlPanelDefaults.DEFAULT):a&&"alta"===a.skin?DvtJSONUtils.merge(DvtPanZoomControlPanelDefaults.SKIN_ALTA,DvtPanZoomControlPanelDefaults.DEFAULT):DvtJSONUtils.clone(DvtPanZoomControlPanelDefaults.DEFAULT)};var DvtPanZoomControlPanelResources=function(a){this.Init(a)};
DvtObj.createSubclass(DvtPanZoomControlPanelResources,DvtObj,"DvtPanZoomControlPanelResources");
DvtPanZoomControlPanelResources.prototype.Init=function(a){a?(this._controlPanelExpandTooltip=a.getAttr("cpe"),this._controlPanelCollapseTooltip=a.getAttr("cpc"),this._panControlCenterTooltip=a.getAttr("pcc"),this._panControlTooltip=a.getAttr("pc"),this._zoomToFitTooltip=a.getAttr("ztf"),this._zoomInTooltip=a.getAttr("zi"),this._zoomOutTooltip=a.getAttr("zo"),this._panelCardTooltip=a.getAttr("pcs"),this._layoutHierVertTopTooltip=a.getAttr("lhvt"),this._layoutHierHorzLeftTooltip=a.getAttr("lhhl"),
this._layoutTreeTooltip=a.getAttr("lt"),this._layoutRadialTooltip=a.getAttr("lr"),this._layoutCircleTooltip=a.getAttr("lc"),this._layoutTooltip=a.getAttr("lo")):(this._controlPanelExpandTooltip="Show Control Panel (/)",this._controlPanelCollapseTooltip="Hide (/)",this._panControlCenterTooltip="Zoom and Center (Ctrl+Alt+0)",this._panControlTooltip="Pan",this._zoomToFitTooltip="Zoom to Fit (0)",this._zoomInTooltip="Zoom In (+)",this._zoomOutTooltip="Zoom Out (-)",this._panelCardTooltip="View",this._layoutHierVertTopTooltip=
"Vertical, Top Down",this._layoutHierHorzLeftTooltip="Horizontal, Left-to-Right",this._layoutTreeTooltip="Tree",this._layoutRadialTooltip="Radial",this._layoutCircleTooltip="Circle",this._layoutTooltip="Layout")};DvtPanZoomControlPanelResources.prototype.setControlPanelExpandTooltip=function(a){this._controlPanelExpandTooltip=a};DvtPanZoomControlPanelResources.prototype.getControlPanelExpandTooltip=function(){return this._controlPanelExpandTooltip};
DvtPanZoomControlPanelResources.prototype.setControlPanelCollapseTooltip=function(a){this._controlPanelCollapseTooltip=a};DvtPanZoomControlPanelResources.prototype.getControlPanelCollapseTooltip=function(){return this._controlPanelCollapseTooltip};DvtPanZoomControlPanelResources.prototype.setPanControlCenterTooltip=function(a){this._panControlCenterTooltip=a};DvtPanZoomControlPanelResources.prototype.getPanControlCenterTooltip=function(){return this._panControlCenterTooltip};
DvtPanZoomControlPanelResources.prototype.setPanControlTooltip=function(a){this._panControlTooltip=a};DvtPanZoomControlPanelResources.prototype.getPanControlTooltip=function(){return this._panControlTooltip};DvtPanZoomControlPanelResources.prototype.setZoomToFitTooltip=function(a){this._zoomToFitTooltip=a};DvtPanZoomControlPanelResources.prototype.getZoomToFitTooltip=function(){return this._zoomToFitTooltip};
DvtPanZoomControlPanelResources.prototype.setZoomInTooltip=function(a){this._zoomInTooltip=a};DvtPanZoomControlPanelResources.prototype.getZoomInTooltip=function(){return this._zoomInTooltip};DvtPanZoomControlPanelResources.prototype.setZoomOutTooltip=function(a){this._zoomOutTooltip=a};DvtPanZoomControlPanelResources.prototype.getZoomOutTooltip=function(){return this._zoomOutTooltip};DvtPanZoomControlPanelResources.prototype.setPanelCardTooltip=function(a){this._panelCardTooltip=a};
DvtPanZoomControlPanelResources.prototype.getPanelCardTooltip=function(){return this._panelCardTooltip};DvtPanZoomControlPanelResources.prototype.setLayoutHierVertTopTooltip=function(a){this._layoutHierVertTopTooltip=a};DvtPanZoomControlPanelResources.prototype.getLayoutHierVertTopTooltip=function(){return this._layoutHierVertTopTooltip};DvtPanZoomControlPanelResources.prototype.setLayoutHierHorzLeftTooltip=function(a){this._layoutHierHorzLeftTooltip=a};
DvtPanZoomControlPanelResources.prototype.getLayoutHierHorzLeftTooltip=function(){return this._layoutHierHorzLeftTooltip};DvtPanZoomControlPanelResources.prototype.setLayoutTreeTooltip=function(a){this._layoutTreeTooltip=a};DvtPanZoomControlPanelResources.prototype.getLayoutTreeTooltip=function(){return this._layoutTreeTooltip};DvtPanZoomControlPanelResources.prototype.setLayoutRadialTooltip=function(a){this._layoutRadialTooltip=a};
DvtPanZoomControlPanelResources.prototype.getLayoutRadialTooltip=function(){return this._layoutRadialTooltip};DvtPanZoomControlPanelResources.prototype.setLayoutCircleTooltip=function(a){this._layoutCircleTooltip=a};DvtPanZoomControlPanelResources.prototype.getLayoutCircleTooltip=function(){return this._layoutCircleTooltip};DvtPanZoomControlPanelResources.prototype.setLayoutTooltip=function(a){this._layoutTooltip=a};DvtPanZoomControlPanelResources.prototype.getLayoutTooltip=function(){return this._layoutTooltip};
var DvtPanZoomControlPanelEventManager=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPanZoomControlPanelEventManager,DvtEventManager,"DvtPanZoomControlPanelEventManager");DvtPanZoomControlPanelEventManager.prototype.OnMouseDown=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtPanZoomControlPanelEventManager.superclass.OnMouseDown.call(this,a);b&&(b.HandleMouseDown&&b.HandleMouseDown(a),a.stopPropagation())};
DvtPanZoomControlPanelEventManager.prototype.OnMouseUp=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtPanZoomControlPanelEventManager.superclass.OnMouseUp.call(this,a);b&&(b.HandleMouseUp&&b.HandleMouseUp(a),a.stopPropagation())};
DvtPanZoomControlPanelEventManager.prototype.OnMouseOut=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtPanZoomControlPanelEventManager.superclass.OnMouseOut.call(this,a);b&&(b.HandleMouseOut&&b.HandleMouseOut(a),a.stopPropagation())};DvtPanZoomControlPanelEventManager.prototype.OnClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));DvtPanZoomControlPanelEventManager.superclass.OnClick.call(this,a);b&&(b.HandleClick&&b.HandleClick(a),a.stopPropagation())};
DvtPanZoomControlPanelEventManager.prototype.OnRollOver=function(a){DvtPanZoomControlPanelEventManager.superclass.OnRollOver.call(this,a);var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&b.HandleRollOver&&b.HandleRollOver(a)};DvtPanZoomControlPanelEventManager.prototype.OnRollOut=function(a){DvtPanZoomControlPanelEventManager.superclass.OnRollOut.call(this,a);var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&b.HandleRollOut&&b.HandleRollOut(a)};
DvtPanZoomControlPanelEventManager.prototype.OnComponentTouchClick=function(a){var b=this.GetLogicalObject(this.GetCurrentTargetForEvent(a));b&&(b.HandleClick&&b.HandleClick(a),a.stopPropagation())};DvtPanZoomControlPanelEventManager.prototype.HandleImmediateTouchStartInternal=function(a){a.blockTouchHold();DvtEventManager.consumeEvent(a)};var DvtPanZoomControlPanelEventHandlerProxy=function(a,b,c,d,e,g,h){this.Init(a,b,c,d,e,g,h)};
DvtObj.createSubclass(DvtPanZoomControlPanelEventHandlerProxy,DvtObj,"DvtPanZoomControlPanelEventHandlerProxy");DvtPanZoomControlPanelEventHandlerProxy.prototype.Init=function(a,b,c,d,e,g,h){this._callbackObj=a;this._handleClick=b;this._handleMouseUp=d;this._handleMouseDown=c;this._handleMouseOut=e;this._handleMouseOver=g;this._tooltip=h};DvtPanZoomControlPanelEventHandlerProxy.prototype.HandleClick=function(a){this._handleClick&&this._handleClick.call(this._callbackObj,a)};
DvtPanZoomControlPanelEventHandlerProxy.prototype.HandleMouseDown=function(a){this._handleMouseDown&&this._handleMouseDown.call(this._callbackObj,a)};DvtPanZoomControlPanelEventHandlerProxy.prototype.HandleMouseUp=function(a){this._handleMouseUp&&this._handleMouseUp.call(this._callbackObj,a)};DvtPanZoomControlPanelEventHandlerProxy.prototype.HandleMouseOut=function(a){this._handleMouseOut&&this._handleMouseOut.call(this._callbackObj,a)};
DvtPanZoomControlPanelEventHandlerProxy.prototype.HandleMouseOver=function(a){this._handleMouseOver&&this._handleMouseOver.call(this._callbackObj,a)};DvtPanZoomControlPanelEventHandlerProxy.prototype.getTooltip=function(){return this._tooltip};var DvtPanZoomControlPanelLAFUtils={};DvtObj.createSubclass(DvtPanZoomControlPanelLAFUtils,DvtObj,"DvtPanZoomControlPanelLAFUtils");DvtPanZoomControlPanelLAFUtils.OPEN_TOP="top";DvtPanZoomControlPanelLAFUtils.OPEN_RIGHT="right";
DvtPanZoomControlPanelLAFUtils.OPEN_LEFT="left";DvtPanZoomControlPanelLAFUtils.OPEN_BOTTOM="bottom";DvtPanZoomControlPanelLAFUtils.VIEW_PANEL_HEIGHT=47;DvtPanZoomControlPanelLAFUtils.VIEW_PANEL_HALF_HEIGHT=26;DvtPanZoomControlPanelLAFUtils.SIN_PI_4=Math.sin(Math.PI/4);DvtPanZoomControlPanelLAFUtils.TAN_PI_8=Math.tan(Math.PI/8);DvtPanZoomControlPanelLAFUtils.getViewPanelHeight=function(){return DvtPanZoomControlPanelLAFUtils.VIEW_PANEL_HEIGHT};
DvtPanZoomControlPanelLAFUtils.getViewPanelHalfHeight=function(){return DvtPanZoomControlPanelLAFUtils.VIEW_PANEL_HALF_HEIGHT};DvtPanZoomControlPanelLAFUtils.createEmptyViewOpenShape=function(a,b,c,d,e){b||(b=86);c||(c=47);void 0===d&&(d=!0);var g=parseInt(DvtStyleUtils.getStyle(e,DvtCSSStyle.BORDER_RADIUS,0)),a=DvtPanZoomControlPanelLAFUtils.makeViewOpenShapeHelper(a,g,b-2*g,c-2*g,0,0,d);a.setSolidFill(DvtStyleUtils.getStyle(e,DvtCSSStyle.BACKGROUND_COLOR,null));return a};
DvtPanZoomControlPanelLAFUtils.makeViewOpenShapeHelper=function(a,b,c,d,e,g,h){var e=c+b,g=d+b,k=DvtPathUtils.moveTo(e+b,g+b),k=k+DvtPathUtils.lineTo(e-c,g+b),e=e-c,k=k+DvtPathUtils.lineTo(e-b,g+b),k=k+DvtPathUtils.lineTo(e-b,g-d),g=g-d;h?(k+=DvtPathUtils.quadTo(-b+e,-DvtPanZoomControlPanelLAFUtils.TAN_PI_8*b+g,-DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+e,-DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(-DvtPanZoomControlPanelLAFUtils.TAN_PI_8*b+e,-b+g,e,-b+g)+DvtPathUtils.lineTo(e,
-b+g),k+=DvtPathUtils.lineTo(e+c+b,-b+g),k+=DvtPathUtils.lineTo(e+c+b,g+d)):(k+=DvtPathUtils.lineTo(e-b,-b+g),k+=DvtPathUtils.lineTo(e+c,-b+g),e+=c,k+=DvtPathUtils.quadTo(DvtPanZoomControlPanelLAFUtils.TAN_PI_8*b+e,-b+g,DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+e,-DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(b+e,-DvtPanZoomControlPanelLAFUtils.TAN_PI_8*b+g,b+e,g)+DvtPathUtils.lineTo(e+b,g+d));k+=DvtPathUtils.closePath();return new DvtPath(a,k)};
DvtPanZoomControlPanelLAFUtils.createEmptyViewClosedShape=function(a,b,c,d){b||(b=47);var e=parseInt(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_RADIUS,0)),g=DvtStyleUtils.getStyle(c,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),b=Math.max(b,DvtStyleUtils.getStyle(c,DvtPanZoomControlPanel.CP_BUTTON_HEIGHT,b)),d=DvtButtonLAFUtils.GetButtonPathCommands(g,b,e,d),d=d.concat("Z"),a=new DvtPath(a,d,"cls_shape");(d=DvtStyleUtils.getStyle(c,DvtAbstractComponent.TAB_BG_COLOR_INACTIVE,null))||(d=DvtStyleUtils.getStyle(c,
DvtCSSStyle.BACKGROUND_COLOR,null));a.setSolidFill(d);return a};
DvtPanZoomControlPanelLAFUtils.createEmptyViewClosedFrame=function(a,b,c,d){b||(b=47);var e=parseInt(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_RADIUS,0)),g=DvtStyleUtils.getStyle(c,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),b=Math.max(b,DvtStyleUtils.getStyle(c,DvtPanZoomControlPanel.CP_BUTTON_HEIGHT,b)),d=DvtButtonLAFUtils.GetButtonPathCommands(g,b,e,d),d=d.concat("Z"),a=new DvtPath(a,d,"cls_shape");a.setSolidStroke(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_COLOR,null));a.setFill(null);
return a};DvtPanZoomControlPanelLAFUtils.renderEmptyZoomShape=function(a,b,c,d,e){b||(b=137);var g=parseInt(DvtStyleUtils.getStyle(c,DvtCSSStyle.BORDER_RADIUS,0)),h=DvtStyleUtils.getStyle(c,DvtPanZoomControlPanel.CP_TAB_SIZE,0),k=h-2*g,m=b+7-2*g,a=d&&e?DvtPanZoomControlPanelLAFUtils.makeZoomShapeHelperOpenSide(a,g,h,b,d,e):DvtPanZoomControlPanelLAFUtils.makeZoomShapeHelper(a,g,k,m,0,0);a.setSolidFill(DvtStyleUtils.getStyle(c,DvtCSSStyle.BACKGROUND_COLOR,null));return a};
DvtPanZoomControlPanelLAFUtils.renderEmptyZoomFrame=function(a,b,c,d,e,g){b||(b=137);c||(c=!0);var h=parseInt(DvtStyleUtils.getStyle(d,DvtCSSStyle.BORDER_RADIUS,0)),k=DvtStyleUtils.getStyle(d,DvtPanZoomControlPanel.CP_TAB_SIZE,0),m=k-2*h,n=b+7-2*h,o=null,o=e&&g?DvtPanZoomControlPanelLAFUtils.makeZoomShapeHelperOpenSide(a,h,k,b,e,g):DvtPanZoomControlPanelLAFUtils.makeZoomShapeHelper(a,h,m,n,0,0,c);o.setSolidStroke(DvtStyleUtils.getStyle(d,DvtCSSStyle.BORDER_COLOR,null));o.setFill(null);return o};
DvtPanZoomControlPanelLAFUtils.makeZoomShapeHelper=function(a,b,c,d,e,g,h){h||(h=!0);var e=c+b,g=d,k=DvtPathUtils.moveTo(e+b,g),k=h?k+(DvtPathUtils.quadTo(b+e,DvtPanZoomControlPanelLAFUtils.TAN_PI_8*b+g,DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+e,DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(DvtPanZoomControlPanelLAFUtils.TAN_PI_8*b+e,b+g,e,b+g)+DvtPathUtils.lineTo(e,b+g)):k+DvtPathUtils.lineTo(e+b,g+b),k=k+DvtPathUtils.lineTo(e-c,b+g),e=e-c,k=k+(DvtPathUtils.quadTo(-DvtPanZoomControlPanelLAFUtils.TAN_PI_8*
b+e,b+g,-DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+e,DvtPanZoomControlPanelLAFUtils.SIN_PI_4*b+g)+DvtPathUtils.quadTo(-b+e,DvtPanZoomControlPanelLAFUtils.TAN_PI_8*b+g,-b+e,g)+DvtPathUtils.lineTo(-b+e,g)+DvtPathUtils.lineTo(-b+e,g-d)),g=g-d,k=k+(DvtPathUtils.lineTo(e+c+b,g)+DvtPathUtils.lineTo(e+c+b,g+d)+DvtPathUtils.closePath());return new DvtPath(a,k)};
DvtPanZoomControlPanelLAFUtils.makeZoomShapeHelperOpenSide=function(a,b,c,d,e,g){b=DvtPanZoomControlPanelLAFUtils.GetShapePathCommands(c,d,b,e,g);return new DvtPath(a,b)};DvtPanZoomControlPanelLAFUtils.makeViewOpenShapeHelperOpenSide=function(a,b,c,d,e,g){b=DvtPanZoomControlPanelLAFUtils.GetShapePathCommands(c,d,b,e,g);return new DvtPath(a,b)};
DvtPanZoomControlPanelLAFUtils.GetShapePathCommands=function(a,b,c,d,e){var g,h=DvtAgent.isRightToLeft();d==DvtPanZoomControlPanelLAFUtils.OPEN_TOP&&!h&&(g=["M",a,0,"L",a,b-c,"A",c,c,0,0,1,a-c,b,"L",0,b,"L",0,0]);d==DvtPanZoomControlPanelLAFUtils.OPEN_TOP&&h?g=["M",a,0,"L",a,b,"L",c,b,"A",c,c,0,0,1,0,b-c,"L",0,0]:d==DvtPanZoomControlPanelLAFUtils.OPEN_RIGHT&&!h?g=["M",a,e,"L",a,b-c,"A",c,c,0,0,1,a-c,b,"L",0,b,"L",0,0,"L",a,0]:d==DvtPanZoomControlPanelLAFUtils.OPEN_RIGHT&&h?g=["M",0,0,"L",a,0,"L",
a,b,"L",c,b,"A",c,c,0,0,1,0,b-c,"L",0,e]:d==DvtPanZoomControlPanelLAFUtils.OPEN_LEFT&&!h?g=["M",0,0,"L",a-c,0,"A",c,c,0,0,1,a,c,"L",a,b-c,"A",c,c,0,0,1,a-c,b,"L",0,b]:d==DvtPanZoomControlPanelLAFUtils.OPEN_LEFT&&h?g=["M",a,b,"L",c,b,"A",c,c,0,0,1,0,b-c,"L",0,c,"A",c,c,0,0,1,c,0,"L",a,0]:d==DvtPanZoomControlPanelLAFUtils.OPEN_BOTTOM&&!h?g=["M",0,b,"L",0,0,"L",a-c,0,"A",c,c,0,0,1,a,c,"L",a,b-c,"A",c,c,0,0,1,a-c,b,"L",e,b]:d==DvtPanZoomControlPanelLAFUtils.OPEN_BOTTOM&&h&&(g=["M",a,b,"L",a,0,"L",c,0,
"A",c,c,0,0,0,0,c,"L",0,b-c,"A",c,c,0,0,0,c,b,"L",a-e,b]);return g};var DvtAbstractComponent=function(a){this.Init(a)};DvtObj.createSubclass(DvtAbstractComponent,DvtContainer,"DvtAbstractComponent");DvtAbstractComponent.LOAD_XML_INITIAL="initial";DvtAbstractComponent._DEFAULT_BACKGROUND_COLOR="#7396C8";DvtAbstractComponent._ELEM_ROOT="r";DvtAbstractComponent._ATTR_INLINE_STYLE="inlineStyle";DvtAbstractComponent._ATTR_SKIN_STYLE="skinStyle";DvtAbstractComponent.SKIN_NAME="skin";
DvtAbstractComponent._ATTR_CTRLPANEL_BACKGROUND_COLOR="cpBackgroundColor";DvtAbstractComponent._ATTR_CTRLPANEL_BORDER_COLOR="cpBorderColor";DvtAbstractComponent._ATTR_CTRLPANEL_BOX_SHADOW="cpBoxShadow";DvtAbstractComponent._ATTR_CTRLPANEL_BORDER_RADIUS="cpBorderRadius";DvtAbstractComponent.BOX_SHADOW="box-shadow";DvtAbstractComponent._ATTR_TAB_BG_COLOR_INACTIVE="tabBgColorInactive";DvtAbstractComponent._ATTR_TAB_BORDER_COLOR_INACTIVE="tabBorderColorInactive";
DvtAbstractComponent.TAB_BG_COLOR_INACTIVE="tab-color-inactive";DvtAbstractComponent.TAB_BORDER_COLOR_INACTIVE="tab-border-color-inactive";DvtAbstractComponent._ATTR_SCROLLBAR_BACKGROUND="scrollbarBg";DvtAbstractComponent._ATTR_SCROLLBAR_BORDER_COLOR="scrollbarBorderColor";DvtAbstractComponent._ATTR_SCROLLBAR_HANDLE_COLOR="scrollbarHandleColor";DvtAbstractComponent._ATTR_SCROLLBAR_HANDLE_ACTIVE_COLOR="scrollbarHandleActiveColor";DvtAbstractComponent._ATTR_SCROLLBAR_HANDLE_HOVER_COLOR="scrollbarHandleHoverColor";
DvtAbstractComponent.prototype.Init=function(a){DvtAbstractComponent.superclass.Init.call(this,a);this._backgroundPane=new DvtRect(a,0,0,0,0);this.addChild(this._backgroundPane);this._legendStyleMap=this._controlPanelStyleMap=this._compCSSStyle=this._resourcesMap=null;this._skinName="";this._bRenderNullXml=!1;this._bSupportsVectorEffects=!DvtAgent.isPlatformIE()&&!(DvtAgent.isPlatformGecko()&&17>=DvtAgent.getVersion())};DvtAbstractComponent.prototype.getBackgroundPane=function(){return this._backgroundPane};
DvtAbstractComponent.prototype.renderComponent=function(){this.InitComponentInternal();this.RenderComponentInternal()};DvtAbstractComponent.prototype.InitComponentInternal=function(){this._bAbsCompRendered=!1};DvtAbstractComponent.prototype.RenderComponentInternal=function(){this._bAbsCompRendered||this.RenderBackground();this._bAbsCompRendered=!0};
DvtAbstractComponent.prototype.loadXml=function(a,b,c,d){var e=this.GetXmlStringParser();if(e&&(a=e.parse(a)))a.getName()===DvtAbstractComponent._ELEM_ROOT&&(a=a.getFirstChild()),a&&this.LoadXmlDom(b,a,c,d)};DvtAbstractComponent.prototype.GetXmlStringParser=function(){return new DvtXmlParser(this.getCtx())};DvtAbstractComponent.prototype.LoadXmlDom=function(a,b,c,d){switch(a){default:this.LoadXmlInitial(a,b,c,d)}};DvtAbstractComponent.prototype.LoadXmlInitial=function(){};
DvtAbstractComponent.prototype.render=function(a,b,c){this._width=b;this._height=c;this._backgroundPane.setWidth(this._width);this._backgroundPane.setHeight(this._height);a?a=this.ProcessJSON(a):this._bRenderNullXml=!0;this.loadXml(a);this.renderComponent();this._bRenderNullXml=!1};DvtAbstractComponent.prototype.setBackgroundColor=function(a){this._backgroundColor=a};
DvtAbstractComponent.prototype.RenderBackground=function(){if(this.getComponentStyle()){var a=this._getBackgroundFill();a&&this._backgroundPane.setFill(a)}else"none"!=this._backgroundColor?(a=this._getBackgroundGradient(this._backgroundColor),this._backgroundPane.setFill(a)):this._backgroundPane.setInvisibleFill()};
DvtAbstractComponent.prototype._getBackgroundFill=function(){var a=this.getComponentStyle();if(a){var b=a.getStyle(DvtCSSStyle.FILL_TYPE),a=a.getStyle(DvtCSSStyle.BACKGROUND_COLOR);a||(a=DvtAbstractComponent._DEFAULT_BACKGROUND_COLOR);return"solid"==b?new DvtSolidFill(a):this._getBackgroundGradient(a)}};
DvtAbstractComponent.prototype._getBackgroundGradient=function(a){var b=DvtAbstractComponent._DEFAULT_BACKGROUND_COLOR,c=1;if(a&&a!=b)var c=DvtColorUtils.getAlpha(a),d=(DvtColorUtils.getRed("#AECDEA")-DvtColorUtils.getRed(b))/(255-DvtColorUtils.getRed(b)),e=(DvtColorUtils.getGreen("#AECDEA")-DvtColorUtils.getGreen(b))/(255-DvtColorUtils.getGreen(b)),b=(DvtColorUtils.getBlue("#AECDEA")-DvtColorUtils.getBlue(b))/(255-DvtColorUtils.getBlue(b)),g=DvtColorUtils.getRed(a),h=DvtColorUtils.getGreen(a),k=
DvtColorUtils.getBlue(a),d=Math.round(g+d*(255-g)),e=Math.round(h+e*(255-h)),b=Math.round(k+b*(255-k)),e=DvtColorUtils.makeRGB(d,e,b),a=DvtColorUtils.getRGB(a),a=["#FFFFFF","#FFFFFF",e,a];else a=["#FFFFFF","#FFFFFF","#AECDEA",b];var c=[c,c,c,c],e=[0,45/255,190/255,1],d=this._width,b=1.7*1.7*d,k=1.7*this._height,d=0+(d-b)/2,h=d+b/2,g=-35+k/2,m=1.5*Math.min(b/2,k/2);return new DvtRadialGradientFill(a,c,e,h,g,m,[d,-35,b,k])};DvtAbstractComponent.prototype.GetWidth=function(){return this._width};
DvtAbstractComponent.prototype.GetHeight=function(){return this._height};DvtAbstractComponent.prototype.getResourcesMap=function(){this._resourcesMap||(this._resourcesMap={});return this._resourcesMap};DvtAbstractComponent.prototype.setSkinName=function(a){this._skinName=a};DvtAbstractComponent.prototype.getSkinName=function(){return this._skinName};DvtAbstractComponent.prototype.setComponentStyle=function(a){this._compCSSStyle=a};DvtAbstractComponent.prototype.getComponentStyle=function(){return this._compCSSStyle};
DvtAbstractComponent.prototype.setControlPanelStyleMap=function(a){this._controlPanelStyleMap=a};DvtAbstractComponent.prototype.getControlPanelStyleMap=function(){return this._controlPanelStyleMap};DvtAbstractComponent.prototype.getLegendStyleMap=function(){return this._legendStyleMap};DvtAbstractComponent.prototype.setLegendStyleMap=function(a){this._legendStyleMap=a};
DvtAbstractComponent.prototype.parseComponentAttrs=function(a){var b;b=this.parseComponentStyle(a.getAttr(DvtAbstractComponent._ATTR_SKIN_STYLE),null);(b=this.parseComponentStyle(a.getAttr(DvtAbstractComponent._ATTR_INLINE_STYLE),b))&&this.setComponentStyle(b);this.parseWidgetAttrs(a)};DvtAbstractComponent.prototype.parseComponentStyle=function(a,b){a&&(b?b.merge(new DvtCSSStyle(a)):b=new DvtCSSStyle(a));return b};DvtAbstractComponent.prototype.ProcessJSON=function(a){return a};
DvtAbstractComponent.prototype.parseWidgetAttrs=function(a){var b={},c=a.getAttr(DvtAbstractComponent.SKIN_NAME);c&&(this.setSkinName(c),b[DvtAbstractComponent.SKIN_NAME]=c);DvtStyleUtils.setStyle(b,DvtCSSStyle.BACKGROUND_COLOR,a.getAttr(DvtAbstractComponent._ATTR_CTRLPANEL_BACKGROUND_COLOR));DvtStyleUtils.setStyle(b,DvtCSSStyle.BORDER_COLOR,a.getAttr(DvtAbstractComponent._ATTR_CTRLPANEL_BORDER_COLOR));DvtStyleUtils.setStyle(b,DvtCSSStyle.BORDER_RADIUS,a.getAttr(DvtAbstractComponent._ATTR_CTRLPANEL_BORDER_RADIUS));
DvtStyleUtils.setStyle(b,DvtAbstractComponent.BOX_SHADOW,a.getAttr(DvtAbstractComponent._ATTR_CTRLPANEL_BOX_SHADOW));DvtStyleUtils.setStyle(b,DvtAbstractComponent.TAB_BG_COLOR_INACTIVE,a.getAttr(DvtAbstractComponent._ATTR_TAB_BG_COLOR_INACTIVE));DvtStyleUtils.setStyle(b,DvtAbstractComponent.TAB_BORDER_COLOR_INACTIVE,a.getAttr(DvtAbstractComponent._ATTR_TAB_BORDER_COLOR_INACTIVE));DvtStyleUtils.setStyle(b,DvtScrollbar.BACKGROUND,a.getAttr(DvtAbstractComponent._ATTR_SCROLLBAR_BACKGROUND));DvtStyleUtils.setStyle(b,
DvtScrollbar.BORDER_COLOR,a.getAttr(DvtAbstractComponent._ATTR_SCROLLBAR_BORDER_COLOR));DvtStyleUtils.setStyle(b,DvtScrollbar.HANDLE_COLOR,a.getAttr(DvtAbstractComponent._ATTR_SCROLLBAR_HANDLE_COLOR));DvtStyleUtils.setStyle(b,DvtScrollbar.HANDLE_ACTIVE_COLOR,a.getAttr(DvtAbstractComponent._ATTR_SCROLLBAR_HANDLE_ACTIVE_COLOR));DvtStyleUtils.setStyle(b,DvtScrollbar.HANDLE_HOVER_COLOR,a.getAttr(DvtAbstractComponent._ATTR_SCROLLBAR_HANDLE_HOVER_COLOR));b=DvtPanZoomControlPanelDefaults.calcOptions(b);
this.setControlPanelStyleMap(b);a={};c&&(a[DvtAbstractComponent.SKIN_NAME]=c);this.setLegendStyleMap(DvtCommonLegendDefaults.calcOptions(a))};DvtAbstractComponent.prototype.supportsVectorEffects=function(){return this._bSupportsVectorEffects};var DvtAbstractPanZoomComponent=function(a){this.Init(a)};DvtObj.createSubclass(DvtAbstractPanZoomComponent,DvtAbstractComponent,"DvtAbstractPanZoomComponent");DvtAbstractPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED="initCollapsed";
DvtAbstractPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED="initExpanded";DvtAbstractPanZoomComponent.CONTROL_PANEL_BEHAVIOR_HIDDEN="hidden";DvtAbstractPanZoomComponent._PANNING_OFF=1;DvtAbstractPanZoomComponent._ZOOMING_OFF=2;DvtAbstractPanZoomComponent._ZOOM_TO_FIT_OFF=4;DvtAbstractPanZoomComponent.PAN_ZOOM_KEY="panZoomInfo";DvtAbstractPanZoomComponent._CHANGE_LAYOUT_OFF=536870912;
DvtAbstractPanZoomComponent.prototype.Init=function(a){DvtAbstractPanZoomComponent.superclass.Init.call(this,a);this._featuresOff=0;this._controlPanelBehavior=DvtAbstractPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED;this._displayedControls=DvtPanZoomCanvas.DEFAULT_DISPLAYED_CONTROLS};
DvtAbstractPanZoomComponent.prototype.InitComponentInternal=function(){DvtAbstractPanZoomComponent.superclass.InitComponentInternal.call(this);if(this._bRenderNullXml)this._panZoomCanvas.setSize(this.GetWidth(),this.GetHeight());else{this._panZoomCanvas&&(this.removeChild(this._panZoomCanvas),this._panZoomCanvas=null);this._panZoomCanvas=this.CreatePanZoomCanvas(this.GetWidth(),this.GetHeight());this._panZoomCanvas.renderComponent();var a=this._panZoomCanvas.getControlPanel();a&&a.addEvtListener(DvtPanZoomControlPanelEvent.TYPE,
this.HandleControlPanelEvent,!1,this)}this.SetClipRect(this.GetWidth(),this.GetHeight())};DvtAbstractPanZoomComponent.prototype.ConvertControlPanelBehaviorStringToInt=function(a){switch(a){case DvtAbstractPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED:return DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED;case DvtAbstractPanZoomComponent.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED:return DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED;default:return DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_HIDDEN}};
DvtAbstractPanZoomComponent.prototype.CreatePanZoomCanvas=function(a,b){var c=new DvtPanZoomCanvas(this.getCtx(),this._buttonImages,a,b,null,this.ConvertControlPanelBehaviorStringToInt(this._controlPanelBehavior),this._panZoomResources,this._displayedControls,this);c.addEvtListener(DvtPanEvent.TYPE,this.HandlePanEvent,!1,this);c.addEvtListener(DvtZoomEvent.TYPE,this.HandleZoomEvent,!1,this);this.addChildAt(c,1);return c};DvtAbstractPanZoomComponent.prototype.HandleControlPanelEvent=function(){};
DvtAbstractPanZoomComponent.prototype.HandlePanEvent=function(){};DvtAbstractPanZoomComponent.prototype.HandleZoomEvent=function(){};DvtAbstractPanZoomComponent.prototype.getPanZoomCanvas=function(){return this._panZoomCanvas};DvtAbstractPanZoomComponent.prototype.panBy=function(a,b,c){this.getPanZoomCanvas().panBy(a,b,c)};DvtAbstractPanZoomComponent.prototype.panTo=function(a,b,c){this.getPanZoomCanvas().panTo(a,b,c)};
DvtAbstractPanZoomComponent.prototype.zoomBy=function(a,b,c,d){this.getPanZoomCanvas().zoomBy(a,b,c,d)};DvtAbstractPanZoomComponent.prototype.zoomTo=function(a,b,c,d){this.getPanZoomCanvas().zoomTo(a,b,c,d)};DvtAbstractPanZoomComponent.prototype.zoomToFit=function(a){this.getPanZoomCanvas().zoomToFit(a)};DvtAbstractPanZoomComponent.prototype.getPanZoomResources=function(){return this._panZoomResources};DvtAbstractPanZoomComponent.prototype.setPanZoomResources=function(a){this._panZoomResources=a};
DvtAbstractPanZoomComponent.prototype.getFeaturesOff=function(){return this._featuresOff};DvtAbstractPanZoomComponent.prototype.setFeaturesOff=function(a){this._featuresOff=a};DvtAbstractPanZoomComponent.prototype.isPanningOff=function(){return 0!=(this._featuresOff&DvtAbstractPanZoomComponent._PANNING_OFF)};DvtAbstractPanZoomComponent.prototype.isZoomingOff=function(){return 0!=(this._featuresOff&DvtAbstractPanZoomComponent._ZOOMING_OFF)};
DvtAbstractPanZoomComponent.prototype.isZoomToFitOff=function(){return 0!=(this._featuresOff&DvtAbstractPanZoomComponent._ZOOM_TO_FIT_OFF)};DvtAbstractPanZoomComponent.prototype.isChangeLayoutOff=function(){return!0};DvtAbstractPanZoomComponent.prototype.getResources=function(){return this._resources};DvtAbstractPanZoomComponent.prototype.setResources=function(a){this._resources=a};DvtAbstractPanZoomComponent.prototype.setButtonImages=function(a){this._buttonImages=a};
DvtAbstractPanZoomComponent.prototype.setControlPanelBehavior=function(a){this._controlPanelBehavior=a};DvtAbstractPanZoomComponent.prototype.getControlPanelBehavior=function(){return this._controlPanelBehavior};DvtAbstractPanZoomComponent.prototype.setDisplayedControls=function(a){this._displayedControls=a};DvtAbstractPanZoomComponent.prototype.getDisplayedControls=function(){return this._displayedControls};
DvtAbstractPanZoomComponent.prototype.isMouseWheelHandled=function(){return this.getPanZoomCanvas().isZoomingEnabled()&&!this.isZoomingOff()};DvtAbstractPanZoomComponent.prototype.SetClipRect=function(a,b){var c=new DvtClipPath("comp");c.addRect(this.getTranslateX(),this.getTranslateY(),a,b);this.setClipPath(c)};var DvtPanZoomCanvas=function(a,b,c,d,e,g,h,k,m){this.Init(a,b,c,d,e,g,h,k,m)};DvtObj.createSubclass(DvtPanZoomCanvas,DvtContainer,"DvtPanZoomCanvas");
DvtPanZoomCanvas.DEFAULT_PAN_INCREMENT=15;DvtPanZoomCanvas.DEFAULT_ZOOM_INCREMENT=0.05;DvtPanZoomCanvas.DEFAULT_ANIMATION_DURATION=0.5;DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED=0;DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED=1;DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_HIDDEN=2;DvtPanZoomCanvas.DEFAULT_DISPLAYED_CONTROLS=DvtPanZoomControlPanel.CONTROLS_ALL;
DvtPanZoomCanvas.prototype.Init=function(a,b,c,d,e,g,h,k,m){DvtPanZoomCanvas.superclass.Init.call(this,a,null,e);this._view=m;this._ww=c;this._hh=d;this._buttonImages=b;this._my=this._mx=this._py=this._px=0;this._maxPanY=this._minPanY=this._maxPanX=this._minPanX=null;this._minZoom=0.1;this._maxZoom=1;this._panIncrement=DvtPanZoomCanvas.DEFAULT_PAN_INCREMENT;this._zoomIncrement=DvtPanZoomCanvas.DEFAULT_ZOOM_INCREMENT;this._bTiltPanningEnabled=!1;this._zoomToFitPadding=20;this._controlPanel=null;this._controlPanelState=
g?g:DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED;this._displayedControls=k||0==k?k:DvtPanZoomCanvas.DEFAULT_DISPLAYED_CONTROLS;this._controlPanelResources=h;this._bZoomToFitEnabled=this._bZoomingEnabled=this._bPanningEnabled=!0;this._backgroundPane=new DvtRect(this.getCtx(),0,0,this._ww,this._hh);this.addChild(this._backgroundPane);this._backgroundPane.setInvisibleFill();this._contentPane=new DvtContainer(this.getCtx());this.addChild(this._contentPane);this._contentPane.setMatrix(new DvtMatrix);
this._animationDuration=DvtPanZoomCanvas.DEFAULT_ANIMATION_DURATION;this._eventManager=new DvtPanZoomCanvasEventManager(a,this.FireListener,this);this._eventManager.addListeners(this);this._clipIdSuffix=1;this.SetClipRect(c,d);this._bElasticConstraints=!1;this._elasticConstraintsAnim=null};
DvtPanZoomCanvas.prototype.setSize=function(a,b,c){this._ww=a;this._hh=b;c||(this._backgroundPane.setWidth(a),this._backgroundPane.setHeight(b),this._controlPanel&&this.PositionControlPanel(),this.SetClipRect(a,b))};DvtPanZoomCanvas.prototype.getSize=function(){return new DvtDimension(this._ww,this._hh)};DvtPanZoomCanvas.prototype.SetClipRect=function(a,b){var c=new DvtClipPath("pzc");c.addRect(this.getTranslateX(),this.getTranslateY(),a,b);this.setClipPath(c)};
DvtPanZoomCanvas.prototype.getContentPane=function(){return this._contentPane};DvtPanZoomCanvas.prototype.setContentPane=function(a){this._contentPane=a};DvtPanZoomCanvas.prototype.getBackgroundPane=function(){return this._backgroundPane};DvtPanZoomCanvas.prototype.getContentPaneMatrix=function(a){return a&&(a=a.getDestVal(this._contentPane,this._contentPane.getMatrix))?a:this._contentPane.getMatrix()};DvtPanZoomCanvas.prototype.getZoom=function(a){return this.getContentPaneMatrix(a).getA()};
DvtPanZoomCanvas.prototype.getPanX=function(a){return this.getContentPaneMatrix(a).getTx()};DvtPanZoomCanvas.prototype.getPanY=function(a){return this.getContentPaneMatrix(a).getTy()};DvtPanZoomCanvas.prototype.setZoomToFitPadding=function(a){this._zoomToFitPadding=a};DvtPanZoomCanvas.prototype.getZoomToFitPadding=function(){return this._zoomToFitPadding};
DvtPanZoomCanvas.prototype.panBy=function(a,b,c){if(this.isPanningEnabled()){var d=this.getPanX(c),e=this.getPanY(c),g=this.ConstrainPanX(d+a),h=this.ConstrainPanY(e+b),b=g-d,k=h-e,a=null;c&&(a=c.getDestVal(this._contentPane,this._contentPane.getMatrix))&&(a=a.clone());a||(a=this._contentPane.getMatrix().clone());a.translate(b,k);var m=this,b=function(){m.FirePanEvent(DvtPanEvent.SUBTYPE_PANNING,g,h,d,e,c)},k=function(){m.FirePanEvent(DvtPanEvent.SUBTYPE_PANNED,g,h,d,e,c)};c?(c.addProp(DvtAnimator.TYPE_MATRIX,
this._contentPane,this._contentPane.getMatrix,this._contentPane.setMatrix,a),DvtPlayable.prependOnInit(c,b),DvtPlayable.appendOnEnd(c,k)):(b(),this._contentPane.setMatrix(a),k())}};DvtPanZoomCanvas.prototype.panTo=function(a,b,c){this.isPanningEnabled()&&(a-=this.getPanX(c),b-=this.getPanY(c),this.panBy(a,b,c))};
DvtPanZoomCanvas.prototype.zoomBy=function(a,b,c,d){if(this.isZoomingEnabled()){!b&&0!==b&&(b=this._ww/2);!c&&0!==c&&(c=this._hh/2);var e=this.getZoom(d),g=this.ConstrainZoom(e*a);this.adjustZoomControls(g);if(DvtPanZoomCanvas.RoundFloatForCompare(e)!=DvtPanZoomCanvas.RoundFloatForCompare(g)){var h=g/e,a=null;d&&(a=d.getDestVal(this._contentPane,this._contentPane.getMatrix))&&(a=a.clone());a||(a=this._contentPane.getMatrix().clone());a.scale(h,h,b,c);var k=this.ConstrainPanX(a.getTx())-a.getTx(),
m=this.ConstrainPanY(a.getTy())-a.getTy();this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ADJUST_PAN_CONSTRAINTS,g,e,d,null,b,c,k,m);k=this.ConstrainPanX(a.getTx())-a.getTx();m=this.ConstrainPanY(a.getTy())-a.getTy();a.translate(k,m);var n=this,h=function(){n.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOMING,g,e,d,null,b,c,k,m)},o=function(){n.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOMED,n.getZoom(),e,d,null,b,c,k,m)};d?(d.addProp(DvtAnimator.TYPE_MATRIX,this._contentPane,this._contentPane.getMatrix,this._contentPane.setMatrix,
a),DvtPlayable.prependOnInit(d,h),DvtPlayable.appendOnEnd(d,o)):(h(),this._contentPane.setMatrix(a),o())}}};DvtPanZoomCanvas.prototype.zoomTo=function(a,b,c,d){this.isZoomingEnabled()&&this.zoomBy(a/this.getZoom(d),b,c,d)};DvtPanZoomCanvas.prototype.center=function(a,b){var c=this.isPanningEnabled();this.setPanningEnabled(!0);var d=b;d||(d=this._contentPane.getDimensions());var e=(d.x+d.w/2)*this.getZoom(),d=(d.y+d.h/2)*this.getZoom();this.panTo(this._ww/2-e,this._hh/2-d,a);this.setPanningEnabled(c)};
DvtPanZoomCanvas.prototype.zoomToFit=function(a,b){if(this.isZoomToFitEnabled()){var c=this.isPanningEnabled(),d=this.isZoomingEnabled();this.setPanningEnabled(!0);this.setZoomingEnabled(!0);try{var e=b;e||(e=this._contentPane.getDimensions());var e=this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS,null,null,a,e).getZoomToFitBounds(),g=Math.min((this._ww-2*this._zoomToFitPadding)/e.w,(this._hh-2*this._zoomToFitPadding)/e.h),g=this.ConstrainZoom(g),h=this._ww/2-(e.x+e.w/2)*g,k=this._hh/
2-(e.y+e.h/2)*g,m=this,n=function(){m.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_BEGIN,null,null,a,e)},o=function(){m.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_END,null,null,a,e)};a?DvtPlayable.prependOnInit(a,n):n();this.zoomTo(g,0,0,a);this.panTo(h,k,a);a?DvtPlayable.appendOnEnd(a,o):o()}finally{this.setPanningEnabled(c),this.setZoomingEnabled(d)}}};
DvtPanZoomCanvas.prototype.calcZoomToFitScale=function(a){a||(a=this._contentPane.getDimensions());a=this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS,null,null,null,a).getZoomToFitBounds();a=Math.min((this._ww-2*this._zoomToFitPadding)/a.w,(this._hh-2*this._zoomToFitPadding)/a.h);return a=this.ConstrainZoom(a)};
DvtPanZoomCanvas.prototype.calcZoomToFitBounds=function(){var a=this._contentPane.getDimensions(),a=this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS,null,null,null,a).getZoomToFitBounds();a.x-=this._zoomToFitPadding;a.y-=this._zoomToFitPadding;a.w+=2*this._zoomToFitPadding;a.h+=2*this._zoomToFitPadding;return a};
DvtPanZoomCanvas.prototype.getViewport=function(){var a=this.localToStage(new DvtPoint(0,0)),b=this.localToStage(new DvtPoint(this._ww,this._hh)),a=this.getContentPane().stageToLocal(a),b=this.getContentPane().stageToLocal(b);return new DvtRectangle(a.x,a.y,b.x-a.x,b.y-a.y)};
DvtPanZoomCanvas.prototype.SetElasticConstraints=function(a){if(this._bElasticConstraints=a)this._elasticConstraintsAnim&&(this._elasticConstraintsAnim.isRunning()&&this._elasticConstraintsAnim.stop(),this._elasticConstraintsAnim=null);else{var a=this.getPanX(),b=this.getPanY(),c=this.getZoom();this._bElasticPan=a!=this.ConstrainPanX(a)||b!=this.ConstrainPanY(b);this._bElasticZoom=c!=this.ConstrainZoom(c);if(this._bElasticPan||this._bElasticZoom)this._elasticConstraintsAnim=new DvtAnimator(this.getCtx(),
0.4),this._elasticConstraintsAnim.setEasing(DvtEasing.cubicOut),this._bElasticZoom&&this.zoomBy(1,0.5*this._ww,0.5*this._hh,this._elasticConstraintsAnim),this._bElasticPan&&this.panBy(0,0,this._elasticConstraintsAnim),DvtPlayable.appendOnEnd(this._elasticConstraintsAnim,this._elasticConstraintsAnimOnEnd,this),this._bElasticPan&&this.FirePanEvent(DvtPanEvent.SUBTYPE_ELASTIC_ANIM_BEGIN,null,null,null,null,this._elasticConstraintsAnim),this._bElasticZoom&&this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ELASTIC_ANIM_BEGIN,
null,null,null,null,this._elasticConstraintsAnim),this._elasticConstraintsAnim.play()}};DvtPanZoomCanvas.prototype.IsElasticConstraints=function(){return this._bElasticConstraints};DvtPanZoomCanvas.prototype._elasticConstraintsAnimOnEnd=function(){this._elasticConstraintsAnim=null;this._bElasticPan&&this.FirePanEvent(DvtPanEvent.SUBTYPE_ELASTIC_ANIM_END);this._bElasticZoom&&this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ELASTIC_ANIM_END)};
DvtPanZoomCanvas.prototype._panDampingFunc=function(a,b){return Math.sqrt(4*0.01*b*a)};DvtPanZoomCanvas.prototype._zoomDampingFunc=function(a,b){return Math.sqrt(4*0.0020*b*a)};
DvtPanZoomCanvas.prototype.ConstrainPanX=function(a){null!=this._minPanX&&a<this._minPanX&&(this.IsElasticConstraints()?(a=this._minPanX-a,a=this._minPanX-this._panDampingFunc(a,this._ww)):a=this._minPanX);null!=this._maxPanX&&a>this._maxPanX&&(this.IsElasticConstraints()?(a-=this._maxPanX,a=this._maxPanX+this._panDampingFunc(a,this._ww)):a=this._maxPanX);return a};
DvtPanZoomCanvas.prototype.ConstrainPanY=function(a){null!=this._minPanY&&a<this._minPanY&&(this.IsElasticConstraints()?(a=this._minPanY-a,a=this._minPanY-this._panDampingFunc(a,this._hh)):a=this._minPanY);null!=this._maxPanY&&a>this._maxPanY&&(this.IsElasticConstraints()?(a-=this._maxPanY,a=this._maxPanY+this._panDampingFunc(a,this._hh)):a=this._maxPanY);return a};
DvtPanZoomCanvas.prototype.ConstrainZoom=function(a){a=Math.max(0,a);this._minZoom&&a<this._minZoom&&(this.IsElasticConstraints()?(a=this._minZoom-a,a=this._minZoom-this._zoomDampingFunc(a,this._maxZoom-this._minZoom)):a=this._minZoom);this._maxZoom&&a>this._maxZoom&&(this.IsElasticConstraints()?(a-=this._maxZoom,a=this._maxZoom+this._zoomDampingFunc(a,this._maxZoom-this._minZoom)):a=this._maxZoom);return a};DvtPanZoomCanvas.RoundFloatForCompare=function(a){return Math.round(1E5*a)};
DvtPanZoomCanvas.prototype.renderComponent=function(){this._controlPanelState!=DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_HIDDEN&&!this._controlPanel&&(this._controlPanel=new DvtPanZoomControlPanel(this.getCtx(),this,this._buttonImages,this._controlPanelResources,this._displayedControls,this._view),this.addChild(this._controlPanel),this._controlPanelState==DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED?this._controlPanel.setState(DvtPanZoomControlPanel.STATE_COLLAPSED):this._controlPanelState==
DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED&&this._controlPanel.setState(DvtPanZoomControlPanel.STATE_EXPANDED),this.PositionControlPanel(),this._controlPanel.renderComponent())};DvtPanZoomCanvas.prototype.setControlPanelState=function(a){this._controlPanelState=a;this._controlPanelState==DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_HIDDEN&&this.removeChild(this._controlPanel)};
DvtPanZoomCanvas.prototype.setControlPanel=function(a){this._controlPanel&&this.removeChild(this._controlPanel);this._controlPanel=a;this._controlPanelState!=DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_HIDDEN&&(this.addChild(this._controlPanel),this._controlPanelState==DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_COLLAPSED?this._controlPanel.setState(DvtPanZoomControlPanel.STATE_COLLAPSED):this._controlPanelState==DvtPanZoomCanvas.CONTROL_PANEL_BEHAVIOR_INIT_EXPANDED&&this._controlPanel.setState(DvtPanZoomControlPanel.STATE_EXPANDED),
this.PositionControlPanel())};DvtPanZoomCanvas.prototype.getControlPanel=function(){return this._controlPanel};
DvtPanZoomCanvas.prototype.PositionControlPanel=function(){var a=this._view.getControlPanelStyleMap(),b=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_PADDING_SIDE,0),c=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_PADDING_TOP,0),a=DvtStyleUtils.getStyle(a,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0);this._controlPanel.setTranslate(DvtAgent.isRightToLeft(this.getCtx())?this._ww-a-b:b,c)};
DvtPanZoomCanvas.prototype.GetRelativeMousePosition=function(a){return this.getCtx().pageToStageCoords(a.pageX,a.pageY)};DvtPanZoomCanvas.prototype.FirePanEvent=function(a,b,c,d,e,g){this.FireListener(new DvtPanEvent(a,b,c,d,e,g))};DvtPanZoomCanvas.prototype.FireZoomEvent=function(a,b,c,d,e,g,h,k,m){a=new DvtZoomEvent(a,b,c,d,e,new DvtPoint(g,h),k,m);this.FireListener(a);return a};DvtPanZoomCanvas.prototype.zoomAndCenter=function(){this.FireZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_AND_CENTER)};
DvtPanZoomCanvas.prototype.getNextZoomLevel=function(a){a+=this.getZoomIncrement();a>this.getMaxZoom()&&(a=this.getMaxZoom());return a};DvtPanZoomCanvas.prototype.getPrevZoomLevel=function(a){a-=this.getZoomIncrement();a<this.getMinZoom()&&(a=this.getMinZoom());return a};DvtPanZoomCanvas.prototype.setZoomIncrement=function(a){this._zoomIncrement=a};DvtPanZoomCanvas.prototype.getZoomIncrement=function(){return this._zoomIncrement};
DvtPanZoomCanvas.prototype.setPanIncrement=function(a){this._panIncrement=a};DvtPanZoomCanvas.prototype.getPanIncrement=function(){return this._panIncrement};DvtPanZoomCanvas.prototype.setMinZoom=function(a){this._minZoom=a};DvtPanZoomCanvas.prototype.getMinZoom=function(){return this._minZoom};DvtPanZoomCanvas.prototype.setMaxZoom=function(a){0>a&&(a=1);this._maxZoom=a};DvtPanZoomCanvas.prototype.getMaxZoom=function(){return this._maxZoom};
DvtPanZoomCanvas.prototype.setMinPanX=function(a){this._minPanX=a};DvtPanZoomCanvas.prototype.getMinPanX=function(){return this._minPanX};DvtPanZoomCanvas.prototype.setMaxPanX=function(a){this._maxPanX=a};DvtPanZoomCanvas.prototype.getMaxPanX=function(){return this._maxPanX};DvtPanZoomCanvas.prototype.setMinPanY=function(a){this._minPanY=a};DvtPanZoomCanvas.prototype.getMinPanY=function(){return this._minPanY};DvtPanZoomCanvas.prototype.setMaxPanY=function(a){this._maxPanY=a};
DvtPanZoomCanvas.prototype.getMaxPanY=function(){return this._maxPanY};DvtPanZoomCanvas.prototype.setTiltPanningEnabled=function(a){this._bTiltPanningEnabled=a};DvtPanZoomCanvas.prototype.isTiltPanningEnabled=function(){return this._bTiltPanningEnabled};DvtPanZoomCanvas.prototype.setAnimationDuration=function(a){this._animationDuration=a};DvtPanZoomCanvas.prototype.getAnimationDuration=function(){return this._animationDuration};
DvtPanZoomCanvas.prototype.setPanningEnabled=function(a){this._bPanningEnabled=a};DvtPanZoomCanvas.prototype.isPanningEnabled=function(){return this._bPanningEnabled};DvtPanZoomCanvas.prototype.setZoomingEnabled=function(a){this._bZoomingEnabled=a};DvtPanZoomCanvas.prototype.isZoomingEnabled=function(){return this._bZoomingEnabled};DvtPanZoomCanvas.prototype.setZoomToFitEnabled=function(a){this._bZoomToFitEnabled=a};DvtPanZoomCanvas.prototype.isZoomToFitEnabled=function(){return this._bZoomToFitEnabled};
DvtPanZoomCanvas.prototype.adjustZoomControls=function(a){if(this._controlPanel){var b=this.getZoom();a==this.getMinZoom()&&a==this.getMaxZoom()?(this._controlPanel.enableZoomInControl(!1),this._controlPanel.enableZoomOutControl(!1)):b<=a&&a==this.getMaxZoom()?(this._controlPanel.enableZoomInControl(!1),this._controlPanel.enableZoomOutControl(!0)):b>=a&&a==this.getMinZoom()?(this._controlPanel.enableZoomInControl(!0),this._controlPanel.enableZoomOutControl(!1)):(this._controlPanel.enableZoomInControl(!0),
this._controlPanel.enableZoomOutControl(!0))}};DvtPanZoomCanvas.prototype.setCurrentTouchTargets=function(a){this._currTargets=a};DvtPanZoomCanvas.prototype.getCurrentTouchTargets=function(){return this._currTargets};var DvtPanZoomCanvasEventManager=function(a,b,c){this.Init(a,b,c)};DvtObj.createSubclass(DvtPanZoomCanvasEventManager,DvtEventManager,"DvtPanZoomCanvasEventManager");
DvtPanZoomCanvasEventManager.prototype.Init=function(a,b,c){DvtPanZoomCanvasEventManager.superclass.Init.call(this,a,b,c);this._pzc=c;this._zoomAnimator=null;this._bZooming=this._bPanning=!1;this._bMomentumPanning=!0};DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY="panTouch";DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY="zoomTouch";DvtPanZoomCanvasEventManager._MOMENTUM_START_TIMER_INTERVAL=50;
DvtPanZoomCanvasEventManager.prototype.addListeners=function(a){DvtPanZoomCanvasEventManager.superclass.addListeners.call(this,a);DvtAgent.isPlatformGecko()?a.addEvtListener("DOMMouseScroll",this.OnMouseWheel,!1,this):a.addEvtListener(DvtMouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)};
DvtPanZoomCanvasEventManager.prototype.OnMouseDown=function(a){a.button!=DvtMouseEvent.RIGHT_CLICK_BUTTON&&(a=this._callbackObj.GetRelativeMousePosition(a),this._mx=a.x,this._my=a.y,this._px=this._mx,this._py=this._my,this._bDown=!0,this._origPanX=this._callbackObj.getPanX(),this._origPanY=this._callbackObj.getPanY(),this._origZoom=this._callbackObj.getZoom(),this._bMomentumPanning&&(this._currTime=(new Date).getTime()));this._momentumTimer&&this._momentumTimer.isRunning()&&(this._momentumTimer.stop(),
this._momentumTimer.reset())};
DvtPanZoomCanvasEventManager.prototype.OnMouseMove=function(a){if(this._bDown){var b=this._callbackObj.GetRelativeMousePosition(a),c=b.x,b=b.y;a.ctrlKey?(this._bZooming||(this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_DRAG_ZOOM_BEGIN)),this._bZooming=!0,this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningStarted(),this._callbackObj.SetElasticConstraints(!0)),a=this._origZoom*Math.pow(1+0.01*(this._py>=b?1:-1),Math.abs(this._py-b)),this._callbackObj.isPanningEnabled()?
this._callbackObj.zoomTo(a,this._px,this._py):this._callbackObj.zoomTo(a,null,null)):this._handlePanMove(c,b);this._mx=c;this._my=b}};DvtPanZoomCanvasEventManager.prototype.OnMouseUp=function(){this._bDown=!1;this._bPanning&&this._handlePanEnd();this._bZooming&&this._handleZoomEnd()};
DvtPanZoomCanvasEventManager.prototype.OnMouseOut=function(a){if(this._bDown&&(this._bPanning||this._bZooming))(!a.relatedTarget||null==a.relatedTarget)&&this.OnMouseUp(a);DvtPanZoomCanvasEventManager.superclass.OnMouseOut.call(this,a)};
DvtPanZoomCanvasEventManager.prototype.OnMouseWheel=function(a){var b=this._callbackObj.getZoom();this._zoomAnimator&&(b=this._zoomAnimator,this._zoomAnimator.stop(),b=this._callbackObj.getZoom(b),this._zoomAnimator=null);this._zoomAnimator=null;var c=0;null!=a.wheelDelta&&(c=a.wheelDelta,DvtAgent.isPlatformGecko()&&(c=-c));b*=1+this._callbackObj.getZoomIncrement()*c/Math.abs(c);c=this._callbackObj.GetRelativeMousePosition(a);this.getCtx().getDocumentUtils().cancelDomEvent(a);this._callbackObj.isPanningEnabled()?
this._callbackObj.zoomTo(b,c.x,c.y,this._zoomAnimator):this._callbackObj.zoomTo(b,null,null,this._zoomAnimator);this._zoomAnimator&&(DvtPlayable.appendOnEnd(this._zoomAnimator,this._clearZoomAnimator,this),this._zoomAnimator.play())};DvtPanZoomCanvasEventManager.prototype._clearZoomAnimator=function(){this._zoomAnimator=null};DvtPanZoomCanvasEventManager.prototype._handleMomentumStartTimer=function(){};
DvtPanZoomCanvasEventManager.prototype._handleMomentumTimer=function(){var a=1-0.04*this._momentumIterCount,a=a*a,b=this._momentumTimer.getInterval(),c=a*this._momentumXperMS*b,a=a*this._momentumYperMS*b;this._momentumDx+=c;this._momentumDy+=a;var b=this._origPanX+this._mx-this._px+this._momentumDx,d=this._origPanY+this._my-this._py+this._momentumDy;this._callbackObj.panTo(b,d);var e=!1;if(24<=this._momentumIterCount)e=!0;else{var g=this._callbackObj.getPanX(),h=this._callbackObj.getPanY();if(Math.abs(g-
b)>Math.abs(c)||Math.abs(h-d)>Math.abs(a))e=!0}e?(this._momentumTimer.stop(),this._momentumTimer.reset(),this._callbackObj.SetElasticConstraints(!1)):this._momentumIterCount++};
DvtPanZoomCanvasEventManager.prototype.HandleImmediateTouchStartInternal=function(a){this._callbackObj.isZoomingEnabled()&&this.TouchManager.processAssociatedTouchAttempt(a,DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY,this.ZoomStartTouch,this);this._callbackObj.isPanningEnabled()&&this.TouchManager.processAssociatedTouchAttempt(a,DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY,this.PanStartTouch,this)};
DvtPanZoomCanvasEventManager.prototype.HandleImmediateTouchMoveInternal=function(a){this._callbackObj.isZoomingEnabled()&&this.TouchManager.processAssociatedTouchMove(a,DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY);this._callbackObj.isPanningEnabled()&&this.TouchManager.processAssociatedTouchMove(a,DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY);a&&a.preventDefault()};
DvtPanZoomCanvasEventManager.prototype.HandleImmediateTouchEndInternal=function(a){this._callbackObj.isZoomingEnabled()&&this.TouchManager.processAssociatedTouchEnd(a,DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY);this._callbackObj.isPanningEnabled()&&this.TouchManager.processAssociatedTouchEnd(a,DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY)};
DvtPanZoomCanvasEventManager.prototype.ZoomStartTouch=function(a,b){var c=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY);1>=c.length&&(this.TouchManager.saveProcessedTouch(b.identifier,DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY,null,DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY,DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY,this.ZoomMoveTouch,this.ZoomEndTouch,this),this._mx=b.pageX,this._my=b.pageY,this._px=this._mx,this._py=this._my,this._origPanX=this._callbackObj.getPanX(),
this._origPanY=this._callbackObj.getPanY(),this._origZoom=this._callbackObj.getZoom(),this._origDist=null,c=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY),this._callbackObj.setCurrentTouchTargets(this.TouchManager.getStartTargetsByIds(c)));this._momentumTimer&&this._momentumTimer.isRunning()&&(this._momentumTimer.stop(),this._momentumTimer.reset())};
DvtPanZoomCanvasEventManager.prototype.ZoomMoveTouch=function(){var a=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY);if(2==a.length){var b=this.TouchManager.getMultiTouchData(a);if(b){this._bZooming||(this._bZooming=!0,this.TouchManager.blockTouchHold(),this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_DRAG_ZOOM_BEGIN)),this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningStarted());this._callbackObj.SetElasticConstraints(!0);
null==this._origDist&&(this._origDist=b.dist-b.dz);var c=this._origZoom*(b.dist/this._origDist),d=this._pzc.getCtx().pageToStageCoords(b.cx,b.cy);this.hideTooltip();this._callbackObj.setCurrentTouchTargets(this.TouchManager.getStartTargetsByIds(a));this._callbackObj.zoomTo(c,d.x,d.y);this._callbackObj.panBy(b.dcx,b.dcy)}}};
DvtPanZoomCanvasEventManager.prototype.ZoomEndTouch=function(){this._bZooming&&(this._origDist=null,this.TouchManager.unblockTouchHold(),this._handleZoomEnd());var a=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager.ZOOM_TOUCH_KEY);this._callbackObj.setCurrentTouchTargets(this.TouchManager.getStartTargetsByIds(a));0==a.length&&this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_ZOOM_END))};
DvtPanZoomCanvasEventManager.prototype.PanStartTouch=function(a,b){!this._bZooming&&1>=this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY).length&&(this.TouchManager.saveProcessedTouch(b.identifier,DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY,null,DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY,DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY,this.PanMoveTouch,this.PanEndTouch,this),this._mx=b.pageX,this._my=b.pageY,this._px=this._mx,this._py=this._my,this._origPanX=this._callbackObj.getPanX(),
this._origPanY=this._callbackObj.getPanY(),this._origZoom=this._callbackObj.getZoom(),this._bMomentumPanning&&(this._currTime=(new Date).getTime()));this._momentumTimer&&this._momentumTimer.isRunning()&&(this._momentumTimer.stop(),this._momentumTimer.reset())};
DvtPanZoomCanvasEventManager.prototype.PanMoveTouch=function(a,b){if(!this._bZooming&&1==this.TouchManager.getTouchIdsForObj(DvtPanZoomCanvasEventManager.PAN_TOUCH_KEY).length){var c=b.pageX,d=b.pageY;this._handlePanMove(c,d);this._mx=c;this._my=d}};DvtPanZoomCanvasEventManager.prototype.PanEndTouch=function(){!this._bZooming&&this._bPanning&&this._handlePanEnd()};
DvtPanZoomCanvasEventManager.prototype._handleZoomEnd=function(){this._callback.call(this._callbackObj,new DvtZoomEvent(DvtZoomEvent.SUBTYPE_DRAG_ZOOM_END));this._bZooming=!1;this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningEnded();this._callbackObj.SetElasticConstraints(!1)};
DvtPanZoomCanvasEventManager.prototype._handlePanMove=function(a,b){this._bPanning||(this._callback.call(this._callbackObj,new DvtPanEvent(DvtPanEvent.SUBTYPE_DRAG_PAN_BEGIN)),this._bPanning=!0,this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningStarted(),this._callbackObj.SetElasticConstraints(!0),this._bMomentumPanning&&(this._arLastNMouseMoves=[]));this._callbackObj.panTo(this._origPanX+a-this._px,this._origPanY+b-this._py);this._bMomentumPanning&&(this._lastTime=this._currTime,
this._currTime=(new Date).getTime(),this._momentumStartTimer?(this._momentumStartTimer.isRunning()&&this._momentumStartTimer.stop(),this._momentumStartTimer.reset()):this._momentumStartTimer=new DvtTimer(this._context,DvtPanZoomCanvasEventManager._MOMENTUM_START_TIMER_INTERVAL,this._handleMomentumStartTimer,this,1),this._arLastNMouseMoves.push({dt:this._currTime-this._lastTime,dx:a-this._mx,dy:b-this._my}),5<this._arLastNMouseMoves.length&&this._arLastNMouseMoves.splice(0,1),this._momentumStartTimer.start())};
DvtPanZoomCanvasEventManager.prototype._handlePanEnd=function(){this._callback.call(this._callbackObj,new DvtPanEvent(DvtPanEvent.SUBTYPE_DRAG_PAN_END));this._bPanning=!1;this._pzc.getControlPanel()&&this._pzc.getControlPanel().mouseDragPanningEnded();if(this._momentumStartTimer&&this._momentumStartTimer.isRunning()){this._momentumStartTimer.stop();this._momentumStartTimer.reset();this._momentumTimer?this._momentumTimer.reset():this._momentumTimer=new DvtTimer(this._context,DvtPanZoomCanvasEventManager._MOMENTUM_START_TIMER_INTERVAL,
this._handleMomentumTimer,this);for(var a=0,b=0,c=0,d=this._arLastNMouseMoves.length;0<this._arLastNMouseMoves.length;)var e=this._arLastNMouseMoves.pop(),a=a+e.dt,b=b+e.dx,c=c+e.dy;this._arLastNMouseMoves=null;this._momentumXperMS=b/a;this._momentumYperMS=c/a;this._momentumTimer.setInterval(Math.ceil(a/d));this._momentumIterCount=1;this._momentumDy=this._momentumDx=0;this._momentumTimer.start()}else this._callbackObj.SetElasticConstraints(!1)};
var DvtPanZoomCanvasKeyboardHandler=function(a,b){this.Init(a,b)};DvtObj.createSubclass(DvtPanZoomCanvasKeyboardHandler,DvtKeyboardHandler,"DvtPanZoomCanvasKeyboardHandler");DvtPanZoomCanvasKeyboardHandler.prototype.Init=function(a,b){DvtPanZoomCanvasKeyboardHandler.superclass.Init(b);this._component=a};
DvtPanZoomCanvasKeyboardHandler.prototype.processKeyDown=function(a){var b=a.keyCode,c=this._component.getPanZoomCanvas();if(b==DvtKeyboardEvent.PAGE_UP)a.ctrlKey||a.shiftKey?c.panBy(c.getPanIncrement(),0):c.panBy(0,c.getPanIncrement());else if(b==DvtKeyboardEvent.PAGE_DOWN)a.ctrlKey||a.shiftKey?c.panBy(-c.getPanIncrement(),0):c.panBy(0,-c.getPanIncrement());else if(b==DvtKeyboardEvent.FORWARD_SLASH)(a=c.getControlPanel())&&a.toggleExpandCollapse();else if(DvtKeyboardEvent.isEquals(a)||DvtKeyboardEvent.isPlus(a))c.zoomTo(c.getZoom()+
c.getZoomIncrement());else if(DvtKeyboardEvent.isMinus(a)||DvtKeyboardEvent.isUnderscore(a))c.zoomTo(c.getZoom()-c.getZoomIncrement());else if((b==DvtKeyboardEvent.ZERO||b==DvtKeyboardEvent.NUMPAD_ZERO)&&!a.ctrlKey&&!a.shiftKey)c.zoomToFit();else return DvtPanZoomCanvasKeyboardHandler.superclass.processKeyDown.call(this,a)};var DvtCollapsiblePanel=function(a,b,c,d,e,g,h,k){this.Init(a,b,c,d,e,g,h,k)};DvtCollapsiblePanel.COLLAPSE_NORTHEAST="col_northeast";DvtCollapsiblePanel.COLLAPSE_SOUTHEAST="col_southeast";
DvtCollapsiblePanel.COLLAPSE_NORTHWEST="col_northwest";DvtCollapsiblePanel.COLLAPSE_SOUTHWEST="col_southwest";DvtCollapsiblePanel.ANIMATIONDURATION=0.25;DvtCollapsiblePanel.BODYCOLOR="#EBEFF5";DvtCollapsiblePanel.TITLEBARCLOSEICON_WIDTH=10;DvtCollapsiblePanel.TITLEBARCLOSEICON_HEIGHT=10;DvtCollapsiblePanel.BUTTONHEIGHT=25;DvtCollapsiblePanel._CONTENT_PADDING=5;DvtCollapsiblePanel._SCROLLBAR_CONTENT_PADDING=3;DvtObj.createSubclass(DvtCollapsiblePanel,DvtContainer,"DvtCollapsiblePanel");
DvtCollapsiblePanel.prototype.Init=function(a,b,c,d,e,g,h,k){DvtCollapsiblePanel.superclass.Init.call(this,a);this._maxWidth=b;this._maxHeight=c;this.setCollapseDirection(d);this._buttonImages=e;this._isFixed=k?k:DvtAgent.isEnvironmentBatik();this._animation=this._collapseTooltip=this._expandTooltip=null;this._styleMap=g;this._borderColor=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_COLOR,null);this._borderRadius=parseInt(DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BORDER_RADIUS,
null));this._bgColor=DvtStyleUtils.getStyle(this._styleMap,DvtCSSStyle.BACKGROUND_COLOR,null);this._bgAlpha=DvtStyleUtils.getStyle(this._styleMap,DvtPanZoomControlPanel.BG_ALPHA,1);this._collapse=void 0!==h?!h:!1;this._scrollableContainer=new DvtScrollableContainer(a,0,0,b-2*DvtCollapsiblePanel._CONTENT_PADDING,c-2*DvtCollapsiblePanel._CONTENT_PADDING,DvtCollapsiblePanel._SCROLLBAR_CONTENT_PADDING,"collapsiblePanel");this.addChild(this._scrollableContainer);this._scrollableContainer.setHorizontalScrollingEnabled(!1);
this._scrollableContainer.setTranslate(DvtCollapsiblePanel._CONTENT_PADDING,DvtCollapsiblePanel._CONTENT_PADDING);this.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleMouseOver,!1,this);this.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandleMouseOut,!1,this)};
DvtCollapsiblePanel.prototype._drawButton=function(){this._isFixed||(this._buttonFrame=DvtPanZoomControlPanelLAFUtils.createEmptyViewClosedFrame(this.getCtx(),DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,!1),this._buttonFrame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA]),this.addChild(this._buttonFrame),this._collapseExpandButton=this.isCollapsed()?DvtButtonLAFUtils.createExpandButton(this.getCtx(),this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,!1):DvtButtonLAFUtils.createCollapseButton(this.getCtx(),
this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,!1),this._buttonFrame.addChild(this._collapseExpandButton),this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST||(this._buttonFrame.setTranslateY(DvtCollapsiblePanel.BUTTONHEIGHT),this._buttonFrame.setRotation(-Math.PI)),DvtAgent.isRightToLeft(this.getCtx())&&this._buttonFrame.setTranslateX(this._width),DvtAgent.isTouchDevice()?this._collapseExpandButton.addEvtListener(DvtTouchEvent.TOUCHSTART,
this.OnButtonClick,!1,this):(this._collapseExpandButton.addEvtListener(DvtMouseEvent.CLICK,this.OnButtonClick,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOVER,this.OnButtonHoverOver,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOUT,this.OnButtonHoverOut,!1,this)))};DvtCollapsiblePanel.prototype.setBackgroundFill=function(a){this._background.setFill(a)};DvtCollapsiblePanel.prototype.setBackgroundStroke=function(a){this._background.setStroke(a)};
DvtCollapsiblePanel.prototype.setButtonTooltips=function(a,b){this._expandTooltip=a;this._collapseTooltip=b};
DvtCollapsiblePanel.prototype.addContent=function(a){this._scrollableContainer.addChild(a);a.addEvtListener(DvtResizeEvent.RESIZE_EVENT,this.HandleResize,!1,this);var b=this._scrollableContainer.getDimensions(),a=b.w+2*DvtCollapsiblePanel._CONTENT_PADDING;this._height=b=b.h+2*DvtCollapsiblePanel._CONTENT_PADDING;this._width=a;this._background?(this._background.setCmds(this._getOutlinePath(a,b)),a=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST,
this._buttonFrame&&a&&this._buttonFrame.setTranslateX(this._width)):(this._background=this._createRoundRectangle(a,b),this.addChildAt(this._background,0),this._drawButton());this._collapse&&this._collapseExpand(!1)};
DvtCollapsiblePanel.prototype.HandleResize=function(){this._scrollableContainer.refresh();var a=this._scrollableContainer.getDimensions(),b=a.w+2*DvtCollapsiblePanel._CONTENT_PADDING,a=a.h+2*DvtCollapsiblePanel._CONTENT_PADDING;this._background.setCmds(this._getOutlinePath(b,a));var c=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST;this._buttonFrame&&c&&this._buttonFrame.setTranslateX(b);this.FireListener(new DvtResizeEvent(b,a,
0,0))};DvtCollapsiblePanel.prototype.isCollapsed=function(){return this._collapse};DvtCollapsiblePanel.prototype.setCollapsed=function(a){this._collapse!=a&&(this._collapse=a,this._collapseExpand(!0),this.FireListener(new DvtCollapsiblePanelEvent(a?DvtCollapsiblePanelEvent.SUBTYPE_HIDE:DvtCollapsiblePanelEvent.SUBTYPE_SHOW)))};
DvtCollapsiblePanel.prototype.setCollapseDirection=function(a){this._collapseDir=a?a:DvtCollapsiblePanel.COLLAPSE_NORTHEAST;DvtAgent.isRightToLeft(this.getCtx())&&(this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHEAST?this._collapseDir=DvtCollapsiblePanel.COLLAPSE_NORTHWEST:this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST?this._collapseDir=DvtCollapsiblePanel.COLLAPSE_NORTHEAST:this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHEAST?this._collapseDir=DvtCollapsiblePanel.COLLAPSE_SOUTHWEST:
this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST&&(this._collapseDir=DvtCollapsiblePanel.COLLAPSE_SOUTHEAST))};DvtCollapsiblePanel.prototype.getMaxWidth=function(){return this._maxWidth};DvtCollapsiblePanel.prototype.getMaxContentWidth=function(){return this._maxWidth-(2*DvtCollapsiblePanel._CONTENT_PADDING+DvtScrollableContainer.DEFAULT_SCROLLBAR_WIDTH+DvtCollapsiblePanel._SCROLLBAR_CONTENT_PADDING)};DvtCollapsiblePanel.prototype.getMaxHeight=function(){return this._maxHeight};
DvtCollapsiblePanel.prototype.getMaxContentHeight=function(){return this._maxHeight-(2*DvtCollapsiblePanel._CONTENT_PADDING+DvtScrollableContainer.DEFAULT_SCROLLBAR_WIDTH+DvtCollapsiblePanel._SCROLLBAR_CONTENT_PADDING)};DvtCollapsiblePanel.prototype._getRefPoint=function(a,b){return!this.isCollapsed()?b?new DvtPoint(1/a.x,1/a.y):new DvtPoint(-a.x,-a.y):a};
DvtCollapsiblePanel.prototype._collapseExpand=function(a){this._animation&&(this._animationStopped=!0,this._animation.stop(!0));var b=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHEAST,c=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST,d=c?0:this._width,e=b?0:this._height,g=new DvtPoint(1/this._width,1/this._height),d=new DvtPoint(d,e),b=new DvtPoint(c?-this._width:
this._width,e-(b?0:DvtCollapsiblePanel.BUTTONHEIGHT));a||(this._background.setAlpha(0),this._buttonFrame&&this._buttonFrame.setAlpha(0));g=new DvtAnimScaleBy(this.getCtx(),this._background,this._getRefPoint(g,!0),a?DvtCollapsiblePanel.ANIMATIONDURATION:1.0E-5);b=new DvtAnimMoveBy(this.getCtx(),this._buttonFrame,this._getRefPoint(b),a?DvtCollapsiblePanel.ANIMATIONDURATION:1.0E-5);a=new DvtAnimMoveBy(this.getCtx(),this._background,this._getRefPoint(d),a?DvtCollapsiblePanel.ANIMATIONDURATION:1.0E-5);
if(this._animation=new DvtParallelPlayable(this.getCtx(),g,b,a))this.getCtx().getTooltipManager().hideTooltip(),this.removeEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleMouseOver,!1,this),this.removeEvtListener(DvtMouseEvent.MOUSEOUT,this.HandleMouseOut,!1,this),this._collapseExpandButton&&(this._collapseExpandButton.removeEvtListener(DvtTouchEvent.TOUCHSTART,this.OnButtonClick,!1,this),this._collapseExpandButton.removeEvtListener(DvtMouseEvent.CLICK,this.OnButtonClick,!1,this),this._collapseExpandButton.removeEvtListener(DvtMouseEvent.MOUSEOVER,
this.OnButtonHoverOver,!1,this),this._collapseExpandButton.removeEvtListener(DvtMouseEvent.MOUSEOUT,this.OnButtonHoverOut,!1,this)),this.isCollapsed()&&this._scrollableContainer.setAlpha(0),this._animation.setOnEnd(this.OnAnimationEnd,this),this._animation.play()};
DvtCollapsiblePanel.prototype._createRoundRectangle=function(a,b){var c=new DvtPath(this.getCtx(),this._getOutlinePath(a,b)),d=this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA];c.setSolidFill(this._bgColor,this._bgAlpha);c.setSolidStroke(this._borderColor,d);return c};
DvtCollapsiblePanel.prototype._getOutlinePath=function(a,b){var c=this._borderRadius,d,e=this._collapseDir==DvtCollapsiblePanel.COLLAPSE_NORTHWEST||this._collapseDir==DvtCollapsiblePanel.COLLAPSE_SOUTHWEST;b<=DvtCollapsiblePanel.BUTTONHEIGHT&&(b=DvtCollapsiblePanel.BUTTONHEIGHT);d=this._isFixed||e?DvtPathUtils.moveTo(c,0):DvtPathUtils.moveTo(0,0);d+=DvtPathUtils.lineTo(a-c,0);!this._isFixed&&e?(d+=DvtPathUtils.lineTo(a,0),d+=DvtPathUtils.lineTo(a,c)):d+=DvtPathUtils.quadTo(a,0,a,c);!this._isFixed&&
b==DvtCollapsiblePanel.BUTTONHEIGHT&&e?d+=DvtPathUtils.lineTo(a,b):(d+=DvtPathUtils.lineTo(a,b-c),d+=DvtPathUtils.quadTo(a,b,a-c,b));d+=DvtPathUtils.lineTo(c,b);d=!this._isFixed&&b==DvtCollapsiblePanel.BUTTONHEIGHT&&!e?d+DvtPathUtils.lineTo(0,b):d+DvtPathUtils.quadTo(0,b,0,b-c);if(this._isFixed||e)d+=DvtPathUtils.lineTo(0,c),d+=DvtPathUtils.quadTo(0,0,c,0);return d+=DvtPathUtils.closePath()};
DvtCollapsiblePanel.prototype.OnAnimationEnd=function(){this._animationStopped=!1;this._animation=null;var a=this._background.getStroke().clone();a.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA]);this._background.setStroke(a);var a=this._styleMap[DvtPanZoomControlPanel.BG_ROLLOUT_ALPHA],b=this._background.getFill().clone();b.setAlpha(a);this._background.setFill(b);this._buttonFrame&&this._buttonFrame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA]);this.isCollapsed()||
this._scrollableContainer.setAlpha(1);this.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleMouseOver,!1,this);this.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandleMouseOut,!1,this);this._collapseExpandButton&&(this._collapseExpandButton=this.isCollapsed()?DvtButtonLAFUtils.createExpandButton(this.getCtx(),this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,!1):DvtButtonLAFUtils.createCollapseButton(this.getCtx(),this._buttonImages,DvtCollapsiblePanel.BUTTONHEIGHT,this._styleMap,
!1),this._buttonFrame.addChild(this._collapseExpandButton),this._buttonFrame.removeChildAt(0),DvtAgent.isTouchDevice()?this._collapseExpandButton.addEvtListener(DvtTouchEvent.TOUCHSTART,this.OnButtonClick,!1,this):(this._collapseExpandButton.addEvtListener(DvtMouseEvent.CLICK,this.OnButtonClick,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOVER,this.OnButtonHoverOver,!1,this),this._collapseExpandButton.addEvtListener(DvtMouseEvent.MOUSEOUT,this.OnButtonHoverOut,!1,this)))};
DvtCollapsiblePanel.prototype.OnButtonClick=function(){this.getCtx().getTooltipManager().hideTooltip();this.setCollapsed(!this.isCollapsed())};DvtCollapsiblePanel.prototype.OnButtonHoverOver=function(a){var b=this.isCollapsed()?this._expandTooltip:this._collapseTooltip;null!=b&&this.getCtx().getTooltipManager().showTooltip(a.pageX,a.pageY,b,this._collapseExpandButton,!0)};DvtCollapsiblePanel.prototype.OnButtonHoverOut=function(){this.getCtx().getTooltipManager().hideTooltip()};
DvtCollapsiblePanel.prototype.HandleMouseOver=function(){var a=this._background.getStroke().clone();a.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOVER_ALPHA]);this._background.setStroke(a);var a=this._styleMap[DvtPanZoomControlPanel.BG_ROLLOVER_ALPHA],b=this._background.getFill().clone();b.setAlpha(a);this._background.setFill(b);this._buttonFrame&&this._buttonFrame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOVER_ALPHA])};
DvtCollapsiblePanel.prototype.HandleMouseOut=function(){var a=this._background.getStroke().clone();a.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA]);this._background.setStroke(a);a=this._background.getFill().clone();a.setAlpha(this._bgAlpha);this._background.setFill(a);this._buttonFrame&&this._buttonFrame.setAlpha(this._styleMap[DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA])};var DvtCollapsiblePanelEvent=function(a){this.Init(DvtCollapsiblePanelEvent.TYPE);this._subtype=a};
DvtObj.createSubclass(DvtCollapsiblePanelEvent,DvtBaseComponentEvent,"DvtCollapsiblePanelEvent");DvtCollapsiblePanelEvent.TYPE="dvtCollapsiblePanelEvent";DvtCollapsiblePanelEvent.SUBTYPE_HIDE="hide";DvtCollapsiblePanelEvent.SUBTYPE_SHOW="show";DvtCollapsiblePanelEvent.prototype.getSubType=function(){return this._subtype};var DvtImageLAFUtils={};DvtObj.createSubclass(DvtImageLAFUtils,DvtObj,"DvtImageLAFUtils");
DvtImageLAFUtils.loadIcon=function(a,b){var c=new DvtImage(a,b);c.setMouseEnabled(!1);DvtImageLoader.loadImage(a,b,function(a){null!=a&&a.width&&a.height&&(c.setWidth(a.width),c.setHeight(a.height))});return c};var DvtButtonLAFUtils={};DvtObj.createSubclass(DvtButtonLAFUtils,DvtObj,"DvtButtonLAFUtils");DvtButtonLAFUtils.EXPAND_COLLAPSE_BUTTON_IMG_OFFSET=-6;DvtButtonLAFUtils.CONTROL_BUTTON_WIDTH=23;DvtButtonLAFUtils.CONTROL_BUTTON_HEIGHT=21;DvtButtonLAFUtils.ZOOM_BUTTON_HEIGHT=20;
DvtButtonLAFUtils.OPEN_CLOSE_IMAGE_WIDTH=22;DvtButtonLAFUtils.OPEN_CLOSE_IMAGE_HEIGHT=20;DvtButtonLAFUtils.VIEW_PANEL_HEIGHT=47;DvtButtonLAFUtils.VIEW_PANEL_HALF_HEIGHT=26;DvtButtonLAFUtils.SIN_PI_4=Math.sin(Math.PI/4);DvtButtonLAFUtils.TAN_PI_8=Math.tan(Math.PI/8);DvtButtonLAFUtils.BORDER_COLOR="#7C8191";DvtButtonLAFUtils.GRADIENT_DARK="#E0E1E1";DvtButtonLAFUtils.GRADIENT_LIGHT="#F0F1F2";DvtButtonLAFUtils.ROUND_RECT_ELLIPSE=8;DvtButtonLAFUtils._ZOOMIN_ENA="zoominUp";
DvtButtonLAFUtils._ZOOMIN_OVR="zoominOver";DvtButtonLAFUtils._ZOOMIN_DWN="zoominDown";DvtButtonLAFUtils._ZOOMIN_DISABLED="zoominDisabled";DvtButtonLAFUtils._ZOOMTOFIT_ENA="zoomtofitUp";DvtButtonLAFUtils._ZOOMTOFIT_OVR="zoomtofitOver";DvtButtonLAFUtils._ZOOMTOFIT_DWN="zoomtofitDown";DvtButtonLAFUtils._ZOOMOUT_ENA="zoomoutUp";DvtButtonLAFUtils._ZOOMOUT_OVR="zoomoutOver";DvtButtonLAFUtils._ZOOMOUT_DWN="zoomoutDown";DvtButtonLAFUtils._ZOOMOUT_DISABLED="zoomoutDisabled";DvtButtonLAFUtils._PAN_ENA="pandialUp";
DvtButtonLAFUtils._PAN_OVR="pandialOver";DvtButtonLAFUtils._PAN_DWN="pandialDown";DvtButtonLAFUtils._RECENTER_ENA="recenterUp";DvtButtonLAFUtils._RECENTER_OVR="recenterOver";DvtButtonLAFUtils._RECENTER_DWN="recenterDown";DvtButtonLAFUtils._RESET_ENA="resetUp";DvtButtonLAFUtils._RESET_OVR="resetOver";DvtButtonLAFUtils._RESET_DWN="resetDown";DvtButtonLAFUtils._DRILLUP_ENA="drillupUp";DvtButtonLAFUtils._DRILLUP_OVR="drillupOver";DvtButtonLAFUtils._DRILLUP_DWN="drillupDown";
DvtButtonLAFUtils._DRILLDOWN_ENA="drilldownUp";DvtButtonLAFUtils._DRILLDOWN_OVR="drilldownOver";DvtButtonLAFUtils._DRILLDOWN_DWN="drilldownDown";DvtButtonLAFUtils._MAX_ENA="maxUp";DvtButtonLAFUtils._MAX_OVR="maxOver";DvtButtonLAFUtils._MAX_DWN="maxDown";DvtButtonLAFUtils._RESTORE_ENA="restoreUp";DvtButtonLAFUtils._RESTORE_OVR="restoreOver";DvtButtonLAFUtils._RESTORE_DWN="restoreDown";DvtButtonLAFUtils._COLLAPSE_ENA="collapseEna";DvtButtonLAFUtils._COLLAPSE_OVR="collapseOvr";
DvtButtonLAFUtils._COLLAPSE_DWN="collapseDwn";DvtButtonLAFUtils._EXPAND_ENA="expandEna";DvtButtonLAFUtils._EXPAND_OVR="expandOvr";DvtButtonLAFUtils._EXPAND_DWN="expandDwn";DvtButtonLAFUtils._QUICKQUERY_ENA="quickQueryEna";DvtButtonLAFUtils._QUICKQUERY_OVR="quickQueryOvr";DvtButtonLAFUtils._QUICKQUERY_DWN="quickQueryDwn";DvtButtonLAFUtils._CLEARRESULTS_ENA="clearResultsEna";DvtButtonLAFUtils._CLEARRESULTS_OVR="clearResultsOvr";DvtButtonLAFUtils._CLEARRESULTS_DWN="clearResultsDwn";
DvtButtonLAFUtils._ZOOMSLIDER_ENA="";DvtButtonLAFUtils._ZOOMSLIDER_OVR="";DvtButtonLAFUtils._ZOOMSLIDER_DWN="";DvtButtonLAFUtils._UP="Up";DvtButtonLAFUtils._OVER="Over";DvtButtonLAFUtils._DOWN="Down";DvtButtonLAFUtils._SEL="Sel";DvtButtonLAFUtils._R2L="_r";DvtButtonLAFUtils._SYNC="synchronize";
DvtButtonLAFUtils.createPanControl=function(a,b,c,d,e,g){var h=DvtButtonLAFUtils._createPanButtonState(a,e.getAttr(DvtButtonLAFUtils._PAN_ENA),g),k=new DvtContainer(a);k.setTranslate(20,20);var m=DvtButtonLAFUtils._createPanButtonState(a,e.getAttr(DvtButtonLAFUtils._PAN_DWN),g);m.setTranslate(-20,-20);k.addChild(m);m=new DvtContainer(a);m.setTranslate(20,20);var n=DvtButtonLAFUtils._createPanButtonState(a,e.getAttr(DvtButtonLAFUtils._PAN_OVR),g);n.setTranslate(-20,-20);m.addChild(n);h=new DvtButton(a,
h,m,k);if(0<(d&DvtPanZoomControlPanel.CONTROLS_CENTER_BUTTON)){var o=new DvtButton(a,DvtButtonLAFUtils._createRecenterButtonState(a,e.getAttr(DvtButtonLAFUtils._RECENTER_ENA),g),DvtButtonLAFUtils._createRecenterButtonState(a,e.getAttr(DvtButtonLAFUtils._RECENTER_OVR),g),DvtButtonLAFUtils._createRecenterButtonState(a,e.getAttr(DvtButtonLAFUtils._RECENTER_DWN),g));o.setTranslate(9,9)}return new DvtPanControl(a,h,o,b,c,d,g)};
DvtButtonLAFUtils.createDrillUpButton=function(a,b,c,d,e,g,h,k){var m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,g.getAttr(DvtButtonLAFUtils._DRILLUP_ENA),k),n=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,g.getAttr(DvtButtonLAFUtils._DRILLUP_OVR),k),o=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,g.getAttr(DvtButtonLAFUtils._DRILLUP_DWN),k),g=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,g.getAttr(DvtButtonLAFUtils._DRILLUP_ENA),
k);return new DvtMapControlButton(a,new DvtButton(a,m,n,o,g),b,c,d,e,h)};
DvtButtonLAFUtils.createDrillDownButton=function(a,b,c,d,e,g,h,k){var m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,g.getAttr(DvtButtonLAFUtils._DRILLDOWN_ENA),k),n=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,g.getAttr(DvtButtonLAFUtils._DRILLDOWN_OVR),k),o=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,g.getAttr(DvtButtonLAFUtils._DRILLDOWN_DWN),k),g=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,g.getAttr(DvtButtonLAFUtils._DRILLDOWN_ENA),
k);return new DvtMapControlButton(a,new DvtButton(a,m,n,o,g),b,c,d,e,h)};
DvtButtonLAFUtils.createResetButton=function(a,b,c,d,e,g,h,k){var m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,g.getAttr(DvtButtonLAFUtils._RESET_ENA),k),n=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,g.getAttr(DvtButtonLAFUtils._RESET_OVR),k),o=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,g.getAttr(DvtButtonLAFUtils._RESET_DWN),k),g=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,g.getAttr(DvtButtonLAFUtils._RESET_ENA),
k);return new DvtMapControlButton(a,new DvtButton(a,m,n,o,g),b,c,d,e,h)};
DvtButtonLAFUtils.createZoomToFitButton=function(a,b,c,d,e,g){var h=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e.getAttr(DvtButtonLAFUtils._ZOOMTOFIT_ENA),g),k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,e.getAttr(DvtButtonLAFUtils._ZOOMTOFIT_OVR),g),e=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,e.getAttr(DvtButtonLAFUtils._ZOOMTOFIT_DWN),g);return new DvtZoomToFitButton(a,new DvtButton(a,h,k,e),b,c,d)};
DvtButtonLAFUtils.createZoomInButton=function(a,b,c,d,e,g){var h=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e.getAttr(DvtButtonLAFUtils._ZOOMIN_ENA),g),k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,e.getAttr(DvtButtonLAFUtils._ZOOMIN_OVR),g),m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,e.getAttr(DvtButtonLAFUtils._ZOOMIN_DWN),g),e=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DISABLED,e.getAttr(DvtButtonLAFUtils._ZOOMIN_DISABLED),
g);return new DvtZoomInButton(a,new DvtButton(a,h,k,m,e),b,c,d)};
DvtButtonLAFUtils.createZoomOutButton=function(a,b,c,d,e,g){var h=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_ENABLED,e.getAttr(DvtButtonLAFUtils._ZOOMOUT_ENA),g),k=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_OVER,e.getAttr(DvtButtonLAFUtils._ZOOMOUT_OVR),g),m=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DOWN,e.getAttr(DvtButtonLAFUtils._ZOOMOUT_DWN),g),e=DvtButtonLAFUtils._createButtonBaseImage(a,DvtButton.STATE_DISABLED,e.getAttr(DvtButtonLAFUtils._ZOOMOUT_DISABLED),
g);return new DvtZoomOutButton(a,new DvtButton(a,h,k,m,e),b,c,d)};
DvtButtonLAFUtils.createLayoutItemButtonState=function(a,b,c,d,e,g){var h=DvtStyleUtils.getStyle(g,"buttonRadius",0),k=DvtStyleUtils.getStyle(g,DvtPanZoomControlPanel.CP_BUTTON_WIDTH,0),m=DvtStyleUtils.getStyle(g,DvtPanZoomControlPanel.CP_BUTTON_WIDTH,0),b=DvtButtonLAFUtils._createBaseButtonShape(a,d,h,k,m,g);DvtButtonLAFUtils._setButtonColors(d,b,k,m+2*h,0,0,g,!0);c=DvtButtonLAFUtils._getLayoutURI(a,d,c);e=e.getAttr(c);(a=DvtButtonLAFUtils._loadIcon(a,e,k,m))&&b.addChild(a);return b};
DvtButtonLAFUtils._getLayoutURI=function(a,b,c,d){var e="";b==DvtButton.STATE_ENABLED?b=DvtButtonLAFUtils._UP:b==DvtButton.STATE_OVER?b=DvtButtonLAFUtils._OVER:b==DvtButton.STATE_DOWN&&(b=DvtButtonLAFUtils._DOWN);d&&(c+=DvtButtonLAFUtils._SEL,DvtAgent.isRightToLeft(a)&&(e=DvtButtonLAFUtils._R2L));return c+(b+e)};
DvtButtonLAFUtils.createPanelCardButtonState=function(a,b,c,d){var e=DvtButtonLAFUtils._getLayoutURI(a,b,DvtButtonLAFUtils._SYNC,!0);return DvtButtonLAFUtils._createButtonBaseImage(a,b,d.getAttr(e),c)};DvtButtonLAFUtils.createPanelCardSyncItemState=function(a,b,c,d,e){var g=DvtStyleUtils.getStyle(e,"buttonRadius",0),a=DvtButtonLAFUtils._createBaseButtonShape(a,b,g,c,d,e);DvtButtonLAFUtils._setButtonColors(b,a,c,d+2*g,0,0,e,!0);return a};DvtButtonLAFUtils.createZoomSliderButton=function(){return null};
DvtButtonLAFUtils.createControlButtonState=function(a,b,c,d,e){b=DvtButtonLAFUtils._getLayoutURI(a,c,b);return DvtButtonLAFUtils._createButtonBaseImage(a,c,d.getAttr(b),e)};
DvtButtonLAFUtils.createExpandButton=function(a,b,c,d,e){var g=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_ENABLED,c,b.getAttr(DvtButtonLAFUtils._EXPAND_ENA),d,e),h=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_OVER,c,b.getAttr(DvtButtonLAFUtils._EXPAND_OVR),d,e),b=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_DOWN,c,b.getAttr(DvtButtonLAFUtils._EXPAND_DWN),d,e);return new DvtButton(a,g,h,b)};
DvtButtonLAFUtils.createCollapseButton=function(a,b,c,d,e){var g=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_ENABLED,c,b.getAttr(DvtButtonLAFUtils._COLLAPSE_ENA),d,e),h=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_OVER,c,b.getAttr(DvtButtonLAFUtils._COLLAPSE_OVR),d,e),b=DvtButtonLAFUtils._createCollapseExpandButtonState(a,DvtButton.STATE_DOWN,c,b.getAttr(DvtButtonLAFUtils._COLLAPSE_DWN),d,e);return new DvtButton(a,g,h,b)};
DvtButtonLAFUtils.createQuickQueryButton=function(a,b){var c=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_ENABLED,b.getAttr(DvtButtonLAFUtils._QUICKQUERY_ENA)),d=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_OVER,b.getAttr(DvtButtonLAFUtils._QUICKQUERY_OVR)),e=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_DOWN,b.getAttr(DvtButtonLAFUtils._QUICKQUERY_DWN));return new DvtButton(a,c,d,e)};
DvtButtonLAFUtils.createClearResultsButton=function(a,b){var c=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_ENABLED,b.getAttr(DvtButtonLAFUtils._CLEARRESULTS_ENA)),d=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_OVER,b.getAttr(DvtButtonLAFUtils._CLEARRESULTS_OVR)),e=DvtButtonLAFUtils._createQuickQueryButtonState(a,DvtButton.STATE_DOWN,b.getAttr(DvtButtonLAFUtils._CLEARRESULTS_DWN));return new DvtButton(a,c,d,e)};
DvtButtonLAFUtils._createButtonBaseImage=function(a,b,c,d,e,g){var h=DvtStyleUtils.getStyle(d,"buttonRadius",0);if("undefined"===e||null==e)e=DvtStyleUtils.getStyle(d,DvtPanZoomControlPanel.CP_BUTTON_WIDTH,0);if("undefined"===g||null==g)g=DvtStyleUtils.getStyle(d,DvtPanZoomControlPanel.CP_BUTTON_WIDTH,0);b=DvtButtonLAFUtils._drawBaseButton(a,b,h,e,g,d);(a=DvtButtonLAFUtils._loadIcon(a,c,e,g))&&b.addChild(a);return b};
DvtButtonLAFUtils._loadIcon=function(a,b,c,d){var e=new DvtImage(a,b);e.setMouseEnabled(!1);DvtImageLoader.loadImage(a,b,function(a){null!=a&&a.width&&a.height&&(e.setWidth(a.width),e.setHeight(a.height),e.setTranslate(c/2-a.width/2,d/2-a.height/2))});return e};
DvtButtonLAFUtils._createZoomSliderButtonState=function(a,b,c,d){var e=c,g=16,h=DvtPathUtils.moveTo(e,g)+DvtPathUtils.lineTo(e-c,g),e=e-c,h=h+DvtPathUtils.lineTo(e,g-16),g=g-16,h=h+DvtPathUtils.lineTo(e+c,g),h=h+(DvtPathUtils.lineTo(e+c,g+16)+DvtPathUtils.closePath()),e=new DvtPath(a,h);if(a=DvtImageLAFUtils.loadIcon(a,d))a.setTranslate(-6+sw,-2),e.addChild(a);DvtButtonLAFUtils._setSliderButtonColors(b,e,c,16,0,0);return e};
DvtButtonLAFUtils._createPanButtonState=function(a,b,c){var d=new DvtContainer(a),e=new DvtCircle(a,20,20,20);e.setAlpha(0);c=DvtStyleUtils.getStyle(c,DvtCSSStyle.BACKGROUND_COLOR,null);e.setSolidFill(c);d.addChild(e);(a=DvtImageLAFUtils.loadIcon(a,b))&&d.addChild(a);return d};
DvtButtonLAFUtils._createRecenterButtonState=function(a,b,c){var d=new DvtContainer(a),e=new DvtCircle(a,11,11,8);e.setAlpha(0);c=DvtStyleUtils.getStyle(c,DvtCSSStyle.BACKGROUND_COLOR,null);e.setSolidFill(c);d.addChild(e);(a=DvtImageLAFUtils.loadIcon(a,b))&&d.addChild(a);return d};
DvtButtonLAFUtils._createCollapseExpandButtonState=function(a,b,c,d,e,g){c||(c=47);b=DvtButtonLAFUtils._drawOpenCloseButtonHelper(a,b,c,e,g);if(a=DvtImageLAFUtils.loadIcon(a,d))g=DvtStyleUtils.getStyle(e,DvtPanZoomControlPanel.CP_IMAGE_WIDTH,0),d=DvtStyleUtils.getStyle(e,DvtPanZoomControlPanel.CP_IMAGE_HEIGHT,0),b.addChild(a),e=(DvtStyleUtils.getStyle(e,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0)-g)/2,a.setTranslate(e,(c-d)/2);return b};
DvtButtonLAFUtils._createQuickQueryButtonState=function(a,b,c){a=DvtImageLAFUtils.loadIcon(a,c);a.setMouseEnabled(!0);return a};
DvtButtonLAFUtils.createPanButtonBackground=function(a,b){var c=DvtButtonLAFUtils._drawPanButtonBase(a),d=DvtStyleUtils.getStyle(b,DvtCSSStyle.BACKGROUND_COLOR,null),e=DvtStyleUtils.getStyle(b,DvtCSSStyle.BORDER_COLOR,null);"solid"==DvtStyleUtils.getStyle(b,DvtCSSStyle.FILL_TYPE,null)?(c.setSolidStroke(e),c.setSolidFill(d)):(c.setStroke(new DvtLinearGradientStroke(36,["#8D93A5","#E0EAEB",e],[1,1,1],[0,125/255,1],[0,0,40,40],1)),c.setFill(new DvtLinearGradientFill(90,[d,d,"#5A83BE",d],[0.9,0.1,0,0.7],
[0,105/255,150/255,1],[0,0,40,40])));return c};DvtButtonLAFUtils.createPanButtonUnderlay=function(a,b){var c=DvtButtonLAFUtils._drawPanButtonBase(a),d=DvtStyleUtils.getStyle(b,DvtCSSStyle.BACKGROUND_COLOR,null);c.setSolidStroke(d);c.setSolidFill(d);return c};
DvtButtonLAFUtils._drawPanButtonBase=function(a){var b=DvtPathUtils.moveTo(40,20)+DvtPathUtils.quadTo(40,20*DvtButtonLAFUtils.TAN_PI_8+20,20*DvtButtonLAFUtils.SIN_PI_4+20,20*DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(20*DvtButtonLAFUtils.TAN_PI_8+20,40,20,40)+DvtPathUtils.quadTo(20*-DvtButtonLAFUtils.TAN_PI_8+20,40,20*-DvtButtonLAFUtils.SIN_PI_4+20,20*DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(0,20*DvtButtonLAFUtils.TAN_PI_8+20,0,20)+DvtPathUtils.quadTo(0,20*-DvtButtonLAFUtils.TAN_PI_8+
20,20*-DvtButtonLAFUtils.SIN_PI_4+20,20*-DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(20*-DvtButtonLAFUtils.TAN_PI_8+20,0,20,0)+DvtPathUtils.quadTo(20*DvtButtonLAFUtils.TAN_PI_8+20,0,20*DvtButtonLAFUtils.SIN_PI_4+20,20*-DvtButtonLAFUtils.SIN_PI_4+20)+DvtPathUtils.quadTo(40,20*-DvtButtonLAFUtils.TAN_PI_8+20,40,20)+DvtPathUtils.closePath();return new DvtPath(a,b,"draw_pan_button")};
DvtButtonLAFUtils._setGradientBorder=function(a,b,c,d,e){a.setSolidStroke("#FFFFFF");a.setStroke(new DvtLinearGradientStroke(63,["#8D93A5","#E0EAEB","#FFFFFF"],[1,1,1],[0,155/255,1],[d,e,b,c],1))};
DvtButtonLAFUtils._setButtonColors=function(a,b,c,d,e,g,h,k){if(DvtStyleUtils.getStyle(h,DvtPanZoomControlPanel.CP_PANEL_DRAWER_STYLES,null))!k||k&&a==DvtButton.STATE_ENABLED?b.setInvisibleFill():(a==DvtButton.STATE_OVER||a==DvtButton.STATE_DOWN)&&b.setFill(new DvtSolidFill("#EBECED"));else if(h[DvtAbstractComponent.SKIN_NAME]==DvtCSSStyle.SKIN_SKYROS)switch(a){case DvtButton.STATE_OVER:b.setFill(new DvtSolidFill("#FFFFFF",0.7));b.setStroke(new DvtSolidStroke(DvtStyleUtils.getStyle(h,DvtCSSStyle.BORDER_COLOR,
null)));break;case DvtButton.STATE_DOWN:b.setFill(new DvtSolidFill("#B3C6DB"));b.setStroke(new DvtSolidStroke(DvtStyleUtils.getStyle(h,DvtCSSStyle.BORDER_COLOR,null)));break;default:b.setInvisibleFill()}else{var m,n,o;switch(a){case DvtButton.STATE_DISABLED:case DvtButton.STATE_ENABLED:m=["#5B868A","#FFFFFF","#FFFFFF","#5B868A"];n=[0.01,0,0.05,0.01];o=[0,120/255,130/255,1];break;case DvtButton.STATE_OVER:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g);m=["#FFFFFF","#4671B0","#4671B0","#FFFFFF"];n=
[0.5,0.2,0.1,0.7];o=[0,120/255,130/255,1];break;case DvtButton.STATE_DOWN:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g),m=["#E0EAEB","#5B868A","#4671B0"],n=[0.1,0.3,0.6],o=[0,130/255,1]}b.setFill(new DvtLinearGradientFill(90,m,n,o,[e,g,c,d]))}};
DvtButtonLAFUtils._setCloseButtonColors=function(a,b,c,d,e,g,h,k){if(DvtStyleUtils.getStyle(k,DvtPanZoomControlPanel.CP_PANEL_DRAWER_STYLES,null))c.setInvisibleFill();else{var m=DvtStyleUtils.getStyle(k,DvtCSSStyle.FILL_TYPE,null),a=DvtStyleUtils.getStyle(k,DvtCSSStyle.BORDER_COLOR,null);if("solid"==m){d=DvtStyleUtils.getStyle(k,DvtCSSStyle.BACKGROUND_COLOR,null);switch(b){case DvtButton.STATE_ENABLED:bgAlpha=DvtStyleUtils.getStyle(k,DvtPanZoomControlPanel.BG_ALPHA,1);strokeAlpha=DvtStyleUtils.getStyle(k,
DvtPanZoomControlPanel.FRAME_ROLLOUT_ALPHA,1);break;case DvtButton.STATE_DOWN:case DvtButton.STATE_OVER:bgAlpha=DvtStyleUtils.getStyle(k,DvtPanZoomControlPanel.BG_ROLLOVER_ALPHA,1),strokeAlpha=DvtStyleUtils.getStyle(k,DvtPanZoomControlPanel.FRAME_ROLLOVER_ALPHA,1)}b=new DvtSolidFill(d,bgAlpha);k=new DvtSolidStroke(a,strokeAlpha)}else{var n,o,s;switch(b){case DvtButton.STATE_ENABLED:n=["#FFFFFF","#5B868A","#5B868A"];o=[0,0.2,0.3];s=[0,130/255,1];break;case DvtButton.STATE_OVER:n=["#FFFFFF","#FFFFFF",
"#4671B0","#4671B0"];o=[0.1,0.2,0.1,0.6];s=[0,120/255,130/255,1];break;case DvtButton.STATE_DOWN:n=["#4671B0","#5B868A","#5B868A"],o=[0.5,0.2,0.4],s=[0,130/255,1]}b=new DvtLinearGradientFill(0,n,o,s,[g,h,d,e]);k=new DvtSolidStroke(a,1,0.8)}c.setStroke(k);c.setFill(b)}};
DvtButtonLAFUtils._setSliderButtonColors=function(a,b,c,d,e,g){var h,k,m;switch(a){case DvtButton.STATE_ENABLED:b.setSolidStroke("#FFFFFF",1,0.25);h=["#FFFFFF","#4671B0","#E0EAEB","#FFFFFF"];k=[0.6,0.3,0.3,0.8];m=[0,125/255,130/255,1];break;case DvtButton.STATE_OVER:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g);h=["#4671B0","#FFFFFF","#FFFFFF","#FFFFFF"];k=[0.4,0.3,0.7,1];m=[0,70/255,200/255,1];break;case DvtButton.STATE_DOWN:DvtButtonLAFUtils._setGradientBorder(b,c,d,e,g),h=["#FFFFFF","#4671B0",
"#E0EAEB"],k=[0.6,0.5,0.8],m=[0,130/255,1]}b.setFill(new DvtLinearGradientFill(90,h,k,m,[e,g,c,d]))};DvtButtonLAFUtils.GetButtonPathCommands=function(a,b,c,d){return d?["M",a,0,"L",c,0,"A",c,c,0,0,0,0,c,"L",0,b-c,"A",c,c,0,0,0,c,b,"L",a,b]:["M",0,0,"L",a-c,0,"A",c,c,0,0,1,a,c,"L",a,b-c,"A",c,c,0,0,1,a-c,b,"L",0,b]};
DvtButtonLAFUtils._drawOpenCloseButtonHelper=function(a,b,c,d,e){c||(c=47);var g=parseInt(DvtStyleUtils.getStyle(d,DvtCSSStyle.BORDER_RADIUS,0)),h=DvtStyleUtils.getStyle(d,DvtPanZoomControlPanel.CP_OPEN_CLOSE_BUTTON_WIDTH,0),c=Math.max(c,DvtStyleUtils.getStyle(d,DvtPanZoomControlPanel.CP_BUTTON_HEIGHT,c)),e=DvtButtonLAFUtils.GetButtonPathCommands(h,c,g,e),e=new DvtPath(a,e);DvtButtonLAFUtils._setCloseButtonColors(a,b,e,h,c,0,0,d);return e};
DvtButtonLAFUtils._drawBaseButton=function(a,b,c,d,e,g){a=DvtButtonLAFUtils._createBaseButtonShape(a,b,c,d,e,g);DvtButtonLAFUtils._setButtonColors(b,a,d,e+2*c,0,0,g);return a};
DvtButtonLAFUtils._createBaseButtonShape=function(a,b,c,d,e,g){if(g[DvtAbstractComponent.SKIN_NAME]==DvtCSSStyle.SKIN_SKYROS)return new DvtRect(a,0,0,d,e);var d=d-2*c,e=e-2*c,b=d+c,g=e+c,h=DvtPathUtils.moveTo(b+c,g)+DvtPathUtils.quadTo(c+b,DvtButtonLAFUtils.TAN_PI_8*c+g,DvtButtonLAFUtils.SIN_PI_4*c+b,DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(DvtButtonLAFUtils.TAN_PI_8*c+b,c+g,b,c+g)+DvtPathUtils.lineTo(b,g+c)+DvtPathUtils.lineTo(b-d,c+g),b=b-d,h=h+(DvtPathUtils.quadTo(-DvtButtonLAFUtils.TAN_PI_8*
c+b,c+g,-DvtButtonLAFUtils.SIN_PI_4*c+b,DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(-c+b,DvtButtonLAFUtils.TAN_PI_8*c+g,-c+b,g)+DvtPathUtils.lineTo(b-c,g)+DvtPathUtils.lineTo(b-c,g-e)),g=g-e,h=h+(DvtPathUtils.quadTo(-c+b,-DvtButtonLAFUtils.TAN_PI_8*c+g,-DvtButtonLAFUtils.SIN_PI_4*c+b,-DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(-DvtButtonLAFUtils.TAN_PI_8*c+b,-c+g,b,-c+g)+DvtPathUtils.lineTo(b,-c+g)+DvtPathUtils.lineTo(b+d,-c+g)),b=b+d,h=h+(DvtPathUtils.quadTo(DvtButtonLAFUtils.TAN_PI_8*
c+b,-c+g,DvtButtonLAFUtils.SIN_PI_4*c+b,-DvtButtonLAFUtils.SIN_PI_4*c+g)+DvtPathUtils.quadTo(c+b,-DvtButtonLAFUtils.TAN_PI_8*c+g,c+b,g)+DvtPathUtils.lineTo(b+c,g+e)+DvtPathUtils.closePath());return new DvtPath(a,h)};DvtButtonLAFUtils.drawZoomSliderCrossLine=function(a,b,c,d,e){lineStyle(1,"#656D81",1,!0);DvtPathUtils.moveTo(c,d);DvtPathUtils.lineTo(c+e,d);lineStyle(1,"#FFFFFF",1,!0);DvtPathUtils.moveTo(c,d+1);DvtPathUtils.lineTo(c+e,d+1)};
DvtButtonLAFUtils.drawDropdownShape=function(a,b,c,d){var d=DvtStyleUtils.getStyle(d,"radius",0),b=b-2*d,c=c-d,e=b+d,g=c,h=DvtPathUtils.moveTo(e+d,g)+DvtPathUtils.quadTo(d+e,DvtButtonLAFUtils.TAN_PI_8*d+g,DvtButtonLAFUtils.SIN_PI_4*d+e,DvtButtonLAFUtils.SIN_PI_4*d+g)+DvtPathUtils.quadTo(DvtButtonLAFUtils.TAN_PI_8*d+e,d+g,e,d+g)+DvtPathUtils.lineTo(e,d+g)+DvtPathUtils.lineTo(e-b,d+g),e=e-b,h=h+(DvtPathUtils.quadTo(-DvtButtonLAFUtils.TAN_PI_8*d+e,d+g,-DvtButtonLAFUtils.SIN_PI_4*d+e,DvtButtonLAFUtils.SIN_PI_4*
d+g)+DvtPathUtils.quadTo(-d+e,DvtButtonLAFUtils.TAN_PI_8*d+g,-d+e,g)+DvtPathUtils.lineTo(-d+e,g)+DvtPathUtils.lineTo(-d+e,g-c)),g=g-c,h=h+(DvtPathUtils.lineTo(e+b+d,g)+DvtPathUtils.lineTo(e+b+d,g+c)+DvtPathUtils.closePath());return new DvtPath(a,h)};DvtButtonLAFUtils.dropShadowFilter=function(a,b){var c=new DvtDropShadowFilter(7,45,"#5A83BE",0.9,14,14,1,3,!1,!1,!1),d=[];d.push(c);b.filters=d};
DvtButtonLAFUtils._getDimForced=function(a,b){b instanceof DvtButton&&(b=b.getChildAt(0));return DvtDisplayableUtils._getDimForced(a,b)};var DvtCommonLegendDefaults={};DvtObj.createSubclass(DvtCommonLegendDefaults,DvtObj,"DvtCommonLegendDefaults");DvtCommonLegendDefaults.SKIN_ALTA={rowColGap:6,separatorGap:7,indicatorSize:16,buttonSize:12,dwn:"#0572CE",ovr:"#5D5D5D",ena:"#7E7F80",separatorColor:"#D9DFE3"};DvtCommonLegendDefaults.SKIN_SKYROS={dwn:"#202F48",ovr:"#184DD8",ena:"#003D5B"};
DvtCommonLegendDefaults.DEFAULT={rowColGap:4,separatorGap:4,indicatorSize:11,buttonSize:11,dwn:"#000000",ovr:"#245EDD",ena:"#495D7C",separatorColor:"#ADB6C7"};DvtCommonLegendDefaults.calcOptions=function(a){var b=DvtCommonLegendDefaults._getDefaults(a);return a?DvtJSONUtils.merge(a,b):b};
DvtCommonLegendDefaults._getDefaults=function(a){var b=null;return b=a&&"skyros"===a.skin?DvtJSONUtils.merge(DvtCommonLegendDefaults.SKIN_SKYROS,DvtCommonLegendDefaults.DEFAULT):a&&"alta"===a.skin?DvtJSONUtils.merge(DvtCommonLegendDefaults.SKIN_ALTA,DvtCommonLegendDefaults.DEFAULT):DvtJSONUtils.clone(DvtCommonLegendDefaults.DEFAULT)};var DvtCommonLegend=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtCommonLegend,DvtContainer,"DvtCommonLegend");
DvtCommonLegend.LEGEND_DISCLOSED_KEY="isLegendDisclosed";DvtCommonLegend.SKIN_NAME="skin";
DvtCommonLegend.prototype.Init=function(a,b,c,d,e){DvtCommonLegend.superclass.Init.call(this,a,null,b,c);this._isBiDi=DvtAgent.isRightToLeft();this._width=this._viewportWidth=b;this._height=c;this._attrLookUp={};this._hideAttrsLookUp={};this._associations=[];this._addSeparators=!1;this._separators=[];this._rollOverEnabled=this._showHideEnabled=!1;this._hidden=[];this._images=d;this._styleMap=e;this._isWordWrap=!1};DvtCommonLegend.prototype.GetImages=function(){return this._images};
DvtCommonLegend.prototype.showHideEnabled=function(){return this._showHideEnabled};DvtCommonLegend.prototype.setShowHideEnabled=function(a){this._showHideEnabled=a};DvtCommonLegend.prototype.setHidden=function(a){a&&(this._hidden=a)};DvtCommonLegend.prototype.rollOverEnabled=function(){return this._rollOverEnabled};DvtCommonLegend.prototype.setRollOverEnabled=function(a){this._rollOverEnabled=a};DvtCommonLegend.prototype._setWordWrap=function(a){this._isWordWrap=a};
DvtCommonLegend.prototype.isWordWrap=function(){return this._isWordWrap};DvtCommonLegend.prototype.getAttributeGroupItems=function(a){return this._attrLookUp[a]};DvtCommonLegend.prototype.addAttrLookup=function(a,b,c){null==this._attrLookUp[a]&&(this._attrLookUp[a]={});this._attrLookUp[a][b]=c};DvtCommonLegend.prototype.addHideAttrsLookup=function(a,b){this._hideAttrsLookUp[a]||(this._hideAttrsLookUp[a]=b)};DvtCommonLegend.prototype.addAssociation=function(a){this._associations.push(a)};
DvtCommonLegend.prototype.setXML=function(a){this._legendNode=a};DvtCommonLegend.prototype.isDisclosed=function(){return this._isDisclosed};DvtCommonLegend.prototype.setDisclosed=function(a){this._isDisclosed=a};DvtCommonLegend.prototype._parseMarker=function(a,b){var c=b.getAttr("url"),d=b.getAttr("shapeType"),e=b.getAttr("color"),g=b.getAttr("pattern"),h=b.getAttr("opacity");h&&(h=parseFloat(h));a.setMarker(c,d,e,g,h)};
DvtCommonLegend.prototype._parseItem=function(a){var b={};b.itemId=a.getAttr("itemId");b.attributeGroupId=a.getAttr("attributeGroupId");b.hideAttrs=a.getAttr("hideAttrs");for(var b=new DvtCommonLegendRow(this.getCtx(),this,b,this._legendItemStyle,this._styleMap),a=a.getChildNodes(),c=0;c<a.length;c++)"marker"==a[c].getName()?this._parseMarker(b,a[c]):"text"==a[c].getName()&&b.setText(a[c].getAttr("value"));return b};
DvtCommonLegend.prototype._renderLegendSection=function(a,b,c,d){var e=a.getAttr("label"),e=new DvtCommonLegendSection(this.getCtx(),this,e,this._sectionTitleStyle,this._styleMap);e.render(b,c,d);if(a=a.getChildNodes())for(var g=0;g<a.length;g++){var h=a[g],k;"item"==h.getName()?k=this._parseItem(h):"text"==h.getName()&&(k=new DvtCommonLegendRow(this.getCtx(),this,null,this._legendItemStyle,this._styleMap),k.setText(h.getAttr("value")));k&&(k.render(e,c,d),e.addItem(k))}b.addChild(e);c.y=c.y-this._styleMap.rowColGap+
this._styleMap.rowColGap;return e};
DvtCommonLegend.prototype._renderLegendSectionGroup=function(a,b,c,d){var e=a.getAttr("label"),g="true"==a.getAttr("disclosed"),h=a.getAttr("expandTooltip"),k=a.getAttr("collapseTooltip"),e=new DvtCommonLegendSectionGroup(this.getCtx(),this,e,this._sectionGroupTitleStyle,k,h,g,this._styleMap);e.render(b,c,d);b=d?-1:1;if(a=a.getChildNodes())for(g=0;g<a.length;g++)h=a[g],"section"==h.getName()&&(c.x+=(this._styleMap.buttonSize+this._styleMap.rowColGap)*b,h=this._renderLegendSection(h,e,c,d),c.x-=(this._styleMap.buttonSize+
this._styleMap.rowColGap)*b,e.addItem(h));c.y=c.y-this._styleMap.rowColGap+this._styleMap.rowColGap;return e};
DvtCommonLegend.prototype._renderSeparator=function(a,b){b.y=b.y-this._styleMap.rowColGap+this._styleMap.separatorGap;var c=new DvtLine(this.getCtx(),b.x,b.y,b.x,b.y);c.setPixelHinting(!0);c.setSolidStroke(this._styleMap.separatorColor);this._separators.push(c);var d;if(this._styleMap.skin==DvtCSSStyle.SKIN_ALTA)d=c;else{b.y++;var e=new DvtLine(this.getCtx(),b.x,b.y,b.x,b.y);e.setSolidStroke("#FFFFFF");e.setPixelHinting(!0);d=new DvtContainer(this.getCtx());d.addChild(c);d.addChild(e);this._separators.push(e)}a.addChild(d);
b.y+=this._styleMap.separatorGap;return d};DvtCommonLegend.prototype.update=function(a,b){for(var c=this._children.indexOf(a),c=c+1;c<this._children.length;){var d=this._children[c].getTranslateY();this._children[c].setTranslateY(d+b);c++}this._dim.h+=b;this.FireListener(new DvtResizeEvent(this._dim.w,this._dim.h,0,0))};
DvtCommonLegend.prototype._processLegendStyleNode=function(){var a=this._legendNode.getElementsByTagName("style");if(a&&(a=a[0].getChildNodes()))for(var b=0;b<a.length;b++){var c=a[b];"legend-title"==c.getName()?this._legendTitleStyle=c.getTextContent():"sectionGroup-title"==c.getName()?this._sectionGroupTitleStyle=c.getTextContent():"section-title"==c.getName()?this._sectionTitleStyle=c.getTextContent():"legend-item"==c.getName()&&(this._legendItemStyle=c.getTextContent())}};
DvtCommonLegend.prototype.getEventManager=function(){return this._eventHandler};
DvtCommonLegend.prototype.render=function(){this._eventHandler=new DvtCommonLegendEventManager(this.getCtx(),this._legendEventHandler,this);this._title=this._legendNode.getAttr("label");this._isDisclosed="true"==this._legendNode.getAttr("disclosed");this._processLegendStyleNode();var a=this._legendNode.getAttr("noWrap");a&&this._setWordWrap("false"==a);a=this._isBiDi?new DvtRectangle(this._width,0,this._width,this._height):new DvtRectangle(0,0,this._width,this._height);this._legendContent=new DvtContainer(this.getCtx());
this.addChild(this._legendContent);if(this._title){var b;b=this.isWordWrap()?new DvtMultilineText(this.getCtx()):new DvtOutputText(this.getCtx());var c=a.w-a.x;this._isBiDi&&(c=a.w-c);if(0<c&&(this._isBiDi&&b.alignRight(),this._legendTitleStyle&&b.setCSSStyle(new DvtCSSStyle(this._legendTitleStyle)),b.setTextString(this._title),b.setX(a.x),b.setY(a.y),DvtTextUtils.fitText(b,c,a.h,this._legendContent),b.isTruncated()&&this._eventHandler.associate(b,new DvtSimpleObjPeer(this._title)),(b=b.getDimensions())&&
0<b.h))a.y=a.y+b.h+this._styleMap.rowColGap}this._children=[];if(c=this._legendNode.getChildNodes()){for(b=0;b<c.length;b++){var d=c[b];if("separatorDef"==d.getName()&&(d=d.getChildNodes(),0<d.length&&"separator"==d[0].getName())){this._addSeparators=!0;break}}for(b=0;b<c.length;b++)d=c[b],a.x=this._isBiDi?this._width:0,"sectionGroup"==d.getName()?(this._addSeparators&&(this._title||1<b)&&this._children.push(this._renderSeparator(this._legendContent,a)),this._children.push(this._renderLegendSectionGroup(d,
this._legendContent,a,this._isBiDi))):"section"==d.getName()&&(this._addSeparators&&(this._title||1<b)&&this._children.push(this._renderSeparator(this._legendContent,a)),this._children.push(this._renderLegendSection(d,this._legendContent,a,this._isBiDi)))}this._dim=this.getDimensions();for(a=0;a<this._separators.length;a++)this._isBiDi?(this._dim.x=this._separators[a].getX1()-this._dim.w,this._separators[a].setX2(this._dim.x)):this._separators[a].setX2(this._dim.w+this._separators[a].getX1());this._eventHandler.addListeners(this);
for(b=0;b<this._associations.length;b++)a=this._associations[b],this._eventHandler.associate(a,a),this._hidden&&-1<DvtArrayUtils.getIndex(this._hidden,a.getAttributeGroup()+":"+a.getItemId())&&a.filterRow();this._isBiDi&&this._legendContent.setTranslateX(-this._dim.x)};var DvtCommonLegendSectionGroup=function(a,b,c,d,e,g,h,k){this.Init(a,b,c,d,e,g,h,k)};DvtObj.createSubclass(DvtCommonLegendSectionGroup,DvtContainer,"DvtCommonLegendSection");DvtCommonLegendSectionGroup._EXPANDED=0;
DvtCommonLegendSectionGroup._COLLAPSED=1;DvtCommonLegendSectionGroup._DWN_COLOR="dwn";DvtCommonLegendSectionGroup._OVR_COLOR="ovr";DvtCommonLegendSectionGroup._ENA_COLOR="ena";
DvtCommonLegendSectionGroup.prototype.Init=function(a,b,c,d,e,g,h,k){DvtCommonLegendSection.superclass.Init.call(this,a);this._title=c;this._titleStyle=d;this._items=[];this._legend=b;this._collapseTooltip=e;this._expandTooltip=g;this._buttonState=h?DvtCommonLegendSectionGroup._EXPANDED:DvtCommonLegendSectionGroup._COLLAPSED;this._styleMap=k};
DvtCommonLegendSectionGroup.prototype._drawArrowButton=function(a,b,c){this._buttonX=b.x;this._buttonY=b.y;var d=c?-1:1;if(this._styleMap.skin==DvtCSSStyle.SKIN_ALTA){var e=this._legend.GetImages();this._expandedBtn=this._createButton(e,this._buttonX,this._buttonY,this._styleMap.buttonSize,this._styleMap.buttonSize,DvtCommonLegendSectionGroup._EXPANDED);this._collapsedBtn=this._createButton(e,this._buttonX,this._buttonY,this._styleMap.buttonSize,this._styleMap.buttonSize,DvtCommonLegendSectionGroup._COLLAPSED);
this._button=this._expandedBtn}else this._button=new DvtPolygon(this.getCtx(),[this._buttonX+1.5*d,this._buttonY+1.5,this._buttonX+9.5*d,this._buttonY+1.5,this._buttonX+5.5*d,this._buttonY+9.5]),this._button.setSolidFill(this._styleMap[DvtCommonLegendSectionGroup._ENA_COLOR]);a.addChild(this._button);DvtAgent.isTouchDevice()?a.addEvtListener(DvtTouchEvent.TOUCHSTART,this._handleMouseClick,!1,this):(a.addEvtListener(DvtMouseEvent.CLICK,this._handleMouseClick,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEOVER,
this._handleMouseOver,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEOUT,this._handleMouseOut,!1,this),a.addEvtListener(DvtMouseEvent.MOUSEDOWN,this._handleMouseDown,!1,this));this._buttonState=DvtCommonLegendSectionGroup._EXPANDED;b.x+=((this._styleMap.skin==DvtCSSStyle.SKIN_ALTA&&c?0:this._styleMap.buttonSize)+this._styleMap.rowColGap)*d};
DvtCommonLegendSectionGroup.prototype._createButton=function(a,b,c,d,e,g){switch(g){case DvtCommonLegendSectionGroup._COLLAPSED:var g=new DvtImage(this.getCtx(),a.getAttr(DvtAccordion.COLLAPSE_ENA),b,c,d,e),h=new DvtImage(this.getCtx(),a.getAttr(DvtAccordion.COLLAPSE_OVR),b,c,d,e),a=new DvtImage(this.getCtx(),a.getAttr(DvtAccordion.COLLAPSE_DWN),b,c,d,e);return new DvtButton(this.getCtx(),g,h,a);default:return g=new DvtImage(this.getCtx(),a.getAttr(DvtAccordion.EXPAND_ENA),b,c,d,e),h=new DvtImage(this.getCtx(),
a.getAttr(DvtAccordion.EXPAND_OVR),b,c,d,e),a=new DvtImage(this.getCtx(),a.getAttr(DvtAccordion.EXPAND_DWN),b,c,d,e),new DvtButton(this.getCtx(),g,h,a)}};
DvtCommonLegendSectionGroup.prototype._toggleArrowButton=function(){var a=DvtAgent.isRightToLeft()?-1:1;this._sectionHeight||(this._sectionHeight=this.getDimensions().h-this._headerHeight);this._buttonState==DvtCommonLegendSectionGroup._EXPANDED?(this._styleMap.skin==DvtCSSStyle.SKIN_ALTA?(a=this._button.getParent(),a.removeChild(this._button),this._button=this._collapsedBtn,a.addChild(this._button)):this._button.setPoints([this._buttonX+1.5*a,this._buttonY+1.5,this._buttonX+9.5*a,this._buttonY+5.5,
this._buttonX+1.5*a,this._buttonY+9.5]),this._itemsVisible=!1,this._buttonState=DvtCommonLegendSectionGroup._COLLAPSED,a=-this._sectionHeight):(this._styleMap.skin==DvtCSSStyle.SKIN_ALTA?(a=this._button.getParent(),a.removeChild(this._button),this._button=this._expandedBtn,a.addChild(this._button)):this._button.setPoints([this._buttonX+1.5*a,this._buttonY+1.5,this._buttonX+9.5*a,this._buttonY+1.5,this._buttonX+5.5*a,this._buttonY+9.5]),this._itemsVisible=!0,this._buttonState=DvtCommonLegendSectionGroup._EXPANDED,
a=this._sectionHeight);if(this._itemsVisible)for(var b=0;b<this._items.length;b++)this.addChild(this._items[b]);else for(b=0;b<this._items.length;b++)this.removeChild(this._items[b]);this._legend.update(this,a)};DvtCommonLegendSectionGroup.prototype._handleMouseClick=function(){this.getCtx().getTooltipManager().hideTooltip();this._toggleArrowButton()};
DvtCommonLegendSectionGroup.prototype._handleMouseOver=function(a){var b;b=this._buttonState==DvtCommonLegendSectionGroup._EXPANDED?this._collapseTooltip:this._expandTooltip;null!=b&&this.getCtx().getTooltipManager().showTooltip(a.pageX,a.pageY,b,this._button,!0);!this._styleMap.skin==DvtCSSStyle.SKIN_ALTA&&this._button.setSolidFill(this._styleMap[DvtCommonLegendSectionGroup._OVR_COLOR])};
DvtCommonLegendSectionGroup.prototype._handleMouseOut=function(){this.getCtx().getTooltipManager().hideTooltip();!this._styleMap.skin==DvtCSSStyle.SKIN_ALTA&&this._button.setSolidFill(this._styleMap[DvtCommonLegendSectionGroup._ENA_COLOR])};DvtCommonLegendSectionGroup.prototype._handleMouseDown=function(){!this._styleMap.skin==DvtCSSStyle.SKIN_ALTA&&this._button.setSolidFill(this._styleMap[DvtCommonLegendSectionGroup._DWN_COLOR])};DvtCommonLegendSectionGroup.prototype.addItem=function(a){return this._items.push(a)};
DvtCommonLegendSectionGroup.prototype.render=function(a,b,c){a.addChild(this);a=new DvtContainer(this.getCtx());this.addChild(a);this._drawArrowButton(a,b,c);if(this._title){var d;d=this._legend.isWordWrap()?new DvtMultilineText(this.getCtx()):new DvtOutputText(this.getCtx());var e=b.w-b.x;c&&(e=b.w-e);0<e&&(c&&d.alignRight(),this._titleStyle&&d.setCSSStyle(new DvtCSSStyle(this._titleStyle)),d.setTextString(this._title),d.setX(b.x),d.setY(b.y),DvtTextUtils.fitText(d,e,b.h,a),d.isTruncated()&&this._legend.getEventManager().associate(d,
new DvtSimpleObjPeer(this._title)),a=d.getDimensions(),b.y=b.y+Math.max(a?a.h:0,this._styleMap.buttonSize)+this._styleMap.rowColGap)}b.x+=(this._styleMap.buttonSize+this._styleMap.rowColGap)*(c?1:-1);this._headerHeight=this.getDimensions().h};var DvtCommonLegendSection=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtCommonLegendSection,DvtContainer,"DvtCommonLegendSection");
DvtCommonLegendSection.prototype.Init=function(a,b,c,d,e){DvtCommonLegendSection.superclass.Init.call(this,a);this._title=c;this._titleStyle=d;this._items=[];this._legend=b;this._styleMap=e};DvtCommonLegendSection.prototype.addItem=function(a){return this._items.push(a)};DvtCommonLegendSection.prototype.getItems=function(){return this._items};
DvtCommonLegendSection.prototype.render=function(a,b,c){a.addChild(this);if(this._title){var a=this._legend.isWordWrap()?new DvtMultilineText(this.getCtx()):new DvtOutputText(this.getCtx()),d=b.w-b.x;c&&(d=b.w-d);0<d&&(c&&a.alignRight(),this._titleStyle&&a.setCSSStyle(new DvtCSSStyle(this._titleStyle)),a.setTextString(this._title),a.setX(b.x),a.setY(b.y),DvtTextUtils.fitText(a,d,b.h,this),a.isTruncated()&&this._legend.getEventManager().associate(a,new DvtSimpleObjPeer(this._title)),c=a.getDimensions(),
b.y=b.y+(c?c.h:0)+this._styleMap.rowColGap)}};var DvtCommonLegendRow=function(a,b,c,d,e){this.Init(a,b,c,d,e)};DvtObj.createSubclass(DvtCommonLegendRow,DvtContainer,"DvtCommonLegendRow");DvtCommonLegendRow.prototype.Init=function(a,b,c,d,e){DvtCommonLegendRow.superclass.Init.call(this,a);this._legend=b;this._prop=c;this._itemStyle=d;this._bHidden=!1;this._styleMap=e};DvtCommonLegendRow.prototype.getAttributeGroup=function(){return this._prop.attributeGroupId};
DvtCommonLegendRow.prototype.getItemId=function(){return this._prop.itemId};DvtCommonLegendRow.prototype.getHideAttributes=function(){return this._prop.hideAttrs};DvtCommonLegendRow.prototype.setText=function(a){this._text=a};DvtCommonLegendRow.prototype.setMarker=function(a,b,c,d,e){this._url=a;this._shape=b;this._color=c?c:"#000000";this._pattern=d;this._opacity=e};DvtCommonLegendRow.prototype.filterRow=function(){this._bHidden=!this._bHidden;this._marker.setHollow(this._color)};
DvtCommonLegendRow.prototype.isRowFiltered=function(){return this._bHidden};
DvtCommonLegendRow.prototype.render=function(a,b,c){this._prop&&(this._legend.addAttrLookup(this._prop.attributeGroupId,this._prop.itemId,this),this._legend.addAssociation(this),this._legend.addHideAttrsLookup(this._prop.hideAttrs,this));a.addChild(this);a=b.x;c&&(b.x-=this._styleMap.indicatorSize);var d;if(this._url||null!=this._shape){d=new DvtMarker(this.getCtx(),this._url?[this._url]:this._shape,this._styleMap[DvtCommonLegend.SKIN_NAME],b.x,b.y,this._styleMap.indicatorSize,this._styleMap.indicatorSize);
var e=DvtMarkerUtils.getCustomMarkerInfo(this.getCtx(),this._shape);!this._url&&!e&&(this._pattern?d.setFill(new DvtPatternFill(this._pattern,this._color)):d.setSolidFill(this._color,this._opacity));this.addChild(d);b.x=c?b.x-this._styleMap.rowColGap:b.x+this._styleMap.indicatorSize+this._styleMap.rowColGap}this._marker=d;d=new DvtRectangle;if(this._text)if(e=b.w-b.x,c&&(e=b.w-e),0>e)this._legend.getEventManager().associate(this._marker,new DvtSimpleObjPeer(this._text));else{var g;g=this._legend.isWordWrap()?
new DvtMultilineText(this.getCtx()):new DvtOutputText(this.getCtx());c&&g.alignRight();this._itemStyle&&g.setCSSStyle(new DvtCSSStyle(this._itemStyle));g.setTextString(this._text);g.setX(b.x);g.setY(b.y);DvtTextUtils.fitText(g,e,b.h,this)?(d=g.getDimensions(),g.isTruncated()&&this._legend.getEventManager().associate(g,new DvtSimpleObjPeer(this._text))):this._legend.getEventManager().associate(this._marker,new DvtSimpleObjPeer(this._text))}b.y=b.y+Math.max(this._styleMap.indicatorSize,d.h)+this._styleMap.rowColGap;
b.x=a};var DvtCommonLegendEventManager=function(a,b,c){this.Init(a,b,c);this._legend=c};DvtObj.createSubclass(DvtCommonLegendEventManager,DvtEventManager,"DvtCommonLegendEventManager");DvtCommonLegendEventManager.prototype.OnClick=function(a){DvtCommonLegendEventManager.superclass.OnClick.call(this,a);this._handleClick(a)};DvtCommonLegendEventManager.prototype.OnMouseOver=function(a){DvtCommonLegendEventManager.superclass.OnMouseOver.call(this,a);this._handleRollOver(a)};
DvtCommonLegendEventManager.prototype.OnMouseOut=function(a){DvtCommonLegendEventManager.superclass.OnMouseOut.call(this,a);this._handleRollOver(a)};DvtCommonLegendEventManager.prototype.OnComponentTouchClick=function(a){DvtCommonLegendEventManager.superclass.OnComponentTouchClick.call(this,a);this._handleClick(a)};
DvtCommonLegendEventManager.prototype._handleClick=function(a){if(this._legend.showHideEnabled()){var b=this.GetLogicalObject(a.target);b instanceof DvtCommonLegendRow&&this._clickListener(a,b)}};DvtCommonLegendEventManager.prototype._handleRollOver=function(a){if(this._legend.rollOverEnabled()){var b=this.GetLogicalObject(a.target);b instanceof DvtCommonLegendRow&&this._rollOverListener(a,b)}};
DvtCommonLegendEventManager.prototype._clickListener=function(a,b){var c=b.getItemId(),d=b.getAttributeGroup();b.filterRow();var e=b.isRowFiltered();this._legend.FireListener(new DvtListItemEvent(c,d,e?DvtListItemEvent.HIDE:DvtListItemEvent.SHOW,a))};DvtCommonLegendEventManager.prototype._rollOverListener=function(a,b){var c=b.getItemId(),d=b.getAttributeGroup(),e=b.getHideAttributes();this._legend.FireListener(new DvtLegendItemRollOverEvent(c,d,e,a.type,a))};