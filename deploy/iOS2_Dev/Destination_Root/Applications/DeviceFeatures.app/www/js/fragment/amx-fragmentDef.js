(function(a){function b(a,b,c){return c.getNamespace()!=adf.mf.internal.amx.fragment.FRAGMENT_XML_NS}var c=adf.mf.api.amx.TypeHandler.register(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"fragmentDef");c.prototype.isFlattenable=function(){return!0};c.prototype.createChildrenNodes=function(a){this._loadBundles(a)&&(this._parseDefinition(a),a.createStampedChildren(null,null,b));return!0};c.prototype.visitChildren=function(a,b,c){var h=a.getParent(),k=adf.mf.internal.amx.fragment.FragmentMetaData.getMetaData(h),
h=k.setupContext(h);try{return a.visitStampedChildren(null,null,null,b,c)}finally{k.tearDownContext(h)}};c.prototype.findPopup=function(a,b){if(null==b||0<=b.indexOf(":"))return null;var c=adf.mf.internal.amx.fragment.FragmentMetaData.getMetaData(a.getParent());if(!c.hasExportedPopup(b))return null;c=c.getExportedPopupReference(b);if(null==c){for(var c=a.getChildren(),h=0,k=c.length;h<k;++h){var m=c[h];if(m.getTag().getAttribute("id")==b)return m}return null}return a.__findPopup(c)};c.prototype._loadBundles=
function(b){var c=b.getAttribute("_bundlesLoaded"),g=b.getAttribute("_bundlesLoading");if(c)return!0;if(g)return!1;c=b.__getTagInstances(adf.mf.api.amx.AmxTag.NAMESPACE_AMX,"loadBundle");g=c.length;if(0==g)return b.setAttributeResolvedValue("_bundlesLoaded",!0),!0;b.setAttributeResolvedValue("_bundlesLoading",!0);for(var h=[],k=0;k<g;++k){var m=c[k],n=m.getAttribute("basename"),m=m.getAttribute("var"),n=amx.loadBundle(n,m);h.push(n)}b.setState(adf.mf.api.amx.AmxNodeStates.INITIAL);a.when.apply(a,
h).done(function(){b.setAttributeResolvedValue("_bundlesLoading",!1);b.setAttributeResolvedValue("_bundlesLoaded",!0);var a=new adf.mf.api.amx.AmxNodeUpdateArguments;a.setAffectedAttribute(b,"_bundlesLoaded");adf.mf.api.amx.markNodeForUpdate(a)});return!1};c.prototype._parseDefinition=function(a){var b=a.getTag().getChildren("http://xmlns.oracle.com/adf/mf/amx/fragment","fragment");if(1!=b.length)throw Error(adf.mf.resource.getInfoString("AMXErrorBundle","ERROR_FRAGMENT_DEF_NO_META_DATA"));var b=
new adf.mf.internal.amx.fragment.FragmentMetaData(b[0]),c=a.getParent();b.validateFacets(c);b.storeMetaData(c);a.setState(adf.mf.api.amx.AmxNodeStates.ABLE_TO_RENDER)}})(jQuery);